/*! For license information please see main.087383ce.js.LICENSE.txt */
!function(){var e={6630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2618);n(2007);var i=n(2791);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){o(this,e),c(this,"handlers",void 0),this.handlers=t.slice(0)}return u(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var a=this.handlers[i];-1===t.indexOf(a)&&n.push(a)}return new e(n)}}]),e}();function v(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function m(e){return Array.isArray(e)?e:[e]}function g(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===a(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var y=function(){function e(t,n){o(this,e),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return u(e,[{key:"addHandlers",value:function(t,n){var r=v(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=v(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();c(y,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new y(e,r)}));var k=function(){function e(t){var n=this;o(this,e),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return u(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,y.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),b=function(){function e(){var t=this;o(this,e),c(this,"targets",new Map),c(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=g(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new k(r);return t.targets.set(r,i),i})),c(this,"removeTarget",(function(e){t.targets.delete(g(e))}))}return u(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,s=void 0===o?"default":o;this.getTarget(a).addHandlers(s,e,m(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,s=void 0===o?"default":o,u=this.getTarget(a,!1);u&&(u.removeHandlers(s,e,m(t)),u.hasHandlers()||this.removeTarget(a))}}}]),e}(),w=new b,x=function(e){function t(){return o(this,t),d(this,f(t).apply(this,arguments))}return l(t,i.PureComponent),u(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();c(x,"defaultProps",{pool:"default",target:"document"}),x.propTypes={},t.instance=w,t.default=x},6775:function(e,t,n){"use strict";var r;r=n(6630),e.exports=r.default,e.exports.instance=r.instance},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var o=i.apply(null,n);o&&e.push(o)}else if("object"===a)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},951:function(e){"use strict";var t={single_source_shortest_paths:function(e,n,r){var i={},a={};a[n]=0;var o,s,u,c,l,f,h,d=t.PriorityQueue.make();for(d.push(n,0);!d.empty();)for(u in s=(o=d.pop()).value,c=o.cost,l=e[s]||{})l.hasOwnProperty(u)&&(f=c+l[u],h=a[u],("undefined"===typeof a[u]||h>f)&&(a[u]=f,d.push(u,f),i[u]=s));if("undefined"!==typeof r&&"undefined"===typeof a[r]){var p=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var i=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,i={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=e.sorter||r.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},8354:function(e,t,n){"use strict";var r=n(4836);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(3812));e.exports=t.default},3812:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},2910:function(e){"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},153:function(e){"use strict";e.exports=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319&&n>r+1){var a=e.charCodeAt(r+1);a>=56320&&a<=57343&&(i=1024*(i-55296)+a-56320+65536,r+=1)}i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<55296||i>=57344&&i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):i>=65536&&i<=1114111?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},2618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},7854:function(e){"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var a=i+65;n[a]=[String.fromCharCode(a+32),String.fromCharCode(a)]}var o={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],e.exports=o},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(s[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(s[o[l]]=a[o[l]])}}return s}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},741:function(e,t,n){var r=n(6887),i=n(5054),a=n(416),o=n(9413);function s(e,t,n,a,o){var s=[].slice.call(arguments,1),u=s.length,c="function"===typeof s[u-1];if(!c&&!r())throw new Error("Callback required as last argument");if(!c){if(u<1)throw new Error("Too few arguments provided");return 1===u?(n=t,t=a=void 0):2!==u||t.getContext||(a=n,n=t,t=void 0),new Promise((function(r,o){try{var s=i.create(n,a);r(e(s,t,a))}catch(u){o(u)}}))}if(u<2)throw new Error("Too few arguments provided");2===u?(o=n,n=t,t=a=void 0):3===u&&(t.getContext&&"undefined"===typeof o?(o=a,a=void 0):(o=a,a=n,n=t,t=void 0));try{var l=i.create(n,a);o(null,e(l,t,a))}catch(f){o(f)}}t.create=i.create,t.toCanvas=s.bind(null,a.render),t.toDataURL=s.bind(null,a.renderToDataURL),t.toString=s.bind(null,(function(e,t,n){return o.render(e,n)}))},6887:function(e){e.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},3234:function(e,t,n){var r=n(2338).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),a=[n-7],o=1;o<t-1;o++)a[o]=a[o-1]-i;return a.push(6),a.reverse()},t.getPositions=function(e){for(var n=[],r=t.getRowColCoords(e),i=r.length,a=0;a<i;a++)for(var o=0;o<i;o++)0===a&&0===o||0===a&&o===i-1||a===i-1&&0===o||n.push([r[a],r[o]]);return n}},8295:function(e,t,n){var r=n(1337),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(e){this.mode=r.ALPHANUMERIC,this.data=e}a.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=a},5673:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1===(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1===(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},2988:function(e){function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,n,r){var i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},639:function(e,t,n){var r=n(153),i=n(1337);function a(e){this.mode=i.BYTE,"string"===typeof e&&(e=r(e)),this.data=new Uint8Array(e)}a.getBitsLength=function(e){return 8*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=a},3180:function(e,t,n){var r=n(8955),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return a[4*(e-1)+0];case r.M:return a[4*(e-1)+1];case r.Q:return a[4*(e-1)+2];case r.H:return a[4*(e-1)+3];default:return}}},8955:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&"undefined"!==typeof e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(r){return n}}},8947:function(e,t,n){var r=n(2338).getSymbolSize;t.getPositions=function(e){var t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},7435:function(e,t,n){var r=n(2338),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var n=e.bit<<3|t,a=n<<10;r.getBCHDigit(a)-i>=0;)a^=1335<<r.getBCHDigit(a)-i;return 21522^(n<<10|a)}},1239:function(e,t){var n=new Uint8Array(512),r=new Uint8Array(256);!function(){for(var e=1,t=0;t<255;t++)n[t]=e,r[e]=t,256&(e<<=1)&&(e^=285);for(var i=255;i<512;i++)n[i]=n[i-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},8588:function(e,t,n){var r=n(1337),i=n(2338);function a(e){this.mode=r.KANJI,this.data=e}a.getBitsLength=function(e){return 13*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=a},6823:function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n=3,r=3,i=40,a=10;function o(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2===0;case t.Patterns.PATTERN001:return n%2===0;case t.Patterns.PATTERN010:return r%3===0;case t.Patterns.PATTERN011:return(n+r)%3===0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2===0;case t.Patterns.PATTERN101:return n*r%2+n*r%3===0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2===0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,r=0,i=0,a=0,o=null,s=null,u=0;u<t;u++){i=a=0,o=s=null;for(var c=0;c<t;c++){var l=e.get(u,c);l===o?i++:(i>=5&&(r+=n+(i-5)),o=l,i=1),(l=e.get(c,u))===s?a++:(a>=5&&(r+=n+(a-5)),s=l,a=1)}i>=5&&(r+=n+(i-5)),a>=5&&(r+=n+(a-5))}return r},t.getPenaltyN2=function(e){for(var t=e.size,n=0,i=0;i<t-1;i++)for(var a=0;a<t-1;a++){var o=e.get(i,a)+e.get(i,a+1)+e.get(i+1,a)+e.get(i+1,a+1);4!==o&&0!==o||n++}return n*r},t.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,a=0,o=0;o<t;o++){r=a=0;for(var s=0;s<t;s++)r=r<<1&2047|e.get(o,s),s>=10&&(1488===r||93===r)&&n++,a=a<<1&2047|e.get(s,o),s>=10&&(1488===a||93===a)&&n++}return n*i},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*a},t.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,o(e,i,r))},t.getBestMask=function(e,n){for(var r=Object.keys(t.Patterns).length,i=0,a=1/0,o=0;o<r;o++){n(o),t.applyMask(o,e);var s=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(o,e),s<a&&(a=s,i=o)}return i}},1337:function(e,t,n){var r=n(8402),i=n(8650);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(r){return n}}},320:function(e,t,n){var r=n(1337);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},9203:function(e,t,n){var r=n(1239);t.mul=function(e,t){for(var n=new Uint8Array(e.length+t.length-1),i=0;i<e.length;i++)for(var a=0;a<t.length;a++)n[i+a]^=r.mul(e[i],t[a]);return n},t.mod=function(e,t){for(var n=new Uint8Array(e);n.length-t.length>=0;){for(var i=n[0],a=0;a<t.length;a++)n[a]^=r.mul(t[a],i);for(var o=0;o<n.length&&0===n[o];)o++;n=n.slice(o)}return n},t.generateECPolynomial=function(e){for(var n=new Uint8Array([1]),i=0;i<e;i++)n=t.mul(n,new Uint8Array([1,r.exp(i)]));return n}},5054:function(e,t,n){var r=n(2338),i=n(8955),a=n(5673),o=n(2988),s=n(3234),u=n(8947),c=n(6823),l=n(3180),f=n(220),h=n(1265),d=n(7435),p=n(1337),v=n(2179);function m(e,t,n){var r,i,a=e.size,o=d.getEncodedBits(t,n);for(r=0;r<15;r++)i=1===(o>>r&1),r<6?e.set(r,8,i,!0):r<8?e.set(r+1,8,i,!0):e.set(a-15+r,8,i,!0),r<8?e.set(8,a-r-1,i,!0):r<9?e.set(8,15-r-1+1,i,!0):e.set(8,15-r-1,i,!0);e.set(a-8,8,1,!0)}function g(e,t,n){var i=new a;n.forEach((function(t){i.put(t.mode.bit,4),i.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(i)}));var o=8*(r.getSymbolTotalCodewords(e)-l.getTotalCodewordsCount(e,t));for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);for(var s=(o-i.getLengthInBits())/8,u=0;u<s;u++)i.put(u%2?17:236,8);return function(e,t,n){for(var i=r.getSymbolTotalCodewords(t),a=l.getTotalCodewordsCount(t,n),o=i-a,s=l.getBlocksCount(t,n),u=s-i%s,c=Math.floor(i/s),h=Math.floor(o/s),d=h+1,p=c-h,v=new f(p),m=0,g=new Array(s),y=new Array(s),k=0,b=new Uint8Array(e.buffer),w=0;w<s;w++){var x=w<u?h:d;g[w]=b.slice(m,m+x),y[w]=v.encode(g[w]),m+=x,k=Math.max(k,x)}var _,E,T=new Uint8Array(i),I=0;for(_=0;_<k;_++)for(E=0;E<s;E++)_<g[E].length&&(T[I++]=g[E][_]);for(_=0;_<p;_++)for(E=0;E<s;E++)T[I++]=y[E][_];return T}(i,e,t)}function y(e,t,n,i){var a;if(Array.isArray(e))a=v.fromArray(e);else{if("string"!==typeof e)throw new Error("Invalid data");var l=t;if(!l){var f=v.rawSplit(e);l=h.getBestVersionForData(f,n)}a=v.fromString(e,l||40)}var d=h.getBestVersionForData(a,n);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else t=d;var p=g(t,n,a),y=r.getSymbolSize(t),k=new o(y);return function(e,t){for(var n=e.size,r=u.getPositions(t),i=0;i<r.length;i++)for(var a=r[i][0],o=r[i][1],s=-1;s<=7;s++)if(!(a+s<=-1||n<=a+s))for(var c=-1;c<=7;c++)o+c<=-1||n<=o+c||(s>=0&&s<=6&&(0===c||6===c)||c>=0&&c<=6&&(0===s||6===s)||s>=2&&s<=4&&c>=2&&c<=4?e.set(a+s,o+c,!0,!0):e.set(a+s,o+c,!1,!0))}(k,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(k),function(e,t){for(var n=s.getPositions(t),r=0;r<n.length;r++)for(var i=n[r][0],a=n[r][1],o=-2;o<=2;o++)for(var u=-2;u<=2;u++)-2===o||2===o||-2===u||2===u||0===o&&0===u?e.set(i+o,a+u,!0,!0):e.set(i+o,a+u,!1,!0)}(k,t),m(k,n,0),t>=7&&function(e,t){for(var n,r,i,a=e.size,o=h.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+a-8-3,i=1===(o>>s&1),e.set(n,r,i,!0),e.set(r,n,i,!0)}(k,t),function(e,t){for(var n=e.size,r=-1,i=n-1,a=7,o=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var u=0;u<2;u++)if(!e.isReserved(i,s-u)){var c=!1;o<t.length&&(c=1===(t[o]>>>a&1)),e.set(i,s-u,c),-1===--a&&(o++,a=7)}if((i+=r)<0||n<=i){i-=r,r=-r;break}}}(k,p),isNaN(i)&&(i=c.getBestMask(k,m.bind(null,k,n))),c.applyMask(i,k),m(k,n,i),{modules:k,version:t,errorCorrectionLevel:n,maskPattern:i,segments:a}}t.create=function(e,t){if("undefined"===typeof e||""===e)throw new Error("No input text");var n,a,o=i.M;return"undefined"!==typeof t&&(o=i.from(t.errorCorrectionLevel,i.M),n=h.from(t.version),a=c.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),y(e,n,o,a)}},220:function(e,t,n){var r=n(9203);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new Uint8Array(e.length+this.degree);t.set(e);var n=r.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){var a=new Uint8Array(this.degree);return a.set(n,i),a}return n},e.exports=i},8650:function(e,t){var n="[0-9]+",r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var a=new RegExp("^"+r+"$"),o=new RegExp("^"+n+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return a.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return s.test(e)}},2179:function(e,t,n){var r=n(1337),i=n(320),a=n(8295),o=n(639),s=n(8588),u=n(8650),c=n(2338),l=n(951);function f(e){return unescape(encodeURIComponent(e)).length}function h(e,t,n){for(var r,i=[];null!==(r=e.exec(n));)i.push({data:r[0],index:r.index,mode:t,length:r[0].length});return i}function d(e){var t,n,i=h(u.NUMERIC,r.NUMERIC,e),a=h(u.ALPHANUMERIC,r.ALPHANUMERIC,e);return c.isKanjiModeEnabled()?(t=h(u.BYTE,r.BYTE,e),n=h(u.KANJI,r.KANJI,e)):(t=h(u.BYTE_KANJI,r.BYTE,e),n=[]),i.concat(a,t,n).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function p(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return a.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return o.getBitsLength(e)}}function v(e,t){var n,u=r.getBestModeForData(e);if((n=r.from(t,u))!==r.BYTE&&n.bit<u.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(u));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new a(e);case r.KANJI:return new s(e);case r.BYTE:return new o(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"===typeof t?e.push(v(t,null)):t.data&&e.push(v(t.data,t.mode)),e}),[])},t.fromString=function(e,n){for(var i=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:f(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:f(i.data)}])}}return t}(d(e,c.isKanjiModeEnabled())),a=function(e,t){for(var n={},i={start:{}},a=["start"],o=0;o<e.length;o++){for(var s=e[o],u=[],c=0;c<s.length;c++){var l=s[c],f=""+o+c;u.push(f),n[f]={node:l,lastCount:0},i[f]={};for(var h=0;h<a.length;h++){var d=a[h];n[d]&&n[d].node.mode===l.mode?(i[d][f]=p(n[d].lastCount+l.length,l.mode)-p(n[d].lastCount,l.mode),n[d].lastCount+=l.length):(n[d]&&(n[d].lastCount=l.length),i[d][f]=p(l.length,l.mode)+4+r.getCharCountIndicator(l.mode,t))}}a=u}for(var v=0;v<a.length;v++)i[a[v]].end=0;return{map:i,table:n}}(i,n),o=l.find_path(a.map,"start","end"),s=[],u=1;u<o.length-1;u++)s.push(a.table[o[u]].node);return t.fromArray(function(e){return e.reduce((function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(s))},t.rawSplit=function(e){return t.fromArray(d(e,c.isKanjiModeEnabled()))}},2338:function(e,t){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!==typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return"undefined"!==typeof n},t.toSJIS=function(e){return n(e)}},8402:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},1265:function(e,t,n){var r=n(2338),i=n(3180),a=n(8955),o=n(1337),s=n(8402),u=r.getBCHDigit(7973);function c(e,t){return o.getCharCountIndicator(e,t)+4}function l(e,t){var n=0;return e.forEach((function(e){var r=c(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");"undefined"===typeof n&&(n=o.BYTE);var a=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===o.MIXED)return a;var u=a-c(n,e);switch(n){case o.NUMERIC:return Math.floor(u/10*3);case o.ALPHANUMERIC:return Math.floor(u/11*2);case o.KANJI:return Math.floor(u/13);case o.BYTE:default:return Math.floor(u/8)}},t.getBestVersionForData=function(e,n){var r,i=a.from(n,a.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(var r=1;r<=40;r++)if(l(e,r)<=t.getCapacity(r,n,o.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(var i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;r.getBCHDigit(t)-u>=0;)t^=7973<<r.getBCHDigit(t)-u;return e<<12|t}},416:function(e,t,n){var r=n(3605);t.render=function(e,t,n){var i=n,a=t;"undefined"!==typeof i||t&&t.getContext||(i=t,t=void 0),t||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);var o=r.getImageWidth(e.modules.size,i),s=a.getContext("2d"),u=s.createImageData(o,o);return r.qrToImageData(u.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,a,o),s.putImageData(u,0,0),a},t.renderToDataURL=function(e,n,r){var i=r;"undefined"!==typeof i||n&&n.getContext||(i=n,n=void 0),i||(i={});var a=t.render(e,n,i),o=i.type||"image/png",s=i.rendererOpts||{};return a.toDataURL(o,s.quality)}},9413:function(e,t,n){var r=n(3605);function i(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function a(e,t,n){var r=e+t;return"undefined"!==typeof n&&(r+=" "+n),r}t.render=function(e,t,n){var o=r.getOptions(t),s=e.modules.size,u=e.modules.data,c=s+2*o.margin,l=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",f="<path "+i(o.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",i=0,o=!1,s=0,u=0;u<e.length;u++){var c=Math.floor(u%t),l=Math.floor(u/t);c||o||(o=!0),e[u]?(s++,u>0&&c>0&&e[u-1]||(r+=o?a("M",c+n,.5+l+n):a("m",i,0),i=0,o=!1),c+1<t&&e[u+1]||(r+=a("h",s),s=0)):i++}return r}(u,s,o.margin)+'"/>',h='viewBox="0 0 '+c+" "+c+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+h+' shape-rendering="crispEdges">'+l+f+"</svg>\n";return"function"===typeof n&&n(null,d),d}},3605:function(e,t){function n(e){if("number"===typeof e&&(e=e.toString()),"string"!==typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t="undefined"===typeof e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){for(var i=n.modules.size,a=n.modules.data,o=t.getScale(i,r),s=Math.floor((i+2*r.margin)*o),u=r.margin*o,c=[r.color.light,r.color.dark],l=0;l<s;l++)for(var f=0;f<s;f++){var h=4*(l*s+f),d=r.color.light;if(l>=u&&f>=u&&l<s-u&&f<s-u)d=c[a[Math.floor((l-u)/o)*i+Math.floor((f-u)/o)]?1:0];e[h++]=d.r,e[h++]=d.g,e[h++]=d.b,e[h]=d.a}}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,h={onError:function(e){u=!0,c=e}};function d(e,t,n,r,i,a,o,l,f){u=!1,c=null,s.apply(h,arguments)}var p=null,v=null,m=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,s,h,p){if(d.apply(this,arguments),u){if(!u)throw Error(o(198));var v=c;u=!1,c=null,l||(l=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;y.hasOwnProperty("ReactCurrentDispatcher")||(y.ReactCurrentDispatcher={current:null}),y.hasOwnProperty("ReactCurrentBatchConfig")||(y.ReactCurrentBatchConfig={suspense:null});var k=/^(.*)[\\\/]/,b="function"===typeof Symbol&&Symbol.for,w=b?Symbol.for("react.element"):60103,x=b?Symbol.for("react.portal"):60106,_=b?Symbol.for("react.fragment"):60107,E=b?Symbol.for("react.strict_mode"):60108,T=b?Symbol.for("react.profiler"):60114,I=b?Symbol.for("react.provider"):60109,S=b?Symbol.for("react.context"):60110,C=b?Symbol.for("react.concurrent_mode"):60111,A=b?Symbol.for("react.forward_ref"):60112,N=b?Symbol.for("react.suspense"):60113,O=b?Symbol.for("react.suspense_list"):60120,R=b?Symbol.for("react.memo"):60115,P=b?Symbol.for("react.lazy"):60116,D=b?Symbol.for("react.block"):60121,L="function"===typeof Symbol&&Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case T:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return"Context.Consumer";case I:return"Context.Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return j(e.type);case D:return j(e.render);case P:if(e=1===e._status?e._result:null)return j(e)}return null}function F(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=j(e.type);n=null,r&&(n=j(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(k,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}var U=null,V={};function B(){if(U)for(var e in V){var t=V[e],n=U.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!q[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in q[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,u=r;if(W.hasOwnProperty(u))throw Error(o(99,u));W[u]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&z(c[i],s,u);i=!0}else a.registrationName?(z(a.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function z(e,t,n){if(H[e])throw Error(o(100,e));H[e]=t,K[e]=t.eventTypes[n].dependencies}var q=[],W={},H={},K={};function G(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!V.hasOwnProperty(t)||V[t]!==r){if(V[t])throw Error(o(102,t));V[t]=r,n=!0}}n&&B()}var Q=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Y=null,J=null,X=null;function $(e){if(e=v(e)){if("function"!==typeof Y)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),Y(e.stateNode,e.type,t))}}function Z(e){J?X?X.push(e):X=[e]:J=e}function ee(){if(J){var e=J,t=X;if(X=J=null,$(e),t)for(e=0;e<t.length;e++)$(t[e])}}function te(e,t){return e(t)}function ne(e,t,n,r,i){return e(t,n,r,i)}function re(){}var ie=te,ae=!1,oe=!1;function se(){null===J&&null===X||(re(),ee())}function ue(e,t,n){if(oe)return e(t,n);oe=!0;try{return ie(e,t,n)}finally{oe=!1,se()}}var ce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,le=Object.prototype.hasOwnProperty,fe={},he={};function de(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){pe[e]=new de(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];pe[t]=new de(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){pe[e]=new de(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){pe[e]=new de(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){pe[e]=new de(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){pe[e]=new de(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){pe[e]=new de(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){pe[e]=new de(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){pe[e]=new de(e,5,!1,e.toLowerCase(),null,!1)}));var ve=/[\-:]([a-z])/g;function me(e){return e[1].toUpperCase()}function ge(e,t,n,r){var i=pe.hasOwnProperty(t)?pe[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!le.call(he,e)||!le.call(fe,e)&&(ce.test(e)?he[e]=!0:(fe[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ke(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=ke(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ke(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&ge(e,"checked",t,!1)}function Te(e,t){Ee(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Se(e,t.type,n):t.hasOwnProperty("defaultValue")&&Se(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Se(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Re(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(ve,me);pe[t]=new de(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(ve,me);pe[t]=new de(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(ve,me);pe[t]=new de(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){pe[e]=new de(e,1,!1,e.toLowerCase(),null,!1)})),pe.xlinkHref=new de("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){pe[e]=new de(e,1,!1,e.toLowerCase(),null,!0)}));var De="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ue,Ve=(Ue=function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ue(e,t)}))}:Ue);function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},We={},He={};function Ke(e){if(We[e])return We[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return We[e]=n[t];return e}Q&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ge=Ke("animationend"),Qe=Ke("animationiteration"),Ye=Ke("animationstart"),Je=Ke("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$e=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=$e.get(e);return void 0===t&&(t=new Map,$e.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,st),ot)throw Error(o(95));if(l)throw e=f,l=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!Q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function dt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Pn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,u=0;u<q.length;u++){var c=q[u];c&&(c=c.extractEvents(r,t,a,i,o))&&(s=it(s,c))}ut(s)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var mt,gt,yt,kt=!1,bt=[],wt=null,xt=null,_t=null,Et=new Map,Tt=new Map,It=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Nt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=At(t,n,r,i,a),null!==t&&(null!==(t=Dn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Rt(e){var t=Pn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Dn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Pt(e)&&n.delete(t)}function Lt(){for(kt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Dn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Pt(wt)&&(wt=null),null!==xt&&Pt(xt)&&(xt=null),null!==_t&&Pt(_t)&&(_t=null),Et.forEach(Dt),Tt.forEach(Dt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lt)))}function jt(e){function t(t){return Mt(t,e)}if(0<bt.length){Mt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Mt(wt,e),null!==xt&&Mt(xt,e),null!==_t&&Mt(_t,e),Et.forEach(t),Tt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Rt(n),null===n.blockedOn&&It.shift()}var Ft={},Ut=new Map,Vt=new Map,Bt=["abort","abort",Ge,"animationEnd",Qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Je,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Vt.set(r,t),Ut.set(r,a),Ft[i]=a}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Bt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<qt.length;Wt++)Vt.set(qt[Wt],0);var Ht=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Gt=!0;function Qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Vt.get(t);switch(void 0===r?2:r){case 0:r=Jt.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=$t.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Jt(e,t,n,r){ae||re();var i=$t,a=ae;ae=!0;try{ne(i,e,t,n,r)}finally{(ae=a)||se()}}function Xt(e,t,n,r){Kt(Ht,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){if(Gt)if(0<bt.length&&-1<St.indexOf(e))e=At(null,e,t,n,r),bt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Nt(e,r);else if(-1<St.indexOf(e))e=At(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Ot(wt,e,t,n,r,i),!0;case"dragenter":return xt=Ot(xt,e,t,n,r,i),!0;case"mouseover":return _t=Ot(_t,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Et.set(a,Ot(Et.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Tt.set(a,Ot(Tt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Nt(e,r),e=dt(e,r,null,t);try{ue(pt,e)}finally{ht(e)}}}}function Zt(e,t,n,r){if(null!==(n=Pn(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{ue(pt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=De;function cn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=K[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function ln(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn="$",yn="/$",kn="$?",bn="$!",wn=null,xn=null;function _n(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function En(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Tn="function"===typeof setTimeout?setTimeout:void 0,In="function"===typeof clearTimeout?clearTimeout:void 0;function Sn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Cn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===gn||n===bn||n===kn){if(0===t)return e;t--}else n===yn&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),Nn="__reactInternalInstance$"+An,On="__reactEventHandlers$"+An,Rn="__reactContainere$"+An;function Pn(e){var t=e[Nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rn]||n[Nn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Cn(e);null!==e;){if(n=e[Nn])return n;e=Cn(e)}return t}n=(e=n).parentNode}return null}function Dn(e){return!(e=e[Nn]||e[Rn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ln(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Mn(e){return e[On]||null}function jn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Fn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Un(e,t,n){(t=Fn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=jn(t);for(t=n.length;0<t--;)Un(n[t],"captured",e);for(t=0;t<n.length;t++)Un(n[t],"bubbled",e)}}function Bn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Fn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function zn(e){e&&e.dispatchConfig.registrationName&&Bn(e._targetInst,null,e)}function qn(e){at(e,Vn)}var Wn=null,Hn=null,Kn=null;function Gn(){if(Kn)return Kn;var e,t,n=Hn,r=n.length,i="value"in Wn?Wn.value:Wn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Kn=i.slice(e,1<t?1-t:void 0)}function Qn(){return!0}function Yn(){return!1}function Jn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qn:Yn,this.isPropagationStopped=Yn,this}function Xn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function $n(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Zn(e){e.eventPool=[],e.getPooled=Xn,e.release=$n}i(Jn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){this.isPersistent=Qn},isPersistent:Yn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Yn,this._dispatchInstances=this._dispatchListeners=null}}),Jn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Jn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Zn(n),n},Zn(Jn);var er=Jn.extend({data:null}),tr=Jn.extend({data:null}),nr=[9,13,27,32],rr=Q&&"CompositionEvent"in window,ir=null;Q&&"documentMode"in document&&(ir=document.documentMode);var ar=Q&&"TextEvent"in window&&!ir,or=Q&&(!rr||ir&&8<ir&&11>=ir),sr=String.fromCharCode(32),ur={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},cr=!1;function lr(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var hr=!1;var dr={eventTypes:ur,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var a=ur.compositionStart;break e;case"compositionend":a=ur.compositionEnd;break e;case"compositionupdate":a=ur.compositionUpdate;break e}a=void 0}else hr?lr(e,n)&&(a=ur.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=ur.compositionStart);return a?(or&&"ko"!==n.locale&&(hr||a!==ur.compositionStart?a===ur.compositionEnd&&hr&&(i=Gn()):(Hn="value"in(Wn=r)?Wn.value:Wn.textContent,hr=!0)),a=er.getPooled(a,t,n,r),i?a.data=i:null!==(i=fr(n))&&(a.data=i),qn(a),i=a):i=null,(e=ar?function(e,t){switch(e){case"compositionend":return fr(t);case"keypress":return 32!==t.which?null:(cr=!0,sr);case"textInput":return(e=t.data)===sr&&cr?null:e;default:return null}}(e,n):function(e,t){if(hr)return"compositionend"===e||!rr&&lr(e,t)?(e=Gn(),Kn=Hn=Wn=null,hr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return or&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(ur.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function gr(e,t,n){return(e=Jn.getPooled(mr.change,e,t,n)).type="change",Z(n),qn(e),e}var yr=null,kr=null;function br(e){ut(e)}function wr(e){if(we(Ln(e)))return e}function xr(e,t){if("change"===e)return t}var _r=!1;function Er(){yr&&(yr.detachEvent("onpropertychange",Tr),kr=yr=null)}function Tr(e){if("value"===e.propertyName&&wr(kr))if(e=gr(kr,e,ct(e)),ae)ut(e);else{ae=!0;try{te(br,e)}finally{ae=!1,se()}}}function Ir(e,t,n){"focus"===e?(Er(),kr=n,(yr=t).attachEvent("onpropertychange",Tr)):"blur"===e&&Er()}function Sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return wr(kr)}function Cr(e,t){if("click"===e)return wr(t)}function Ar(e,t){if("input"===e||"change"===e)return wr(t)}Q&&(_r=lt("input")&&(!document.documentMode||9<document.documentMode));var Nr={eventTypes:mr,_isInputEventSupported:_r,extractEvents:function(e,t,n,r){var i=t?Ln(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=xr;else if(vr(i))if(_r)o=Ar;else{o=Sr;var s=Ir}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Cr);if(o&&(o=o(e,t)))return gr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Se(i,"number",i.value)}},Or=Jn.extend({view:null,detail:null}),Rr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rr[e])&&!!t[e]}function Dr(){return Pr}var Lr=0,Mr=0,jr=!1,Fr=!1,Ur=Or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Dr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Lr;return Lr=e.screenX,jr?"mousemove"===e.type?e.screenX-t:0:(jr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Fr?"mousemove"===e.type?e.screenY-t:0:(Fr=!0,0)}}),Vr=Ur.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Br={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zr={eventTypes:Br,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Pn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Ur,u=Br.mouseLeave,c=Br.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Vr,u=Br.pointerLeave,c=Br.pointerEnter,l="pointer");if(e=null==o?a:Ln(o),a=null==t?a:Ln(t),(u=s.getPooled(u,o,n,r)).type=l+"leave",u.target=e,u.relatedTarget=a,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(c=l,o=0,e=s=r;e;e=jn(e))o++;for(e=0,t=c;t;t=jn(t))e++;for(;0<o-e;)s=jn(s),o--;for(;0<e-o;)c=jn(c),e--;for(;o--;){if(s===c||s===c.alternate)break e;s=jn(s),c=jn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)s.push(r),r=jn(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=jn(l);for(l=0;l<s.length;l++)Bn(s[l],"bubbled",u);for(l=r.length;0<l--;)Bn(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Wr=Object.prototype.hasOwnProperty;function Hr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Wr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Kr=Q&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,Yr=null,Jr=null,Xr=!1;function $r(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Xr||null==Qr||Qr!==fn(n)?null:("selectionStart"in(n=Qr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Jr&&Hr(Jr,n)?null:(Jr=n,(e=Jn.getPooled(Gr.select,Yr,e,t)).type="select",e.target=Qr,qn(e),e))}var Zr={eventTypes:Gr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),a=K.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Ln(t):window,e){case"focus":(vr(i)||"true"===i.contentEditable)&&(Qr=i,Yr=t,Jr=null);break;case"blur":Jr=Yr=Qr=null;break;case"mousedown":Xr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Xr=!1,$r(n,r);case"selectionchange":if(Kr)break;case"keydown":case"keyup":return $r(n,r)}return null}},ei=Jn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Jn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Or.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi=Or.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ai[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Dr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),si=Ur.extend({dataTransfer:null}),ui=Or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Dr}),ci=Jn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),li=Ur.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),fi={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=Ut.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=oi;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=si;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ui;break;case Ge:case Qe:case Ye:e=ei;break;case Je:e=ci;break;case"scroll":e=Or;break;case"wheel":e=li;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Vr;break;default:e=Jn}return qn(t=e.getPooled(i,t,n,r)),t}};if(U)throw Error(o(101));U=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),B(),p=Mn,v=Dn,m=Ln,G({SimpleEventPlugin:fi,EnterLeaveEventPlugin:zr,ChangeEventPlugin:Nr,SelectEventPlugin:Zr,BeforeInputEventPlugin:dr});var hi=[],di=-1;function pi(e){0>di||(e.current=hi[di],hi[di]=null,di--)}function vi(e,t){di++,hi[di]=e.current,e.current=t}var mi={},gi={current:mi},yi={current:!1},ki=mi;function bi(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function wi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function xi(){pi(yi),pi(gi)}function _i(e,t,n){if(gi.current!==mi)throw Error(o(168));vi(gi,t),vi(yi,n)}function Ei(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,j(t)||"Unknown",a));return i({},n,{},r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,ki=gi.current,vi(gi,e),vi(yi,yi.current),!0}function Ii(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ei(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,pi(yi),pi(gi),vi(gi,e)):pi(yi),vi(yi,n)}var Si=a.unstable_runWithPriority,Ci=a.unstable_scheduleCallback,Ai=a.unstable_cancelCallback,Ni=a.unstable_requestPaint,Oi=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Li=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,ji=a.unstable_IdlePriority,Fi={},Ui=a.unstable_shouldYield,Vi=void 0!==Ni?Ni:function(){},Bi=null,zi=null,qi=!1,Wi=Oi(),Hi=1e4>Wi?Oi:function(){return Oi()-Wi};function Ki(){switch(Ri()){case Pi:return 99;case Di:return 98;case Li:return 97;case Mi:return 96;case ji:return 95;default:throw Error(o(332))}}function Gi(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Li;case 96:return Mi;case 95:return ji;default:throw Error(o(332))}}function Qi(e,t){return e=Gi(e),Si(e,t)}function Yi(e,t,n){return e=Gi(e),Ci(e,t,n)}function Ji(e){return null===Bi?(Bi=[e],zi=Ci(Pi,$i)):Bi.push(e),Fi}function Xi(){if(null!==zi){var e=zi;zi=null,Ai(e)}$i()}function $i(){if(!qi&&null!==Bi){qi=!0;var e=0;try{var t=Bi;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(n){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ci(Pi,Xi),n}finally{qi=!1}}}function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function ea(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ta={current:null},na=null,ra=null,ia=null;function aa(){ia=ra=na=null}function oa(e){var t=ta.current;pi(ta),e.type._context._currentValue=t}function sa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ua(e,t){na=e,ia=ra=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Mo=!0),e.firstContext=null)}function ca(e,t){if(ia!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ia=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ra){if(null===na)throw Error(o(308));ra=t,na.dependencies={expirationTime:0,firstContext:t,responders:null}}else ra=ra.next=t;return e._currentValue}var la=!1;function fa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ha(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function da(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function pa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function va(e,t){var n=e.alternate;null!==n&&ha(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ma(e,t,n,r){var a=e.updateQueue;la=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,a.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==o){u=o.next;var c=a.baseState,l=0,f=null,h=null,d=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=c):d=d.next=v,s>l&&(l=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),xu(s,p.suspenseConfig);e:{var m=e,g=p;switch(s=t,v=n,g.tag){case 1:if("function"===typeof(m=g.payload)){c=m.call(v,c,s);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=g.payload)?m.call(v,c,s):m)||void 0===s)break e;c=i({},c,s);break e;case 2:la=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=a.shared.pending))break;p=o.next=s.next,s.next=u,a.baseQueue=o=s,a.shared.pending=null}}null===d?f=c:d.next=h,a.baseState=f,a.baseQueue=d,_u(l),e.expirationTime=l,e.memoizedState=c}}function ga(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ya=y.ReactCurrentBatchConfig,ka=(new r.Component).refs;function ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var wa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=cu(),i=ya.suspense;(i=da(r=lu(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),fu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=cu(),i=ya.suspense;(i=da(r=lu(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),fu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=cu(),r=ya.suspense;(r=da(n=lu(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),pa(e,r),fu(e,n)}};function xa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Hr(n,r)||!Hr(i,a))}function _a(e,t,n){var r=!1,i=mi,a=t.contextType;return"object"===typeof a&&null!==a?a=ca(a):(i=wi(t)?ki:gi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?bi(e,i):mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wa,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ea(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function Ta(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ka,fa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ca(a):(a=wi(t)?ki:gi.current,i.context=bi(e,a)),ma(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ba(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wa.enqueueReplaceState(i,i.state,null),ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ia=Array.isArray;function Sa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ka&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ca(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Aa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Sa(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=Sa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Hu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ku(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=Sa(e,null,t),n.return=e,n;case x:return(t=Gu(t,e.mode,n)).return=e,t}if(Ia(t)||M(t))return(t=Hu(t,e.mode,n,null)).return=e,t;Ca(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(Ia(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ca(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ia(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ca(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case w:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Sa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Hu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Wu(a.type,a.key,a.props,null,e.mode,u)).ref=Sa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ku(a,e.mode,u)).return=e,e=r),s(e);if(Ia(a))return v(e,r,a,u);if(M(a))return m(e,r,a,u);if(l&&Ca(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Na=Aa(!0),Oa=Aa(!1),Ra={},Pa={current:Ra},Da={current:Ra},La={current:Ra};function Ma(e){if(e===Ra)throw Error(o(174));return e}function ja(e,t){switch(vi(La,t),vi(Da,e),vi(Pa,Ra),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(Pa),vi(Pa,t)}function Fa(){pi(Pa),pi(Da),pi(La)}function Ua(e){Ma(La.current);var t=Ma(Pa.current),n=je(t,e.type);t!==n&&(vi(Da,e),vi(Pa,n))}function Va(e){Da.current===e&&(pi(Pa),pi(Da))}var Ba={current:0};function za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===kn||n.data===bn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qa(e,t){return{responder:e,props:t}}var Wa=y.ReactCurrentDispatcher,Ha=y.ReactCurrentBatchConfig,Ka=0,Ga=null,Qa=null,Ya=null,Ja=!1;function Xa(){throw Error(o(321))}function $a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function Za(e,t,n,r,i,a){if(Ka=a,Ga=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Wa.current=null===e||null===e.memoizedState?_o:Eo,e=n(r,i),t.expirationTime===Ka){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Ya=Qa=null,t.updateQueue=null,Wa.current=To,e=n(r,i)}while(t.expirationTime===Ka)}if(Wa.current=xo,t=null!==Qa&&null!==Qa.next,Ka=0,Ya=Qa=Ga=null,Ja=!1,t)throw Error(o(300));return e}function eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ya?Ga.memoizedState=Ya=e:Ya=Ya.next=e,Ya}function to(){if(null===Qa){var e=Ga.alternate;e=null!==e?e.memoizedState:null}else e=Qa.next;var t=null===Ya?Ga.memoizedState:Ya.next;if(null!==t)Ya=t,Qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qa=e).memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},null===Ya?Ga.memoizedState=Ya=e:Ya=Ya.next=e}return Ya}function no(e,t){return"function"===typeof t?t(e):t}function ro(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.expirationTime;if(l<Ka){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,l>Ga.expirationTime&&(Ga.expirationTime=l,_u(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),xu(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,qr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function io(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);qr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ao(e){var t=eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:e}).dispatch=wo.bind(null,Ga,e),[t.memoizedState,e]}function oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ga.updateQueue)?(t={lastEffect:null},Ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function so(){return to().memoizedState}function uo(e,t,n,r){var i=eo();Ga.effectTag|=e,i.memoizedState=oo(1|t,n,void 0,void 0===r?null:r)}function co(e,t,n,r){var i=to();r=void 0===r?null:r;var a=void 0;if(null!==Qa){var o=Qa.memoizedState;if(a=o.destroy,null!==r&&$a(r,o.deps))return void oo(t,n,a,r)}Ga.effectTag|=e,i.memoizedState=oo(1|t,n,a,r)}function lo(e,t){return uo(516,4,e,t)}function fo(e,t){return co(516,4,e,t)}function ho(e,t){return co(4,2,e,t)}function po(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,co(4,2,po.bind(null,t,e),n)}function mo(){}function go(e,t){return eo().memoizedState=[e,void 0===t?null:t],e}function yo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ko(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bo(e,t,n){var r=Ki();Qi(98>r?98:r,(function(){e(!0)})),Qi(97<r?97:r,(function(){var r=Ha.suspense;Ha.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ha.suspense=r}}))}function wo(e,t,n){var r=cu(),i=ya.suspense;i={expirationTime:r=lu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ga||null!==a&&a===Ga)Ja=!0,i.expirationTime=Ka,Ga.expirationTime=Ka;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,qr(s,o))return}catch(u){}fu(e,r)}}var xo={readContext:ca,useCallback:Xa,useContext:Xa,useEffect:Xa,useImperativeHandle:Xa,useLayoutEffect:Xa,useMemo:Xa,useReducer:Xa,useRef:Xa,useState:Xa,useDebugValue:Xa,useResponder:Xa,useDeferredValue:Xa,useTransition:Xa},_o={readContext:ca,useCallback:go,useContext:ca,useEffect:lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,uo(4,2,po.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uo(4,2,e,t)},useMemo:function(e,t){var n=eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=wo.bind(null,Ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},eo().memoizedState=e},useState:ao,useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=ao(e),r=n[0],i=n[1];return lo((function(){var n=Ha.suspense;Ha.suspense=void 0===t?null:t;try{i(e)}finally{Ha.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ao(!1),n=t[0];return t=t[1],[go(bo.bind(null,t,e),[t,e]),n]}},Eo={readContext:ca,useCallback:yo,useContext:ca,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:ho,useMemo:ko,useReducer:ro,useRef:so,useState:function(){return ro(no)},useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=ro(no),r=n[0],i=n[1];return fo((function(){var n=Ha.suspense;Ha.suspense=void 0===t?null:t;try{i(e)}finally{Ha.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(no),n=t[0];return t=t[1],[yo(bo.bind(null,t,e),[t,e]),n]}},To={readContext:ca,useCallback:yo,useContext:ca,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:ho,useMemo:ko,useReducer:io,useRef:so,useState:function(){return io(no)},useDebugValue:mo,useResponder:qa,useDeferredValue:function(e,t){var n=io(no),r=n[0],i=n[1];return fo((function(){var n=Ha.suspense;Ha.suspense=void 0===t?null:t;try{i(e)}finally{Ha.suspense=n}}),[e,t]),r},useTransition:function(e){var t=io(no),n=t[0];return t=t[1],[yo(bo.bind(null,t,e),[t,e]),n]}},Io=null,So=null,Co=!1;function Ao(e,t){var n=Bu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function No(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Oo(e){if(Co){var t=So;if(t){var n=t;if(!No(e,t)){if(!(t=Sn(n.nextSibling))||!No(e,t))return e.effectTag=-1025&e.effectTag|2,Co=!1,void(Io=e);Ao(Io,n)}Io=e,So=Sn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Co=!1,Io=e}}function Ro(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Io=e}function Po(e){if(e!==Io)return!1;if(!Co)return Ro(e),Co=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!En(t,e.memoizedProps))for(t=So;t;)Ao(e,t),t=Sn(t.nextSibling);if(Ro(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn){if(0===t){So=Sn(e.nextSibling);break e}t--}else n!==gn&&n!==bn&&n!==kn||t++}e=e.nextSibling}So=null}}else So=Io?Sn(e.stateNode.nextSibling):null;return!0}function Do(){So=Io=null,Co=!1}var Lo=y.ReactCurrentOwner,Mo=!1;function jo(e,t,n,r){t.child=null===e?Oa(t,null,n,r):Na(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return ua(t,i),r=Za(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||zu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Hr)(i,r)&&e.ref===t.ref)?ts(e,t,a):(t.effectTag|=1,(e=qu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){return null!==e&&Hr(e.memoizedProps,r)&&e.ref===t.ref&&(Mo=!1,i<a)?(t.expirationTime=e.expirationTime,ts(e,t,a)):zo(e,t,n,r,a)}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function zo(e,t,n,r,i){var a=wi(n)?ki:gi.current;return a=bi(t,a),ua(t,i),n=Za(e,t,n,r,a,i),null===e||Mo?(t.effectTag|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function qo(e,t,n,r,i){if(wi(n)){var a=!0;Ti(t)}else a=!1;if(ua(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),_a(t,n,r),Ta(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ca(c):c=bi(t,c=wi(n)?ki:gi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ea(t,o,r,c),la=!1;var h=t.memoizedState;o.state=h,ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||yi.current||la?("function"===typeof l&&(ba(t,n,l,r),u=t.memoizedState),(s=la||xa(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,ha(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:ea(t.type,s),u=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ca(c):c=bi(t,c=wi(n)?ki:gi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ea(t,o,r,c),la=!1,u=t.memoizedState,o.state=u,ma(t,r,o,i),h=t.memoizedState,s!==r||u!==h||yi.current||la?("function"===typeof l&&(ba(t,n,l,r),h=t.memoizedState),(l=la||xa(t,n,s,r,u,h,c))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Ii(t,n,!1),ts(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Na(t,e.child,null,a),t.child=Na(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&Ii(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?_i(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(0,t.context,!1),ja(e,t.containerInfo)}var Ko,Go,Qo,Yo,Jo={dehydrated:null,retryTime:0};function Xo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Ba.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),vi(Ba,1&o),null===e){if(void 0!==a.fallback&&Oo(t),s){if(s=a.fallback,(a=Hu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Hu(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Jo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Oa(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=qu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=qu(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Jo,t.child=n,i}return n=Na(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Hu(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Hu(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Jo,t.child=a,n}return t.memoizedState=null,t.child=Na(t,e,a.children,n)}function $o(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),sa(e.return,t)}function Zo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function es(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Ba.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,n);else if(19===e.tag)$o(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vi(Ba,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,a,t.lastEffect);break;case"together":Zo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ts(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&_u(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ns(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return wi(t.type)&&xi(),null;case 3:return Fa(),pi(yi),pi(gi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Po(t)||(t.effectTag|=4),Go(t),null;case 5:Va(t),n=Ma(La.current);var a=t.type;if(null!==e&&null!=t.stateNode)Qo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ma(Pa.current),Po(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[Nn]=t,r[On]=s,a){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Qt(Xe[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":_e(r,s),Qt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qt("invalid",r),cn(n,"onChange");break;case"textarea":Oe(r,s),Qt("invalid",r),cn(n,"onChange")}for(var u in on(a,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):H.hasOwnProperty(u)&&null!=c&&cn(n,u)}switch(a){case"input":be(r),Ie(r,s,!0);break;case"textarea":be(r),Pe(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===un&&(e=Me(a)),e===un?"script"===a?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(a,{is:r.is}):(e=u.createElement(a),"select"===a&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,a),e[Nn]=t,e[On]=r,Ko(e,t,!1,!1),t.stateNode=e,u=sn(a,r),a){case"iframe":case"object":case"embed":Qt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Xe.length;c++)Qt(Xe[c],e);c=r;break;case"source":Qt("error",e),c=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),c=r;break;case"form":Qt("reset",e),Qt("submit",e),c=r;break;case"details":Qt("toggle",e),c=r;break;case"input":_e(e,r),c=xe(e,r),Qt("invalid",e),cn(n,"onChange");break;case"option":c=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Qt("invalid",e),cn(n,"onChange");break;case"textarea":Oe(e,r),c=Ne(e,r),Qt("invalid",e),cn(n,"onChange");break;default:c=r}on(a,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?rn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Ve(e,f):"children"===s?"string"===typeof f?("textarea"!==a||""!==f)&&Be(e,f):"number"===typeof f&&Be(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(H.hasOwnProperty(s)?null!=f&&cn(n,s):null!=f&&ge(e,s,f,u))}switch(a){case"input":be(e),Ie(e,r,!1);break;case"textarea":be(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ln)}_n(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ma(La.current),Ma(Pa.current),Po(t)?(n=t.stateNode,r=t.memoizedProps,n[Nn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Nn]=t,t.stateNode=n)}return null;case 13:return pi(Ba),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Po(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ba.current)?qs===Ps&&(qs=Ms):(qs!==Ps&&qs!==Ms||(qs=js),0!==Qs&&null!==Vs&&(Ju(Vs,zs),Xu(Vs,Qs)))),(n||r)&&(t.effectTag|=4),null);case 4:return Fa(),Go(t),null;case 10:return oa(t),null;case 19:if(pi(Ba),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)ns(r,!1);else if(qs!==Ps||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=za(s))){for(t.effectTag|=64,ns(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return vi(Ba,1&Ba.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=za(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),ns(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,ns(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Hi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=Ba.current,vi(Ba,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function is(e){switch(e.tag){case 1:wi(e.type)&&xi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fa(),pi(yi),pi(gi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Va(e),null;case 13:return pi(Ba),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(Ba),null;case 4:return Fa(),null;case 10:return oa(e),null;default:return null}}function as(e,t){return{value:e,source:t,stack:F(t)}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(){},Qo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,u,c=t.stateNode;switch(Ma(Pa.current),e=null,n){case"input":o=xe(c,o),r=xe(c,r),e=[];break;case"option":o=Ce(c,o),r=Ce(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ne(c,o),r=Ne(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=ln)}for(s in on(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in c=o[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(H.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(H.hasOwnProperty(s)?(null!=l&&cn(a,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Yo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var os="function"===typeof WeakSet?WeakSet:Set;function ss(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=F(n)),null!==n&&j(n.type),t=t.value,null!==e&&1===e.tag&&j(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function us(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Lu(e,n)}else t.current=null}function cs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ea(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function ls(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function fs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void fs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:ea(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ga(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ga(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&_n(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&jt(n)))))}throw Error(o(163))}function ds(e,t,n){switch("function"===typeof Uu&&Uu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Lu(i,a)}}e=e.next}while(e!==r)}))}break;case 1:us(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Lu(e,n)}}(t,n);break;case 5:us(t);break;case 4:ks(e,t,n)}}function ps(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ps(t)}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ms(e){e:{for(var t=e.return;null!==t;){if(vs(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?gs(e,n,t):ys(e,n,t)}function gs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function ks(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,c=a,l=n,f=c;;)if(ds(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=a.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ds(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function bs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ls(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[On]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ee(n,r),sn(e,i),t=sn(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?rn(n,u):"dangerouslySetInnerHTML"===s?Ve(n,u):"children"===s?Be(n,u):ge(n,s,u,t)}switch(e){case"input":Te(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,jt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Js=Hi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ws(t);case 19:return void ws(t)}throw Error(o(163))}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new os),t.forEach((function(t){var r=ju.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var xs="function"===typeof WeakMap?WeakMap:Map;function _s(e,t,n){(n=da(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,eu=r),ss(e,t)},n}function Es(e,t,n){(n=da(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tu?tu=new Set([this]):tu.add(this),ss(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ts,Is=Math.ceil,Ss=y.ReactCurrentDispatcher,Cs=y.ReactCurrentOwner,As=0,Ns=8,Os=16,Rs=32,Ps=0,Ds=1,Ls=2,Ms=3,js=4,Fs=5,Us=As,Vs=null,Bs=null,zs=0,qs=Ps,Ws=null,Hs=1073741823,Ks=1073741823,Gs=null,Qs=0,Ys=!1,Js=0,Xs=500,$s=null,Zs=!1,eu=null,tu=null,nu=!1,ru=null,iu=90,au=null,ou=0,su=null,uu=0;function cu(){return(Us&(Os|Rs))!==As?1073741821-(Hi()/10|0):0!==uu?uu:uu=1073741821-(Hi()/10|0)}function lu(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Ki();if(0===(4&t))return 99===r?1073741823:1073741822;if((Us&Os)!==As)return zs;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Vs&&e===zs&&--e,e}function fu(e,t){if(50<ou)throw ou=0,su=null,Error(o(185));if(null!==(e=hu(e,t))){var n=Ki();1073741823===t?(Us&Ns)!==As&&(Us&(Os|Rs))===As?mu(e):(pu(e),Us===As&&Xi()):pu(e),(4&Us)===As||98!==n&&99!==n||(null===au?au=new Map([[e,t]]):(void 0===(n=au.get(e))||n>t)&&au.set(e,t))}}function hu(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Vs===i&&(_u(t),qs===js&&Ju(i,zs)),Xu(i,t)),i}function du(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Yu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function pu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ji(mu.bind(null,e));else{var t=du(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=cu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Fi&&Ai(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ji(mu.bind(null,e)):Yi(r,vu.bind(null,e),{timeout:10*(1073741821-t)-Hi()}),e.callbackNode=t}}}function vu(e,t){if(uu=0,t)return $u(e,t=cu()),pu(e),null;var n=du(e);if(0!==n){if(t=e.callbackNode,(Us&(Os|Rs))!==As)throw Error(o(327));if(Ru(),e===Vs&&n===zs||ku(e,n),null!==Bs){var r=Us;Us|=Os;for(var i=wu();;)try{Tu();break}catch(u){bu(e,u)}if(aa(),Us=r,Ss.current=i,qs===Ds)throw t=Ws,ku(e,n),Ju(e,n),pu(e),t;if(null===Bs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=qs,Vs=null,r){case Ps:case Ds:throw Error(o(345));case Ls:$u(e,2<n?2:n);break;case Ms:if(Ju(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cu(i)),1073741823===Hs&&10<(i=Js+Xs-Hi())){if(Ys){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,ku(e,n);break}}if(0!==(a=du(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Tn(Au.bind(null,e),i);break}Au(e);break;case js:if(Ju(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Cu(i)),Ys&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,ku(e,n);break}if(0!==(i=du(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ks?r=10*(1073741821-Ks)-Hi():1073741823===Hs?r=0:(r=10*(1073741821-Hs)-5e3,0>(r=(i=Hi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Tn(Au.bind(null,e),r);break}Au(e);break;case Fs:if(1073741823!==Hs&&null!==Gs){a=Hs;var s=Gs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Hi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Ju(e,n),e.timeoutHandle=Tn(Au.bind(null,e),r);break}}Au(e);break;default:throw Error(o(329))}if(pu(e),e.callbackNode===t)return vu.bind(null,e)}}return null}function mu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Us&(Os|Rs))!==As)throw Error(o(327));if(Ru(),e===Vs&&t===zs||ku(e,t),null!==Bs){var n=Us;Us|=Os;for(var r=wu();;)try{Eu();break}catch(i){bu(e,i)}if(aa(),Us=n,Ss.current=r,qs===Ds)throw n=Ws,ku(e,t),Ju(e,t),pu(e),n;if(null!==Bs)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Vs=null,Au(e),pu(e)}return null}function gu(e,t){var n=Us;Us|=1;try{return e(t)}finally{(Us=n)===As&&Xi()}}function yu(e,t){var n=Us;Us&=-2,Us|=Ns;try{return e(t)}finally{(Us=n)===As&&Xi()}}function ku(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,In(n)),null!==Bs)for(n=Bs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&xi();break;case 3:Fa(),pi(yi),pi(gi);break;case 5:Va(r);break;case 4:Fa();break;case 13:case 19:pi(Ba);break;case 10:oa(r)}n=n.return}Vs=e,Bs=qu(e.current,null),zs=t,qs=Ps,Ws=null,Ks=Hs=1073741823,Gs=null,Qs=0,Ys=!1}function bu(e,t){for(;;){try{if(aa(),Wa.current=xo,Ja)for(var n=Ga.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ka=0,Ya=Qa=Ga=null,Ja=!1,null===Bs||null===Bs.return)return qs=Ds,Ws=t,Bs=null;e:{var i=e,a=Bs.return,o=Bs,s=t;if(t=zs,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&o.mode)){var c=o.alternate;c?(o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):o.memoizedState=null}var l=0!==(1&Ba.current),f=a;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var m=new Set;m.add(u),f.updateQueue=m}else v.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=da(1073741823,null);g.tag=2,pa(o,g)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new xs,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(o)){s.add(o);var k=Mu.bind(null,i,u,o);u.then(k,k)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((j(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+F(o))}qs!==Fs&&(qs=Ls),s=as(s,o),f=a;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,va(f,_s(f,u,t));break e;case 1:u=s;var b=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===tu||!tu.has(w)))){f.effectTag|=4096,f.expirationTime=t,va(f,Es(f,u,t));break e}}f=f.return}while(null!==f)}Bs=Su(Bs)}catch(x){t=x;continue}break}}function wu(){var e=Ss.current;return Ss.current=xo,null===e?xo:e}function xu(e,t){e<Hs&&2<e&&(Hs=e),null!==t&&e<Ks&&2<e&&(Ks=e,Gs=t)}function _u(e){e>Qs&&(Qs=e)}function Eu(){for(;null!==Bs;)Bs=Iu(Bs)}function Tu(){for(;null!==Bs&&!Ui();)Bs=Iu(Bs)}function Iu(e){var t=Ts(e.alternate,e,zs);return e.memoizedProps=e.pendingProps,null===t&&(t=Su(e)),Cs.current=null,t}function Su(e){Bs=e;do{var t=Bs.alternate;if(e=Bs.return,0===(2048&Bs.effectTag)){if(t=rs(t,Bs,zs),1===zs||1!==Bs.childExpirationTime){for(var n=0,r=Bs.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Bs.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Bs.firstEffect),null!==Bs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Bs.firstEffect),e.lastEffect=Bs.lastEffect),1<Bs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Bs:e.firstEffect=Bs,e.lastEffect=Bs))}else{if(null!==(t=is(Bs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Bs.sibling))return t;Bs=e}while(null!==Bs);return qs===Ps&&(qs=Fs),null}function Cu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Au(e){var t=Ki();return Qi(99,Nu.bind(null,e,t)),null}function Nu(e,t){do{Ru()}while(null!==ru);if((Us&(Os|Rs))!==As)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Cu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Vs&&(Bs=Vs=null,zs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Us;Us|=Rs,Cs.current=null,wn=Gt;var s=vn();if(mn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(I){u=null;break e}var h=0,d=-1,p=-1,v=0,m=0,g=s,y=null;t:for(;;){for(var k;g!==u||0!==l&&3!==g.nodeType||(d=h+l),g!==f||0!==c&&3!==g.nodeType||(p=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(k=g.firstChild);)y=g,g=k;for(;;){if(g===s)break t;if(y===u&&++v===l&&(d=h),y===f&&++m===c&&(p=h),null!==(k=g.nextSibling))break;y=(g=y).parentNode}g=k}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;xn={activeElementDetached:null,focusedElem:s,selectionRange:u},Gt=!1,$s=i;do{try{Ou()}catch(I){if(null===$s)throw Error(o(330));Lu($s,I),$s=$s.nextEffect}}while(null!==$s);$s=i;do{try{for(s=e,u=t;null!==$s;){var b=$s.effectTag;if(16&b&&Be($s.stateNode,""),128&b){var w=$s.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ms($s),$s.effectTag&=-3;break;case 6:ms($s),$s.effectTag&=-3,bs($s.alternate,$s);break;case 1024:$s.effectTag&=-1025;break;case 1028:$s.effectTag&=-1025,bs($s.alternate,$s);break;case 4:bs($s.alternate,$s);break;case 8:ks(s,l=$s,u),ps(l)}$s=$s.nextEffect}}catch(I){if(null===$s)throw Error(o(330));Lu($s,I),$s=$s.nextEffect}}while(null!==$s);if(x=xn,w=vn(),b=x.focusedElem,u=x.selectionRange,w!==b&&b&&b.ownerDocument&&pn(b.ownerDocument.documentElement,b)){null!==u&&mn(b)&&(w=u.start,void 0===(x=u.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!x.extend&&s>u&&(l=u,u=s,s=l),l=dn(b,s),f=dn(b,u),l&&f&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),s>u?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Gt=!!wn,xn=wn=null,e.current=n,$s=i;do{try{for(b=e;null!==$s;){var _=$s.effectTag;if(36&_&&hs(b,$s.alternate,$s),128&_){w=void 0;var E=$s.ref;if(null!==E){var T=$s.stateNode;$s.tag,w=T,"function"===typeof E?E(w):E.current=w}}$s=$s.nextEffect}}catch(I){if(null===$s)throw Error(o(330));Lu($s,I),$s=$s.nextEffect}}while(null!==$s);$s=null,Vi(),Us=a}else e.current=n;if(nu)nu=!1,ru=e,iu=t;else for($s=i;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,$s=t;if(0===(t=e.firstPendingTime)&&(tu=null),1073741823===t?e===su?ou++:(ou=0,su=e):ou=0,"function"===typeof Fu&&Fu(n.stateNode,r),pu(e),Zs)throw Zs=!1,e=eu,eu=null,e;return(Us&Ns)!==As||Xi(),null}function Ou(){for(;null!==$s;){var e=$s.effectTag;0!==(256&e)&&cs($s.alternate,$s),0===(512&e)||nu||(nu=!0,Yi(97,(function(){return Ru(),null}))),$s=$s.nextEffect}}function Ru(){if(90!==iu){var e=97<iu?97:iu;return iu=90,Qi(e,Pu)}}function Pu(){if(null===ru)return!1;var e=ru;if(ru=null,(Us&(Os|Rs))!==As)throw Error(o(331));var t=Us;for(Us|=Rs,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ls(5,n),fs(5,n)}}catch(r){if(null===e)throw Error(o(330));Lu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Us=t,Xi(),!0}function Du(e,t,n){pa(e,t=_s(e,t=as(n,t),1073741823)),null!==(e=hu(e,1073741823))&&pu(e)}function Lu(e,t){if(3===e.tag)Du(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Du(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tu||!tu.has(r))){pa(n,e=Es(n,e=as(t,e),1073741823)),null!==(n=hu(n,1073741823))&&pu(n);break}}n=n.return}}function Mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Vs===e&&zs===n?qs===js||qs===Ms&&1073741823===Hs&&Hi()-Js<Xs?ku(e,zs):Ys=!0:Yu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,pu(e)))}function ju(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=lu(t=cu(),e,null)),null!==(e=hu(e,t))&&pu(e)}Ts=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||yi.current)Mo=!0;else{if(r<n){switch(Mo=!1,t.tag){case 3:Ho(t),Do();break;case 5:if(Ua(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:wi(t.type)&&Ti(t);break;case 4:ja(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,vi(ta,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Xo(e,t,n):(vi(Ba,1&Ba.current),null!==(t=ts(e,t,n))?t.sibling:null);vi(Ba,1&Ba.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return es(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),vi(Ba,Ba.current),!r)return null}return ts(e,t,n)}Mo=!1}}else Mo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=bi(t,gi.current),ua(t,n),i=Za(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,wi(r)){var a=!0;Ti(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,fa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ba(t,r,s,e),i.updater=wa,t.stateNode=i,i._reactInternalFiber=t,Ta(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return zu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=ea(i,e),a){case 0:t=zo(null,t,i,e,n);break e;case 1:t=qo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,ea(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 1:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ha(e,t),ma(t,r,null,n),(r=t.memoizedState.element)===i)Do(),t=ts(e,t,n);else{if((i=t.stateNode.hydrate)&&(So=Sn(t.stateNode.containerInfo.firstChild),Io=t,i=Co=!0),i)for(n=Oa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else jo(e,t,r,n),Do();t=t.child}return t;case 5:return Ua(t),null===e&&Oo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,En(r,i)?s=null:null!==a&&En(r,a)&&(t.effectTag|=16),Bo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(jo(e,t,s,n),t=t.child),t;case 6:return null===e&&Oo(t),null;case 13:return Xo(e,t,n);case 4:return ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Na(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(vi(ta,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=qr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!yi.current){t=ts(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=da(n,null)).tag=2,pa(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),sa(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ua(t,n),r=r(i=ca(i,a.unstable_observedBits)),t.effectTag|=1,jo(e,t,r,n),t.child;case 14:return a=ea(i=t.type,t.pendingProps),Uo(e,t,i,a=ea(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ea(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,wi(r)?(e=!0,Ti(t)):e=!1,ua(t,n),_a(t,r,i),Ta(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return es(e,t,n)}throw Error(o(156,t.tag))};var Fu=null,Uu=null;function Vu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Bu(e,t,n,r){return new Vu(e,t,n,r)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var n=e.alternate;return null===n?((n=Bu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)zu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Hu(n.children,i,a,t);case C:s=8,i|=7;break;case E:s=8,i|=1;break;case T:return(e=Bu(12,n,t,8|i)).elementType=T,e.type=T,e.expirationTime=a,e;case N:return(e=Bu(13,n,t,i)).type=N,e.elementType=N,e.expirationTime=a,e;case O:return(e=Bu(19,n,t,i)).elementType=O,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case S:s=9;break e;case A:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Bu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Hu(e,t,n,r){return(e=Bu(7,e,r,t)).expirationTime=n,e}function Ku(e,t,n){return(e=Bu(6,e,null,t)).expirationTime=n,e}function Gu(e,t,n){return(t=Bu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Yu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ju(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Xu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function $u(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zu(e,t,n,r){var i=t.current,a=cu(),s=ya.suspense;a=lu(a,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(wi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(wi(c)){n=Ei(n,c,u);break e}}n=u}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=da(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),pa(i,t),fu(i,a),a}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=new Qu(e,t,n=null!=n&&!0===n.hydrate),i=Bu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,fa(i),e[Rn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);St.forEach((function(e){vt(e,t,n)})),Ct.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}Zu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}yu((function(){Zu(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rc.prototype.render=function(e){Zu(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zu(null,e,null,(function(){t[Rn]=null}))},mt=function(e){if(13===e.tag){var t=Zi(cu(),150,100);fu(e,t),nc(e,t)}},gt=function(e){13===e.tag&&(fu(e,3),nc(e,3))},yt=function(e){if(13===e.tag){var t=cu();fu(e,t=lu(t,e,null)),nc(e,t)}},Y=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(o(90));we(r),Te(r,i)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},te=gu,ne=function(e,t,n,r,i){var a=Us;Us|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{(Us=a)===As&&Xi()}},re=function(){(Us&(1|Os|Rs))===As&&(function(){if(null!==au){var e=au;au=null,e.forEach((function(e,t){$u(t,e),pu(t)})),Xi()}}(),Ru())},ie=function(e,t){var n=Us;Us|=2;try{return e(t)}finally{(Us=n)===As&&Xi()}};var sc={Events:[Dn,Ln,Mn,G,W,qn,function(e){at(e,zn)},Z,ee,$t,ut,Ru,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Fu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Uu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Pn,bundleType:0,version:"16.13.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Us&(Os|Rs))!==As)throw Error(o(187));var n=Us;Us|=1;try{return Qi(99,e.bind(null,t))}finally{Us=n,Xi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(yu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Rn]=null}))})),!0)},t.unstable_batchedUpdates=gu,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="16.13.0"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.isForwardRef=function(e){return w(e)===h}},7441:function(e,t,n){"use strict";e.exports=n(1372)},3688:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return o}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},6664:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2007));var r=s(n(8354)),i=s(n(2910)),a=s(n(2791)),o=s(n(119));n(5127);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,a=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),c(e,a),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,a=n.doneClassName;r&&l(e,r),i&&l(e,i),a&&l(e,a)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},i.render=function(){var e=u({},this.props);return delete e.classNames,a.default.createElement(o.default,u({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(a.default.Component);f.defaultProps={classNames:""},f.propTypes={};var h=f;t.default=h,e.exports=t.default},8162:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;o(n(2007));var r=o(n(2791)),i=n(4164),a=o(n(2326));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.handleLifecycle=function(e,t,n){var a,o=this.props.children,s=r.default.Children.toArray(o)[t];s.props[e]&&(a=s.props)[e].apply(a,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),o=r.default.Children.toArray(t),s=o[0],u=o[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(a.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(r.default.Component);s.propTypes={};var u=s;t.default=u,e.exports=t.default},119:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2007));var r=s(n(2791)),i=s(n(4164)),a=n(3688),o=(n(5127),s(n(9914)));function s(e){return e&&e.__esModule?e:{default:e}}var u="unmounted";t.UNMOUNTED=u;var c="exited";t.EXITED=c;var l="entering";t.ENTERING=l;var f="entered";t.ENTERED=f;var h="exiting";t.EXITING=h;var d=function(e){var t,n;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=c,r.appearStatus=l):i=f:i=t.unmountOnExit||t.mountOnEnter?u:c,r.state={status:i},r.nextCallback=null,r}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:c}:null};var s=a.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==f&&(t=l):n!==l&&n!==f||(t=h)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:u})},s.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,a=this.getTimeouts(),o=i?a.appear:a.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:l},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:f},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:f},(function(){n.props.onEntered(e)}))},s.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:h},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"===typeof n)return r.default.createElement(o.default.Provider,{value:null},n(e,i));var a=r.default.Children.only(n);return r.default.createElement(o.default.Provider,{value:null},r.default.cloneElement(a,i))},a}(r.default.Component);function p(){}d.contextType=o.default,d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var v=(0,a.polyfill)(d);t.default=v},2326:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;s(n(2007));var r=s(n(2791)),i=n(3688),a=s(n(9914)),o=n(8546);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){var t,n;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,r):(0,o.getNextChildMapping)(e,n,r),firstRender:!1}},s.handleExited=function(e,t){var n=(0,o.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=u({},t.children);return delete n[e.key],{children:n}})))},s.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=this.state.contextValue,s=l(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.default.createElement(a.default.Provider,{value:o},s):r.default.createElement(a.default.Provider,{value:o},r.default.createElement(t,i,s))},i}(r.default.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var h=(0,i.polyfill)(f);t.default=h,e.exports=t.default},9914:function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(2791))&&r.__esModule?r:{default:r}).default.createContext(null);t.default=i,e.exports=t.default},8267:function(e,t,n){"use strict";var r=s(n(6664)),i=s(n(8162)),a=s(n(2326)),o=s(n(119));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:a.default,ReplaceTransition:i.default,CSSTransition:r.default}},8546:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),u=a(t,s);return Object.keys(u).forEach((function(i){var a=u[i];if((0,r.isValidElement)(a)){var c=i in t,l=i in s,f=t[i],h=(0,r.isValidElement)(f)&&!f.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,r.isValidElement)(f)&&(u[i]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:f.props.in,exit:o(a,"exit",e),enter:o(a,"enter",e)})):u[i]=(0,r.cloneElement)(a,{in:!1}):u[i]=(0,r.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:o(a,"exit",e),enter:o(a,"enter",e)})}})),u};var r=n(2791);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function a(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}},5127:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(2007))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,u=null,c=function e(){if(null!==s)try{var n=t.unstable_now();s(!0,n),s=null}catch(r){throw setTimeout(e,0),r}},l=Date.now();t.unstable_now=function(){return Date.now()-l},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(c,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var m=h.now();t.unstable_now=function(){return h.now()-m}}var g=!1,y=null,k=-1,b=5,w=0;a=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,_=x.port2;x.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+b;try{y(!0,e)?_.postMessage(null):(g=!1,y=null)}catch(n){throw _.postMessage(null),n}}else g=!1},n=function(e){y=e,g||(g=!0,_.postMessage(null))},r=function(e,n){k=d((function(){e(t.unstable_now())}),n)},i=function(){p(k),k=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],N=1,O=null,R=3,P=!1,D=!1,L=!1;function M(e){for(var t=T(A);null!==t;){if(null===t.callback)I(A);else{if(!(t.startTime<=e))break;I(A),t.sortIndex=t.expirationTime,E(C,t)}t=T(A)}}function j(e){if(L=!1,M(e),!D)if(null!==T(C))D=!0,n(F);else{var t=T(A);null!==t&&r(j,t.startTime-e)}}function F(e,n){D=!1,L&&(L=!1,i()),P=!0;var o=R;try{for(M(n),O=T(C);null!==O&&(!(O.expirationTime>n)||e&&!a());){var s=O.callback;if(null!==s){O.callback=null,R=O.priorityLevel;var u=s(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?O.callback=u:O===T(C)&&I(C),M(n)}else I(C);O=T(C)}if(null!==O)var c=!0;else{var l=T(A);null!==l&&r(j,l.startTime-n),c=!1}return c}finally{O=null,R=o,P=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||P||(D=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return T(C)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:U(e)}else o=U(e),u=s;return e={id:N++,callback:a,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>s?(e.sortIndex=u,E(A,e),null===T(C)&&e===T(A)&&(L?i():L=!0,r(j,u-s))):(e.sortIndex=o,E(C,e),D||P||(D=!0,n(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=T(C);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Lt},SDK_VERSION:function(){return Tn},_DEFAULT_ENTRY_NAME:function(){return hn},_addComponent:function(){return mn},_addOrOverwriteComponent:function(){return gn},_apps:function(){return pn},_clearComponents:function(){return wn},_components:function(){return vn},_getProvider:function(){return kn},_registerComponent:function(){return yn},_removeServiceInstance:function(){return bn},deleteApp:function(){return An},getApp:function(){return Sn},getApps:function(){return Cn},initializeApp:function(){return In},onLog:function(){return Rn},registerVersion:function(){return On},setLogLevel:function(){return Pn}});var t,r=n(2791),i=n.t(r,2),a=n(4164);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function E(e,t,n){return E=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},E.apply(null,arguments)}function T(e){var t="function"===typeof Map?new Map:void 0;return T=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return E(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},T(e)}function I(e){return o(e)||f(e)||u(e)||c()}function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var A,N="popstate";function O(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:L(e);return O(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(C({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(N,v),h=e,function(){s.removeEventListener(N,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(g.location,e,n);r&&r(i,e);var a=P(i,d=p()+1),o=g.createHref(i);try{l.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(g.location,e,n);r&&r(i,e);var a=P(i,d=p()),o=g.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(A||(A={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=$(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],X(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(O(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(O(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=S(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=I(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=V(i.join("/")),u=[];return u.push.apply(u,h(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,h(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,z=3,q=2,W=1,H=10,K=-2,G=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=K),t&&(r+=q),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(B.test(t)?z:""===t?W:H)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=J({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(O(!(i=C({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),O(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),O(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(T(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ge=r.createContext(null);function ye(){return null!=r.useContext(ve)}function ke(){return ye()||O(!1),r.useContext(ve).location}function be(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(me).isDataRoute?function(){var e=Re(Ne.UseNavigateStable).router,t=De(Oe.UseNavigateStable),n=r.useRef(!1);be((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ye()||O(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=ke().pathname,s=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);be((function(){u.current=!0}));var c=r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=te(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e]);return c}()}function xe(){var e=r.useContext(me).matches,t=e[e.length-1];return t?t.params:{}}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=ke().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ee(e,n,i){ye()||O(!1);var a,o=r.useContext(pe).navigator,s=r.useContext(me).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,ke());if(n){var h,d="string"===typeof n?M(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||O(!1),a=d}else a=f;var p=a.pathname||"/",v=F(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ae(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&m?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Te(){var e=function(){var e,t=r.useContext(ge),n=Pe(Oe.UseRouteError),i=De(Oe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ie=r.createElement(Te,null),Se=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Ce(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Ae(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||O(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ie);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ce,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Se,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Ne=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ne||{}),Oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Oe||{});function Re(e){var t=r.useContext(fe);return t||O(!1),t}function Pe(e){var t=r.useContext(he);return t||O(!1),t}function De(e){var t=function(e){var t=r.useContext(me);return t||O(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||O(!1),n.route.id}i.startTransition;function Le(e){var t=e.to,n=e.replace,i=e.state,a=e.relative;ye()||O(!1);var o=r.useContext(me).matches,s=ke().pathname,u=we(),c=te(t,ee(o).map((function(e){return e.pathnameBase})),s,"path"===a),l=JSON.stringify(c);return r.useEffect((function(){return u(JSON.parse(l),{replace:n,state:i,relative:a})}),[u,l,a,n,i]),null}function Me(e){O(!1)}function je(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;ye()&&O(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=M(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,k=void 0===y?"":y,b=v.hash,w=void 0===b?"":b,x=v.state,_=void 0===x?null:x,E=v.key,T=void 0===E?"default":E,I=r.useMemo((function(){var e=$(g,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:_,key:T},navigationType:c}}),[d,g,k,w,_,T,c]);return null==I?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:o,value:I}))}function Fe(e){var t=e.children,n=e.location;return Ee(Be(t),n)}var Ue=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ue||{}),Ve=new Promise((function(){}));r.Component;function Be(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(h(t),[i]);if(e.type!==r.Fragment){e.type!==Me&&O(!1),e.props.index&&e.props.children&&O(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Be(e.props.children,a)),n.push(o)}else n.push.apply(n,Be(e.props.children,a))}})),n}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var We=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var He=i.startTransition;function Ke(e){var t,n=e.basename,i=e.children,a=e.future,o=e.window,s=r.useRef();null==s.current&&(s.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),j((function(e,t){var n=M(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash,u=void 0===s?"":s;return i.startsWith("/")||i.startsWith(".")||(i="/"+i),D("",{pathname:i,search:o,hash:u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:L(t))}),(function(e,t){R("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var u=s.current,c=l(r.useState({action:u.action,location:u.location}),2),f=c[0],h=c[1],d=(a||{}).v7_startTransition,p=r.useCallback((function(e){d&&He?He((function(){return h(e)})):h(e)}),[h,d]);return r.useLayoutEffect((function(){return u.listen(p)}),[u,p]),r.createElement(je,{basename:n,children:i,location:f.location,navigationType:f.action,navigator:u})}var Ge="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Qe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=qe(e,We),d=r.useContext(pe).basename,p=!1;if("string"===typeof l&&Qe.test(l)&&(n=l,Ge))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=$(m.pathname,d);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(b){}var y=function(e,t){var n=(void 0===t?{}:t).relative;ye()||O(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,s=_e(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=we(),l=ke(),f=_e(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return r.createElement("a",ze({},h,{href:n||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var Je,Xe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Je||(Je={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xe||(Xe={}));function $e(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},et=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(T(Error));function tt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=tt(e[n],t[n]));return e}var nt=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),rt.prototype.create),a}return g(n)}(T(Error)),rt=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(it,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new nt(n,a,t)}}]),e}();var it=/\{\$([^}]+)}/g;function at(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ot(e,t){var n=new st(e,t);return n.subscribe.bind(n)}var st=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ut),void 0===r.error&&(r.error=ut),void 0===r.complete&&(r.complete=ut);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ut(){}function ct(){ct=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),s=new O(r||[]);return i(o,"_invoke",{value:S(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",v="executing",m="completed",g={};function y(){}function k(){}function b(){}var w={};c(w,o,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(R([])));_&&_!==n&&r.call(_,o)&&(w=_);var E=b.prototype=y.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,s){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==p(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function S(t,n,r){var i=h;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?m:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(p(t)+" is not iterable")}return k.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:k,configurable:!0}),k.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},T(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new I(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(E),c(E,u,"Generator"),c(E,o,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function lt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function ft(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){lt(a,r,i,o,s,"next",e)}function s(e){lt(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ht=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},dt=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(T(Error));var pt=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();var vt=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),mt="[DEFAULT]",gt=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mt})}catch(u){}var t,n=S(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=S(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Qy){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===mt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Qy){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt;return this.component?this.component.multipleInstances?e:mt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var yt,kt=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new gt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),bt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yt||(yt={}));var wt={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},xt=yt.INFO,_t=$e($e($e($e($e({},yt.DEBUG,"log"),yt.VERBOSE,"log"),yt.INFO,"info"),yt.WARN,"warn"),yt.ERROR,"error"),Et=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=_t[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Tt=function(){function e(t){d(this,e),this.name=t,this._logLevel=xt,this._logHandler=Et,this._userLogHandler=null,bt.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in yt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?wt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yt.DEBUG].concat(t)),this._logHandler.apply(this,[this,yt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,yt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yt.INFO].concat(t)),this._logHandler.apply(this,[this,yt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yt.WARN].concat(t)),this._logHandler.apply(this,[this,yt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yt.ERROR].concat(t)),this._logHandler.apply(this,[this,yt.ERROR].concat(t))}}]),e}();var It=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},St={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(It(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Ct;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ct=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(T(Error)),At=function(e){return function(e){var t=It(e);return St.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Nt=function(e){try{return St.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Ot=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Rt=function(){try{return Ot()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Nt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Pt=function(){var e;return null===(e=Rt())||void 0===e?void 0:e.config};function Dt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Lt=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),Mt.prototype.create),a}return g(n)}(T(Error)),Mt=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(jt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Lt(n,a,t)}}]),e}();var jt=/\{\$([^}]+)}/g;function Ft(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ut(s)&&Ut(u)){if(!Ft(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ut(e){return null!==e&&"object"===typeof e}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt,qt,Wt=function(e,t){return t.some((function(t){return e instanceof t}))};var Ht=new WeakMap,Kt=new WeakMap,Gt=new WeakMap,Qt=new WeakMap,Yt=new WeakMap;var Jt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Kt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Gt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Xt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qt||(qt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(en(this),n),Zt(Ht.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zt(e.apply(en(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[en(this),t].concat(r));return Gt.set(a,t.sort?t.sort():[t]),Zt(a)}}function $t(e){return"function"===typeof e?Xt(e):(e instanceof IDBTransaction&&function(e){if(!Kt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Kt.set(e,t)}}(e),Wt(e,zt||(zt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Jt):e)}function Zt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Zt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ht.set(t,e)})).catch((function(){})),Yt.set(t,e),t}(e);if(Qt.has(e))return Qt.get(e);var t=$t(e);return t!==e&&(Qt.set(e,t),Yt.set(t,e)),t}var en=function(e){return Yt.get(e)};var tn,nn,rn=["get","getKey","getAll","getAllKeys","count"],an=["put","add","delete","clear"],on=new Map;function sn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(on.get(t))return on.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=an.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||rn.includes(n))){var a=function(){var e=ft(ct().mark((function e(t){var a,o,s,u,c,l,f=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return on.set(t,a),a}}}Jt=function(e){return Bt(Bt({},e),{},{get:function(t,n,r){return sn(t,n)||e.get(t,n,r)},has:function(t,n){return!!sn(t,n)||e.has(t,n)}})}(Jt);var un=function(){function e(t){d(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var cn="@firebase/app",ln="0.9.13",fn=new Tt("@firebase/app"),hn="[DEFAULT]",dn=($e($e($e($e($e($e($e($e($e($e(tn={},cn,"fire-core"),"@firebase/app-compat","fire-core-compat"),"@firebase/analytics","fire-analytics"),"@firebase/analytics-compat","fire-analytics-compat"),"@firebase/app-check","fire-app-check"),"@firebase/app-check-compat","fire-app-check-compat"),"@firebase/auth","fire-auth"),"@firebase/auth-compat","fire-auth-compat"),"@firebase/database","fire-rtdb"),"@firebase/database-compat","fire-rtdb-compat"),$e($e($e($e($e($e($e($e($e($e(tn,"@firebase/functions","fire-fn"),"@firebase/functions-compat","fire-fn-compat"),"@firebase/installations","fire-iid"),"@firebase/installations-compat","fire-iid-compat"),"@firebase/messaging","fire-fcm"),"@firebase/messaging-compat","fire-fcm-compat"),"@firebase/performance","fire-perf"),"@firebase/performance-compat","fire-perf-compat"),"@firebase/remote-config","fire-rc"),"@firebase/remote-config-compat","fire-rc-compat"),$e($e($e($e($e($e(tn,"@firebase/storage","fire-gcs"),"@firebase/storage-compat","fire-gcs-compat"),"@firebase/firestore","fire-fst"),"@firebase/firestore-compat","fire-fst-compat"),"fire-js","fire-js"),"firebase","fire-js-all")),pn=new Map,vn=new Map;function mn(e,t){try{e.container.addComponent(t)}catch(n){fn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function gn(e,t){e.container.addOrOverwriteComponent(t)}function yn(e){var t=e.name;if(vn.has(t))return fn.debug("There were multiple attempts to register component ".concat(t,".")),!1;vn.set(t,e);var n,r=S(pn.values());try{for(r.s();!(n=r.n()).done;){mn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function kn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hn;kn(e,t).clearInstance(n)}function wn(){vn.clear()}var xn=($e($e($e($e($e($e($e($e($e($e(nn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),"bad-app-name","Illegal App name: '{$appName}"),"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),"app-deleted","Firebase App named '{$appName}' already deleted"),"no-options","Need to provide options, when not being deployed to hosting via source."),"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),"invalid-log-argument","First argument to `onLog` must be null or a function."),"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),$e(nn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.")),_n=new Mt("app","Firebase",xn),En=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vt("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}]),e}(),Tn="9.23.0";function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:hn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _n.create("bad-app-name",{appName:String(i)});if(n||(n=Pt()),!n)throw _n.create("no-options");var a=pn.get(i);if(a){if(Ft(n,a.options)&&Ft(r,a.config))return a;throw _n.create("duplicate-app",{appName:i})}var o,s=new kt(i),u=S(vn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new En(n,r,s);return pn.set(i,l),l}function Sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=pn.get(e);if(!t&&e===hn&&Pt())return In();if(!t)throw _n.create("no-app",{appName:e});return t}function Cn(){return Array.from(pn.values())}function An(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!pn.has(n)){e.next=6;break}return pn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e,t,n){var r,i=null!==(r=dn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fn.warn(s.join(" "))}yn(new vt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Rn(e,t){if(null!==e&&"function"!==typeof e)throw _n.create("invalid-log-argument");!function(e,t){var n,r=S(bt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=wt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:yt[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Pn(e){var t;t=e,bt.forEach((function(e){e.setLogLevel(t)}))}var Dn="firebase-heartbeat-database",Ln=1,Mn="firebase-heartbeat-store",jn=null;function Fn(){return jn||(jn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Zt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Zt(s.result),e.oldVersion,e.newVersion,Zt(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Dn,Ln,{upgrade:function(e,t){if(0===t)e.createObjectStore(Mn)}}).catch((function(e){throw _n.create("idb-open",{originalErrorMessage:e.message})}))),jn}function Un(e){return Vn.apply(this,arguments)}function Vn(){return Vn=ft(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fn();case 3:return n=e.sent,e.next=6,n.transaction(Mn).objectStore(Mn).get(qn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Lt?fn.warn(e.t0.message):(i=_n.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Vn.apply(this,arguments)}function Bn(e,t){return zn.apply(this,arguments)}function zn(){return zn=ft(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fn();case 3:return r=e.sent,i=r.transaction(Mn,"readwrite"),a=i.objectStore(Mn),e.next=8,a.put(n,qn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Lt?fn.warn(e.t0.message):(o=_n.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),zn.apply(this,arguments)}function qn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Wn=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Qn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=ft(ct().mark((function e(){var t,n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Hn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Hn(),n=Kn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=At(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hn(){return(new Date).toISOString().substring(0,10)}function Kn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=S(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Yn(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Yn(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Gn,Qn=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Un(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Yn(e){return At(JSON.stringify({version:2,heartbeats:e})).length}Gn="",yn(new vt("platform-logger",(function(e){return new un(e)}),"PRIVATE")),yn(new vt("heartbeat",(function(e){return new Wn(e)}),"PRIVATE")),On(cn,ln,Gn),On(cn,ln,"esm2017"),On("fire-js","");var Jn,Xn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Jn||(Jn={}));var $n={debug:Jn.DEBUG,verbose:Jn.VERBOSE,info:Jn.INFO,warn:Jn.WARN,error:Jn.ERROR,silent:Jn.SILENT},Zn=Jn.INFO,er=$e($e($e($e($e({},Jn.DEBUG,"log"),Jn.VERBOSE,"log"),Jn.INFO,"info"),Jn.WARN,"warn"),Jn.ERROR,"error"),tr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=er[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},nr=function(){function e(t){d(this,e),this.name=t,this._logLevel=Zn,this._logHandler=tr,this._userLogHandler=null,Xn.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Jn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?$n[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Jn.DEBUG].concat(t)),this._logHandler.apply(this,[this,Jn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Jn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Jn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Jn.INFO].concat(t)),this._logHandler.apply(this,[this,Jn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Jn.WARN].concat(t)),this._logHandler.apply(this,[this,Jn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Jn.ERROR].concat(t)),this._logHandler.apply(this,[this,Jn.ERROR].concat(t))}}]),e}();var rr=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,mn(t,new vt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),An(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){mn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){gn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ir=$e($e({},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ar=new rt("app-compat","Firebase",ir);var or=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=In(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(at(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:On,setLogLevel:Pn,onLog:Rn,apps:null,SDK_VERSION:Tn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(yn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ar.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&tt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!at(n,e=e||hn))throw ar.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(rr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){tt(n,e)},createSubscribe:ot,ErrorFactory:rt,deepExtend:tt}),n}(),sr=new nr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){sr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ur=self.firebase.SDK_VERSION;ur&&ur.indexOf("LITE")>=0&&sr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var cr=or;!function(e){On("@firebase/app-compat","0.2.13",e)}();cr.registerVersion("firebase","9.23.0","app-compat");cr.apps.length||cr.initializeApp({apiKey:"AIzaSyAUlqVFqNfKTY34UCA0_jt9kHlTqMgDzi0",authDomain:"ar-classroom-1bb48.firebaseapp.com",projectId:"ar-classroom-1bb48",storageBucket:"ar-classroom-1bb48.appspot.com",messagingSenderId:"801778279327",appId:"1:801778279327:web:e63f67b115057a5e2c53aa",measurementId:"G-DEC44C4SPG"});var lr=cr;function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fr.apply(this,arguments)}function hr(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function dr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}var pr,vr=n(2007),mr=n.n(vr),gr=n(1694),yr=n.n(gr);function kr(e,t){return void 0===e&&(e=""),void 0===t&&(t=pr),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}var br={};function wr(e){br[e]||("undefined"!==typeof console&&console.error(e),br[e]=!0)}var xr="object"===typeof window&&window.Element||function(){};mr().oneOfType([mr().string,mr().func,function(e,t,n){if(!(e[t]instanceof xr))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},mr().shape({current:mr().any})]);var _r=mr().oneOfType([mr().func,mr().string,mr().shape({$$typeof:mr().symbol,render:mr().func}),mr().arrayOf(mr().oneOfType([mr().func,mr().string,mr().shape({$$typeof:mr().symbol,render:mr().func})]))]),Er=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"];"undefined"===typeof window||!window.document||window.document.createElement;function Tr(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}var Ir=["className","cssModule","inline","tag","innerRef"],Sr={children:mr().node,inline:mr().bool,tag:_r,innerRef:mr().oneOfType([mr().object,mr().func,mr().string]),className:mr().string,cssModule:mr().object},Cr=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(x(n)),n.submit=n.submit.bind(x(n)),n}dr(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,i=e.inline,a=e.tag,o=e.innerRef,s=hr(e,Ir),u=kr(yr()(t,!!i&&"form-inline"),n);return r.createElement(a,fr({},s,{ref:o,className:u}))},t}(r.Component);Cr.propTypes=Sr,Cr.defaultProps={tag:"form"};var Ar=Cr,Nr=["className","cssModule","row","disabled","check","inline","tag"],Or={children:mr().node,row:mr().bool,check:mr().bool,inline:mr().bool,disabled:mr().bool,tag:_r,className:mr().string,cssModule:mr().object},Rr=function(e){var t=e.className,n=e.cssModule,i=e.row,a=e.disabled,o=e.check,s=e.inline,u=e.tag,c=hr(e,Nr),l=kr(yr()(t,!!i&&"row",o?"form-check":"form-group",!(!o||!s)&&"form-check-inline",!(!o||!a)&&"disabled"),n);return"fieldset"===u&&(c.disabled=a),r.createElement(u,fr({},c,{className:l}))};Rr.propTypes=Or,Rr.defaultProps={tag:"div"};var Pr=Rr,Dr=["className","cssModule","hidden","widths","tag","check","size","for"],Lr=mr().oneOfType([mr().number,mr().string]),Mr=mr().oneOfType([mr().bool,mr().string,mr().number,mr().shape({size:Lr,order:Lr,offset:Lr})]),jr={children:mr().node,hidden:mr().bool,check:mr().bool,size:mr().string,for:mr().string,tag:_r,className:mr().string,cssModule:mr().object,xs:Mr,sm:Mr,md:Mr,lg:Mr,xl:Mr,widths:mr().array},Fr={tag:"label",widths:["xs","sm","md","lg","xl"]},Ur=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},Vr=function(e){var t=e.className,n=e.cssModule,i=e.hidden,a=e.widths,o=e.tag,s=e.check,u=e.size,c=e.for,l=hr(e,Dr),f=[];a.forEach((function(t,r){var i=e[t];if(delete l[t],i||""===i){var a,o=!r;if(Tr(i)){var s,u=o?"-":"-"+t+"-";a=Ur(o,t,i.size),f.push(kr(yr()(((s={})[a]=i.size||""===i.size,s["order"+u+i.order]=i.order||0===i.order,s["offset"+u+i.offset]=i.offset||0===i.offset,s))),n)}else a=Ur(o,t,i),f.push(a)}}));var h=kr(yr()(t,!!i&&"sr-only",!!s&&"form-check-label",!!u&&"col-form-label-"+u,f,!!f.length&&"col-form-label"),n);return r.createElement(o,fr({htmlFor:c},l,{className:h}))};Vr.propTypes=jr,Vr.defaultProps=Fr;var Br=Vr,zr=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"],qr={children:mr().node,type:mr().string,size:mr().oneOfType([mr().number,mr().string]),bsSize:mr().string,valid:mr().bool,invalid:mr().bool,tag:_r,innerRef:mr().oneOfType([mr().object,mr().func,mr().string]),plaintext:mr().bool,addon:mr().bool,className:mr().string,cssModule:mr().object},Wr=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(x(n)),n.focus=n.focus.bind(x(n)),n}dr(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,i=e.type,a=e.bsSize,o=e.valid,s=e.invalid,u=e.tag,c=e.addon,l=e.plaintext,f=e.innerRef,h=hr(e,zr),d=["radio","checkbox"].indexOf(i)>-1,p=new RegExp("\\D","g"),v=u||("select"===i||"textarea"===i?i:"input"),m="form-control";l?(m+="-plaintext",v=u||"input"):"file"===i?m+="-file":"range"===i?m+="-range":d&&(m=c?null:"form-check-input"),h.size&&p.test(h.size)&&(wr('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),a=h.size,delete h.size);var g=kr(yr()(t,s&&"is-invalid",o&&"is-valid",!!a&&"form-control-"+a,m),n);return("input"===v||u&&"function"===typeof u)&&(h.type=i),h.children&&!l&&"select"!==i&&"string"===typeof v&&"select"!==v&&(wr('Input with a type of "'+i+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete h.children),r.createElement(v,fr({},h,{ref:f,className:g,"aria-invalid":s}))},t}(r.Component);Wr.propTypes=qr,Wr.defaultProps={type:"text"};var Hr=Wr,Kr=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"],Gr={active:mr().bool,"aria-label":mr().string,block:mr().bool,color:mr().string,disabled:mr().bool,outline:mr().bool,tag:_r,innerRef:mr().oneOfType([mr().object,mr().func,mr().string]),onClick:mr().func,size:mr().string,children:mr().node,className:mr().string,cssModule:mr().object,close:mr().bool},Qr=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(x(n)),n}dr(t,e);var n=t.prototype;return n.onClick=function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()},n.render=function(){var e=this.props,t=e.active,n=e["aria-label"],i=e.block,a=e.className,o=e.close,s=e.cssModule,u=e.color,c=e.outline,l=e.size,f=e.tag,h=e.innerRef,d=hr(e,Kr);o&&"undefined"===typeof d.children&&(d.children=r.createElement("span",{"aria-hidden":!0},"\xd7"));var p="btn"+(c?"-outline":"")+"-"+u,v=kr(yr()(a,{close:o},o||"btn",o||p,!!l&&"btn-"+l,!!i&&"btn-block",{active:t,disabled:this.props.disabled}),s);d.href&&"button"===f&&(f="a");var m=o?"Close":null;return r.createElement(f,fr({type:"button"===f&&d.onClick?"button":void 0},d,{className:v,ref:h,onClick:this.onClick,"aria-label":n||m}))},t}(r.Component);Qr.propTypes=Gr,Qr.defaultProps={color:"secondary",tag:"button"};var Yr=Qr;function Jr(){return Jr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jr.apply(this,arguments)}var Xr,$r=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xr||(Xr={}));var Zr={debug:Xr.DEBUG,verbose:Xr.VERBOSE,info:Xr.INFO,warn:Xr.WARN,error:Xr.ERROR,silent:Xr.SILENT},ei=Xr.INFO,ti=$e($e($e($e($e({},Xr.DEBUG,"log"),Xr.VERBOSE,"log"),Xr.INFO,"info"),Xr.WARN,"warn"),Xr.ERROR,"error"),ni=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ti[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ri=function(){function e(t){d(this,e),this.name=t,this._logLevel=ei,this._logHandler=ni,this._userLogHandler=null,$r.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Xr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Zr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xr.DEBUG].concat(t)),this._logHandler.apply(this,[this,Xr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Xr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xr.INFO].concat(t)),this._logHandler.apply(this,[this,Xr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xr.WARN].concat(t)),this._logHandler.apply(this,[this,Xr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xr.ERROR].concat(t)),this._logHandler.apply(this,[this,Xr.ERROR].concat(t))}}]),e}();var ii=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ai={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ii(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new oi;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},oi=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(T(Error)),si=function(e){return function(e){var t=ii(e);return ai.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ui=function(e){try{return ai.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var ci=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},li=function(){try{return ci()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ui(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}};function fi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function hi(){return!function(){var e,t=null===(e=li())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var di=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),pi.prototype.create),a}return g(n)}(T(Error)),pi=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(vi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new di(n,a,t)}}]),e}();var vi=/\{\$([^}]+)}/g;function mi(e){return e&&e._delegate?e._delegate:e}var gi,yi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ki={},bi=bi||{},wi=yi||self;function xi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function _i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ei="closure_uid_"+(1e9*Math.random()>>>0),Ti=0;function Ii(e,t,n){return e.call.apply(e.bind,arguments)}function Si(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ci(e,t,n){return(Ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ii:Si).apply(null,arguments)}function Ai(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ni(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Oi(){this.s=this.s,this.o=this.o}Oi.prototype.s=!1,Oi.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ei)&&e[Ei]||(e[Ei]=++Ti))},Oi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ri=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Pi(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Di(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(xi(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Li(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Li.prototype.h=function(){this.defaultPrevented=!0};var Mi=function(){if(!wi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{wi.addEventListener("test",(function(){}),t),wi.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function ji(e){return/^[\s\xa0]*$/.test(e)}function Fi(){var e=wi.navigator;return e&&(e=e.userAgent)?e:""}function Ui(e){return-1!=Fi().indexOf(e)}function Vi(e){return Vi[" "](e),e}Vi[" "]=function(){};var Bi,zi,qi=Ui("Opera"),Wi=Ui("Trident")||Ui("MSIE"),Hi=Ui("Edge"),Ki=Hi||Wi,Gi=Ui("Gecko")&&!(-1!=Fi().toLowerCase().indexOf("webkit")&&!Ui("Edge"))&&!(Ui("Trident")||Ui("MSIE"))&&!Ui("Edge"),Qi=-1!=Fi().toLowerCase().indexOf("webkit")&&!Ui("Edge");function Yi(){var e=wi.document;return e?e.documentMode:void 0}e:{var Ji="",Xi=function(){var e=Fi();return Gi?/rv:([^\);]+)(\)|;)/.exec(e):Hi?/Edge\/([\d\.]+)/.exec(e):Wi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qi?/WebKit\/(\S+)/.exec(e):qi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Xi&&(Ji=Xi?Xi[1]:""),Wi){var $i=Yi();if(null!=$i&&$i>parseFloat(Ji)){Bi=String($i);break e}}Bi=Ji}if(wi.document&&Wi){var Zi=Yi();zi=Zi||(parseInt(Bi,10)||void 0)}else zi=void 0;var ea=zi;function ta(e,t){if(Li.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gi){e:{try{Vi(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:na[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ta.$.h.call(this)}}Ni(ta,Li);var na={2:"touch",3:"pen",4:"mouse"};ta.prototype.h=function(){ta.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ra="closure_listenable_"+(1e6*Math.random()|0),ia=0;function aa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ia,this.fa=this.ia=!1}function oa(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function sa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ua(e){var t={};for(var n in e)t[n]=e[n];return t}var ca="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function la(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ca.length;a++)n=ca[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fa(e){this.src=e,this.g={},this.h=0}function ha(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ri(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(oa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function da(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}fa.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=da(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new aa(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var pa="closure_lm_"+(1e6*Math.random()|0),va={};function ma(e,t,n,r,i){if(r&&r.once)return ya(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ma(e,t[a],n,r,i);return null}return n=Ta(n),e&&e[ra]?e.O(t,n,_i(r)?!!r.capture:!!r,i):ga(e,t,n,!1,r,i)}function ga(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=_i(i)?!!i.capture:!!i,s=_a(e);if(s||(e[pa]=s=new fa(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=xa;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mi||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wa(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ya(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ya(e,t[a],n,r,i);return null}return n=Ta(n),e&&e[ra]?e.P(t,n,_i(r)?!!r.capture:!!r,i):ga(e,t,n,!0,r,i)}function ka(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ka(e,t[a],n,r,i);else r=_i(r)?!!r.capture:!!r,n=Ta(n),e&&e[ra]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=da(a=e.g[t],n,r,i))&&(oa(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=_a(e))&&(t=e.g[t.toString()],e=-1,t&&(e=da(t,n,r,i)),(n=-1<e?t[e]:null)&&ba(n))}function ba(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ra])ha(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wa(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_a(t))?(ha(n,e),0==n.h&&(n.src=null,t[pa]=null)):oa(e)}}}function wa(e){return e in va?va[e]:va[e]="on"+e}function xa(e,t){if(e.fa)e=!0;else{t=new ta(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ba(e),e=n.call(r,t)}return e}function _a(e){return(e=e[pa])instanceof fa?e:null}var Ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ta(e){return"function"===typeof e?e:(e[Ea]||(e[Ea]=function(t){return e.handleEvent(t)}),e[Ea])}function Ia(){Oi.call(this),this.i=new fa(this),this.S=this,this.J=null}function Sa(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Li(t,e);else if(t instanceof Li)t.target=t.target||e;else{var i=t;la(t=new Li(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ca(o,r,!0,t)&&i}if(i=Ca(o=t.g=e,r,!0,t)&&i,i=Ca(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ca(o=t.g=n[a],r,!1,t)&&i}function Ca(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&ha(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ni(Ia,Oi),Ia.prototype[ra]=!0,Ia.prototype.removeEventListener=function(e,t,n,r){ka(this,e,t,n,r)},Ia.prototype.N=function(){if(Ia.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oa(n[r]);delete t.g[e],t.h--}}this.J=null},Ia.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ia.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Aa=wi.JSON.stringify,Na=function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Oa(){var e=Ua,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ra=function(){function e(){d(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=Pa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Pa=new Na((function(){return new Da}),(function(e){return e.reset()})),Da=function(){function e(){d(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function La(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ma(e){wi.setTimeout((function(){throw e}),0)}var ja,Fa=!1,Ua=new Ra,Va=function(){var e=wi.Promise.resolve(void 0);ja=function(){e.then(Ba)}},Ba=function(){for(var e;e=Oa();){try{e.h.call(e.g)}catch(n){Ma(n)}var t=Pa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fa=!1};function za(e,t){Ia.call(this),this.h=e||1,this.g=t||wi,this.j=Ci(this.qb,this),this.l=Date.now()}function qa(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Wa(e,t,n){if("function"===typeof e)n&&(e=Ci(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ci(e.handleEvent,e)}return 2147483647<Number(t)?-1:wi.setTimeout(e,t||0)}function Ha(e){e.g=Wa((function(){e.g=null,e.i&&(e.i=!1,Ha(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ni(za,Ia),(gi=za.prototype).ga=!1,gi.T=null,gi.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Sa(this,"tick"),this.ga&&(qa(this),this.start()))}},gi.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gi.N=function(){za.$.N.call(this),qa(this),delete this.g};var Ka=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ha(this)}},{key:"N",value:function(){Jr(b(n.prototype),"N",this).call(this),this.g&&(wi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Oi);function Ga(e){Oi.call(this),this.h=e,this.g={}}Ni(Ga,Oi);var Qa=[];function Ya(e,t,n,r){Array.isArray(n)||(n&&(Qa[0]=n.toString()),n=Qa);for(var i=0;i<n.length;i++){var a=ma(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ja(e){sa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ba(e)}),e),e.g={}}function Xa(){this.g=!0}function $a(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Aa(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ga.prototype.N=function(){Ga.$.N.call(this),Ja(this)},Ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xa.prototype.Ea=function(){this.g=!1},Xa.prototype.info=function(){};var Za={},eo=null;function to(){return eo=eo||new Ia}function no(e){Li.call(this,Za.Ta,e)}function ro(e){var t=to();Sa(t,new no(t))}function io(e,t){Li.call(this,Za.STAT_EVENT,e),this.stat=t}function ao(e){var t=to();Sa(t,new io(t,e))}function oo(e,t){Li.call(this,Za.Ua,e),this.size=t}function so(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return wi.setTimeout((function(){e()}),t)}Za.Ta="serverreachability",Ni(no,Li),Za.STAT_EVENT="statevent",Ni(io,Li),Za.Ua="timingevent",Ni(oo,Li);var uo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},co={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lo(){}function fo(e){return e.h||(e.h=e.i())}function ho(){}lo.prototype.h=null;var po,vo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mo(){Li.call(this,"d")}function go(){Li.call(this,"c")}function yo(){}function ko(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ga(this),this.P=wo,e=Ki?125:void 0,this.V=new za(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bo}function bo(){this.i=null,this.g="",this.h=!1}Ni(mo,Li),Ni(go,Li),Ni(yo,lo),yo.prototype.g=function(){return new XMLHttpRequest},yo.prototype.i=function(){return{}},po=new yo;var wo=45e3,xo={},_o={};function Eo(e,t,n){e.L=1,e.v=qo(Fo(t)),e.s=n,e.S=!0,To(e,null)}function To(e,t){e.G=Date.now(),Ao(e),e.A=Fo(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ns(n.i,"t",r),e.C=0,n=e.l.J,e.h=new bo,e.g=ru(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ka(Ci(e.Pa,e,e.g),e.O)),Ya(e.U,e.g,"readystatechange",e.nb),t=e.I?ua(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ro(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Io(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function So(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Co(e,n))==_o){4==t&&(e.o=4,ao(14),i=!1),$a(e.j,e.m,null,"[Incomplete Response]");break}if(r==xo){e.o=4,ao(15),$a(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$a(e.j,e.m,r,null),Do(e,r)}Io(e)&&r!=_o&&r!=xo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ao(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ys(t),t.M=!0,ao(11))):($a(e.j,e.m,n,"[Invalid Chunked Response]"),Po(e),Ro(e))}function Co(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_o:(n=Number(t.substring(n,r)),isNaN(n)?xo:(r+=1)+n>t.length?_o:(t=t.slice(r,r+n),e.C=r+n,t))}function Ao(e){e.Y=Date.now()+e.P,No(e,e.P)}function No(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=so(Ci(e.lb,e),t)}function Oo(e){e.B&&(wi.clearTimeout(e.B),e.B=null)}function Ro(e){0==e.l.H||e.J||$s(e.l,e)}function Po(e){Oo(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,qa(e.V),Ja(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Do(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||cs(n.i,e)))if(!e.K&&cs(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Xs(n),Bs(n)}Qs(n),ao(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=so(Ci(n.ib,n),6e3));if(1>=us(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else eu(n,11)}else if((e.K||n.g==e)&&Xs(n),!ji(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ls(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,zo(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=nu(r,r.J?r.pa:null,r.Y),d.K){fs(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Oo(p),Ao(p)),r.g=d}else Gs(r);0<n.j.length&&qs(n)}else"stop"!=a[0]&&"close"!=a[0]||eu(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?eu(n,7):Vs(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}ro()}catch(a){}}function Lo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xi(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(xi(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(xi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(gi=ko.prototype).setTimeout=function(e){this.P=e},gi.nb=function(e){e=e.target;var t=this.M;t&&3==Ds(e)?t.l():this.Pa(e)},gi.Pa=function(e){try{if(e==this.g)e:{var t=Ds(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Ki||this.g&&(this.h.h||this.g.ja()||Ls(this.g)))){this.J||4!=t||7==n||ro(),Oo(this);var r=this.g.da();this.ca=r;t:if(Io(this)){var i=Ls(this.g);e="";var a=i.length,o=4==Ds(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Po(this),Ro(this);var s="";break t}this.h.i=new wi.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ji(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ao(12),Po(this),Ro(this);break e}$a(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Do(this,r)}this.S?(So(this,t,s),Ki&&this.i&&3==t&&(Ya(this.U,this.V,"tick",this.mb),this.V.start())):($a(this.j,this.m,s,null),Do(this,s)),4==t&&Po(this),this.i&&!this.J&&(4==t?$s(this.l,this):(this.i=!1,Ao(this)))}else(function(e){var t={};e=(e.g&&2<=Ds(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!ji(e[n])){var r=La(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ao(12)):(this.o=0,ao(13)),Po(this),Ro(this)}}}catch(t){}},gi.mb=function(){if(this.g){var e=Ds(this.g),t=this.g.ja();this.C<t.length&&(Oo(this),So(this,e,t),this.i&&4!=e&&Ao(this))}},gi.cancel=function(){this.J=!0,Po(this)},gi.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ro(),ao(17)),Po(this),this.o=2,Ro(this)):No(this,this.Y-e)};var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof jo){this.h=e.h,Uo(this,e.j),this.s=e.s,this.g=e.g,Vo(this,e.m),this.l=e.l;var t=e.i,n=new $o;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Bo(this,n),this.o=e.o}else e&&(t=String(e).match(Mo))?(this.h=!1,Uo(this,t[1]||"",!0),this.s=Wo(t[2]||""),this.g=Wo(t[3]||"",!0),Vo(this,t[4]),this.l=Wo(t[5]||"",!0),Bo(this,t[6]||"",!0),this.o=Wo(t[7]||"")):(this.h=!1,this.i=new $o(null,this.h))}function Fo(e){return new jo(e)}function Uo(e,t,n){e.j=n?Wo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Bo(e,t,n){t instanceof $o?(e.i=t,function(e,t){t&&!e.j&&(Zo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(es(this,t),ns(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ho(t,Jo)),e.i=new $o(t,e.h))}function zo(e,t,n){e.i.set(t,n)}function qo(e){return zo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ho(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ko),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ko(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ho(t,Go,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ho(t,Go,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ho(n,"/"==n.charAt(0)?Yo:Qo,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ho(n,Xo)),e.join("")};var Go=/[#\/\?@]/g,Qo=/[#\?:]/g,Yo=/[#\?]/g,Jo=/[#\?@]/g,Xo=/#/g;function $o(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function es(e,t){Zo(e),t=rs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ts(e,t){return Zo(e),t=rs(e,t),e.g.has(t)}function ns(e,t,n){es(e,t),0<n.length&&(e.i=null,e.g.set(rs(e,t),Pi(n)),e.h+=n.length)}function rs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(gi=$o.prototype).add=function(e,t){Zo(this),this.i=null,e=rs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},gi.forEach=function(e,t){Zo(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},gi.ta=function(){Zo(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},gi.Z=function(e){Zo(this);var t=[];if("string"===typeof e)ts(this,e)&&(t=t.concat(this.g.get(rs(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},gi.set=function(e,t){return Zo(this),this.i=null,ts(this,e=rs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},gi.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},gi.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var is=g((function e(t,n){d(this,e),this.g=t,this.map=n}));function as(e){this.l=e||os,wi.PerformanceNavigationTiming?e=0<(e=wi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(wi.g&&wi.g.Ka&&wi.g.Ka()&&wi.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var os=10;function ss(e){return!!e.h||!!e.g&&e.g.size>=e.j}function us(e){return e.h?1:e.g?e.g.size:0}function cs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ls(e,t){e.g?e.g.add(t):e.h=t}function fs(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function hs(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=S(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Pi(e.i)}as.prototype.cancel=function(){if(this.i=hs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=S(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var ds,ps=function(){function e(){d(this,e)}return g(e,[{key:"stringify",value:function(e){return wi.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return wi.JSON.parse(e,void 0)}}]),e}();function vs(){this.g=new ps}function ms(e,t,n){var r=n||"";try{Lo(e,(function(e,n){var i=e;_i(e)&&(i=Aa(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function gs(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ys(e){this.l=e.fc||null,this.j=e.ob||!1}function ks(e,t){Ia.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=bs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ni(ys,lo),ys.prototype.g=function(){return new ks(this.l,this.j)},ys.prototype.i=(ds={},function(){return ds}),Ni(ks,Ia);var bs=0;function ws(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function xs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_s(e)}function _s(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(gi=ks.prototype).open=function(e,t){if(this.readyState!=bs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_s(this)},gi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||wi).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},gi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xs(this)),this.readyState=bs},gi.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof wi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ws(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},gi.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xs(this):_s(this),3==this.readyState&&ws(this)}},gi.Za=function(e){this.g&&(this.response=this.responseText=e,xs(this))},gi.Ya=function(e){this.g&&(this.response=e,xs(this))},gi.ka=function(){this.g&&xs(this)},gi.setRequestHeader=function(e,t){this.v.append(e,t)},gi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},gi.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ks.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Es=wi.JSON.parse;function Ts(e){Ia.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Is,this.L=this.M=!1}Ni(Ts,Ia);var Is="",Ss=/^https?$/i,Cs=["POST","PUT"];function As(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ns(e),Rs(e)}function Ns(e){e.F||(e.F=!0,Sa(e,"complete"),Sa(e,"error"))}function Os(e){if(e.h&&"undefined"!=typeof bi&&(!e.C[1]||4!=Ds(e)||2!=e.da()))if(e.v&&4==Ds(e))Wa(e.La,0,e);else if(Sa(e,"readystatechange"),4==Ds(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Mo)[1]||null;!a&&wi.self&&wi.self.location&&(a=wi.self.location.protocol.slice(0,-1)),i=!Ss.test(a?a.toLowerCase():"")}t=i}if(t)Sa(e,"complete"),Sa(e,"success");else{e.m=6;try{var o=2<Ds(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Ns(e)}}finally{Rs(e)}}}function Rs(e,t){if(e.g){Ps(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Sa(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ps(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(wi.clearTimeout(e.A),e.A=null)}function Ds(e){return e.g?e.g.readyState:0}function Ls(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Is:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Vu){return null}}function Ms(e){var t="";return sa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function js(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ms(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zo(e,t,n))}function Fs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Us(e){this.Ga=0,this.j=[],this.l=new Xa,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fs("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fs("baseRetryDelayMs",5e3,e),this.hb=Fs("retryDelaySeedMs",1e4,e),this.eb=Fs("forwardChannelMaxRetries",2,e),this.xa=Fs("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new as(e&&e.concurrentRequestLimit),this.Ja=new vs,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Vs(e){if(zs(e),3==e.H){var t=e.W++,n=Fo(e.I);if(zo(n,"SID",e.K),zo(n,"RID",t),zo(n,"TYPE","terminate"),Hs(e,n),(t=new ko(e,e.l,t)).L=2,t.v=qo(Fo(n)),n=!1,wi.navigator&&wi.navigator.sendBeacon)try{n=wi.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&wi.Image&&((new Image).src=t.v,n=!0),n||(t.g=ru(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ao(t)}tu(e)}function Bs(e){e.g&&(Ys(e),e.g.cancel(),e.g=null)}function zs(e){Bs(e),e.u&&(wi.clearTimeout(e.u),e.u=null),Xs(e),e.i.cancel(),e.m&&("number"===typeof e.m&&wi.clearTimeout(e.m),e.m=null)}function qs(e){if(!ss(e.i)&&!e.m){e.m=!0;var t=e.Na;ja||Va(),Fa||(ja(),Fa=!0),Ua.add(t,e),e.C=0}}function Ws(e,t){var n;n=t?t.m:e.W++;var r=Fo(e.I);zo(r,"SID",e.K),zo(r,"RID",n),zo(r,"AID",e.V),Hs(e,r),e.o&&e.s&&js(r,e.o,e.s),n=new ko(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ks(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ls(e.i,n),Eo(n,r,t)}function Hs(e,t){e.na&&sa(e.na,(function(e,n){zo(t,n,e)})),e.h&&Lo({},(function(e,n){zo(t,n,e)}))}function Ks(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ci(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{ms(l,o,"req"+c+"_")}catch(Xu){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Gs(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ja||Va(),Fa||(ja(),Fa=!0),Ua.add(t,e),e.A=0}}function Qs(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=so(Ci(e.Ma,e),Zs(e,e.A)),e.A++,!0)}function Ys(e){null!=e.B&&(wi.clearTimeout(e.B),e.B=null)}function Js(e){e.g=new ko(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Fo(e.wa);zo(t,"RID","rpc"),zo(t,"SID",e.K),zo(t,"AID",e.V),zo(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&zo(t,"TO",e.qa),zo(t,"TYPE","xmlhttp"),Hs(e,t),e.o&&e.s&&js(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=qo(Fo(t)),n.s=null,n.S=!0,To(n,e)}function Xs(e){null!=e.v&&(wi.clearTimeout(e.v),e.v=null)}function $s(e,t){var n=null;if(e.g==t){Xs(e),Ys(e),e.g=null;var r=2}else{if(!cs(e.i,t))return;n=t.F,fs(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Sa(r=to(),new oo(r,n)),qs(e)}else Gs(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(us(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=so(Ci(e.Na,e,t),Zs(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qs(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:eu(e,5);break;case 4:eu(e,10);break;case 3:eu(e,6);break;default:eu(e,2)}}function Zs(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function eu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ci(e.pb,e);n||(n=new jo("//www.google.com/images/cleardot.gif"),wi.location&&"http"==wi.location.protocol||Uo(n,"https"),qo(n)),function(e,t){var n=new Xa;if(wi.Image){var r=new Image;r.onload=Ai(gs,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ai(gs,n,r,"TestLoadImage: error",!1,t),r.onabort=Ai(gs,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ai(gs,n,r,"TestLoadImage: timeout",!1,t),wi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ao(2);e.H=0,e.h&&e.h.za(t),tu(e),zs(e)}function tu(e){if(e.H=0,e.ma=[],e.h){var t=hs(e.i);0==t.length&&0==e.j.length||(Di(e.ma,t),Di(e.ma,e.j),e.i.i.length=0,Pi(e.j),e.j.length=0),e.h.ya()}}function nu(e,t,n){var r=n instanceof jo?Fo(n):new jo(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Vo(r,r.m);else{var i=wi.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new jo(null);r&&Uo(a,r),t&&(a.g=t),i&&Vo(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&zo(r,n,t),zo(r,"VER",e.ra),Hs(e,r),r}function ru(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Ts(new ys({ob:!0})):new Ts(e.va)).Oa(e.J),t}function iu(){}function au(){if(Wi&&!(10<=Number(ea)))throw Error("Environmental error: no available transport.")}function ou(e,t){Ia.call(this),this.g=new Us(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ji(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ji(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new cu(this)}function su(e){mo.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function uu(){go.call(this),this.status=1}function cu(e){this.g=e}function lu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function fu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function hu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(gi=Ts.prototype).Oa=function(e){this.M=e},gi.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():po.g(),this.C=this.u?fo(this.u):fo(po),this.g.onreadystatechange=Ci(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void As(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=S(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=wi.FormData&&e instanceof wi.FormData,!(0<=Ri(Cs,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=S(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ps(this),0<this.B&&((this.L=function(e){return Wi&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ci(this.ua,this)):this.A=Wa(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){As(this,s)}},gi.ua=function(){"undefined"!=typeof bi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sa(this,"timeout"),this.abort(8))},gi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Sa(this,"complete"),Sa(this,"abort"),Rs(this))},gi.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rs(this,!0)),Ts.$.N.call(this)},gi.La=function(){this.s||(this.G||this.v||this.l?Os(this):this.kb())},gi.kb=function(){Os(this)},gi.isActive=function(){return!!this.g},gi.da=function(){try{return 2<Ds(this)?this.g.status:-1}catch(ds){return-1}},gi.ja=function(){try{return this.g?this.g.responseText:""}catch(ds){return""}},gi.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Es(t)}},gi.Ia=function(){return this.m},gi.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(gi=Us.prototype).ra=8,gi.H=1,gi.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new ko(this,this.l,e),n=this.s;if(this.U&&(n?la(n=ua(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ks(this,t,r),zo(i=Fo(this.I),"RID",e),zo(i,"CVER",22),this.F&&zo(i,"X-HTTP-Session-Id",this.F),Hs(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Ms(n)))+"&"+r:this.o&&js(i,this.o,n)),ls(this.i,t),this.bb&&zo(i,"TYPE","init"),this.P?(zo(i,"$req",r),zo(i,"SID","null"),t.aa=!0,Eo(t,i,null)):Eo(t,i,r),this.H=2}}else 3==this.H&&(e?Ws(this,e):0==this.j.length||ss(this.i)||Ws(this))},gi.Ma=function(){if(this.u=null,Js(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=so(Ci(this.jb,this),e)}},gi.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ao(10),Bs(this),Js(this))},gi.ib=function(){null!=this.v&&(this.v=null,Bs(this),Qs(this),ao(19))},gi.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ao(2)):(this.l.info("Failed to ping google.com"),ao(1))},gi.isActive=function(){return!!this.h&&this.h.isActive(this)},(gi=iu.prototype).Ba=function(){},gi.Aa=function(){},gi.za=function(){},gi.ya=function(){},gi.isActive=function(){return!0},gi.Va=function(){},au.prototype.g=function(e,t){return new ou(e,t)},Ni(ou,Ia),ou.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ao(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=nu(e,null,e.Y),qs(e)},ou.prototype.close=function(){Vs(this.g)},ou.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Aa(e),e=n);t.j.push(new is(t.fb++,e)),3==t.H&&qs(t)},ou.prototype.N=function(){this.g.h=null,delete this.j,Vs(this.g),delete this.g,ou.$.N.call(this)},Ni(su,mo),Ni(uu,go),Ni(cu,iu),cu.prototype.Ba=function(){Sa(this.g,"a")},cu.prototype.Aa=function(e){Sa(this.g,new su(e))},cu.prototype.za=function(e){Sa(this.g,new uu)},cu.prototype.ya=function(){Sa(this.g,"b")},Ni(lu,(function(){this.blockSize=-1})),lu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)fu(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){fu(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){fu(this,r),i=0;break}}this.h=i,this.i+=t},lu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var du={};function pu(e){return-128<=e&&128>e?function(e,t){var n=du;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new hu([0|e],0>e?-1:0)})):new hu([0|e],0>e?-1:0)}function vu(e){if(isNaN(e)||!isFinite(e))return gu;if(0>e)return xu(vu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=mu;return new hu(t,0)}var mu=4294967296,gu=pu(0),yu=pu(1),ku=pu(16777216);function bu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function wu(e){return-1==e.h}function xu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new hu(n,~e.h).add(yu)}function _u(e,t){return e.add(xu(t))}function Eu(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Tu(e,t){this.g=e,this.h=t}function Iu(e,t){if(bu(t))throw Error("division by zero");if(bu(e))return new Tu(gu,gu);if(wu(e))return t=Iu(xu(e),t),new Tu(xu(t.g),xu(t.h));if(wu(t))return t=Iu(e,xu(t)),new Tu(xu(t.g),t.h);if(30<e.g.length){if(wu(e)||wu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=yu,r=t;0>=r.X(e);)n=Su(n),r=Su(r);var i=Cu(n,1),a=Cu(r,1);for(r=Cu(r,2),n=Cu(n,2);!bu(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Cu(r,1),n=Cu(n,1)}return t=_u(e,i.R(t)),new Tu(i,t)}for(i=gu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=vu(n)).R(t);wu(o)||0<o.X(e);)o=(a=vu(n-=r)).R(t);bu(a)&&(a=yu),i=i.add(a),e=_u(e,o)}return new Tu(i,e)}function Su(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new hu(n,e.h)}function Cu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new hu(i,e.h)}(gi=hu.prototype).ea=function(){if(wu(this))return-xu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:mu+r)*t,t*=mu}return e},gi.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(bu(this))return"0";if(wu(this))return"-"+xu(this).toString(e);for(var t=vu(Math.pow(e,6)),n=this,r="";;){var i=Iu(n,t).g,a=((0<(n=_u(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(bu(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},gi.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},gi.X=function(e){return wu(e=_u(this,e))?-1:bu(e)?0:1},gi.abs=function(){return wu(this)?xu(this):this},gi.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new hu(n,-2147483648&n[n.length-1]?-1:0)},gi.R=function(e){if(bu(this)||bu(e))return gu;if(wu(this))return wu(e)?xu(this).R(xu(e)):xu(xu(this).R(e));if(wu(e))return xu(this.R(xu(e)));if(0>this.X(ku)&&0>e.X(ku))return vu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Eu(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Eu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Eu(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Eu(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new hu(n,0)},gi.gb=function(e){return Iu(this,e).h},gi.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new hu(n,this.h&e.h)},gi.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new hu(n,this.h|e.h)},gi.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new hu(n,this.h^e.h)},au.prototype.createWebChannel=au.prototype.g,ou.prototype.send=ou.prototype.u,ou.prototype.open=ou.prototype.m,ou.prototype.close=ou.prototype.close,uo.NO_ERROR=0,uo.TIMEOUT=8,uo.HTTP_ERROR=6,co.COMPLETE="complete",ho.EventType=vo,vo.OPEN="a",vo.CLOSE="b",vo.ERROR="c",vo.MESSAGE="d",Ia.prototype.listen=Ia.prototype.O,Ts.prototype.listenOnce=Ts.prototype.P,Ts.prototype.getLastError=Ts.prototype.Sa,Ts.prototype.getLastErrorCode=Ts.prototype.Ia,Ts.prototype.getStatus=Ts.prototype.da,Ts.prototype.getResponseJson=Ts.prototype.Wa,Ts.prototype.getResponseText=Ts.prototype.ja,Ts.prototype.send=Ts.prototype.ha,Ts.prototype.setWithCredentials=Ts.prototype.Oa,lu.prototype.digest=lu.prototype.l,lu.prototype.reset=lu.prototype.reset,lu.prototype.update=lu.prototype.j,hu.prototype.add=hu.prototype.add,hu.prototype.multiply=hu.prototype.R,hu.prototype.modulo=hu.prototype.gb,hu.prototype.compare=hu.prototype.X,hu.prototype.toNumber=hu.prototype.ea,hu.prototype.toString=hu.prototype.toString,hu.prototype.getBits=hu.prototype.D,hu.fromNumber=vu,hu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return xu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=vu(Math.pow(n,8)),i=gu,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=vu(Math.pow(n,o)),i=i.R(o).add(vu(s))):i=(i=i.R(r)).add(vu(s))}return i};var Au=ki.createWebChannelTransport=function(){return new au},Nu=ki.getStatEventTarget=function(){return to()},Ou=ki.ErrorCode=uo,Ru=ki.EventType=co,Pu=ki.Event=Za,Du=ki.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Lu=ki.FetchXmlHttpFactory=ys,Mu=ki.WebChannel=ho,ju=ki.XhrIo=Ts,Fu=ki.Md5=lu,Uu=ki.Integer=hu,Vu="@firebase/firestore",Bu=function(){function e(t){d(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Bu.UNAUTHENTICATED=new Bu(null),Bu.GOOGLE_CREDENTIALS=new Bu("google-credentials-uid"),Bu.FIRST_PARTY=new Bu("first-party-uid"),Bu.MOCK_USER=new Bu("mock-user");var zu="9.23.0",qu=new ri("@firebase/firestore");function Wu(){return qu.logLevel}function Hu(e){if(qu.logLevel<=Xr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qu);qu.debug.apply(qu,["Firestore (".concat(zu,"): ").concat(e)].concat(h(i)))}}function Ku(e){if(qu.logLevel<=Xr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qu);qu.error.apply(qu,["Firestore (".concat(zu,"): ").concat(e)].concat(h(i)))}}function Gu(e){if(qu.logLevel<=Xr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Qu);qu.warn.apply(qu,["Firestore (".concat(zu,"): ").concat(e)].concat(h(i)))}}function Qu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Yu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(zu,") INTERNAL ASSERTION FAILED: ")+e;throw Ku(t),new Error(t)}function Ju(e,t){e||Yu()}function Xu(e,t){return e}var $u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zu=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(di),ec=g((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),tc=g((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),nc=function(){function e(){d(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Bu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),rc=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ic=function(){function e(t){d(this,e),this.t=t,this.currentUser=Bu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ec;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ec,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Hu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Hu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ec)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Hu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ju("string"==typeof n.accessToken),new tc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ju(null===e||"string"==typeof e),new Bu(e)}}]),e}(),ac=function(){function e(t,n,r){d(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Bu.FIRST_PARTY,this.g=new Map}return g(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),oc=function(){function e(t,n,r){d(this,e),this.h=t,this.l=n,this.m=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new ac(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Bu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),sc=g((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),uc=function(){function e(t){d(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Hu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Hu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Hu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Hu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ju("string"==typeof t.token),e.T=t.token,new sc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function cc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var lc=function(){function e(){d(this,e)}return g(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=cc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function fc(e,t){return e<t?-1:e>t?1:0}function hc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function dc(e){return e+"\0"}var pc=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Zu($u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Zu($u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Zu($u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zu($u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?fc(this.nanoseconds,e.nanoseconds):fc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),vc=function(){function e(t){d(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new pc(0,0))}},{key:"max",value:function(){return new e(new pc(253402300799,999999999))}}]),e}(),mc=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&Yu(),void 0===r?r=t.length-n:r>t.length-n&&Yu(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),gc=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Zu($u.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(mc),yc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kc=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return yc.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Zu($u.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Zu($u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Zu($u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Zu($u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(mc),bc=function(){function e(t){d(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===gc.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(gc.fromString(t))}},{key:"fromName",value:function(t){return new e(gc.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(gc.emptyPath())}},{key:"comparator",value:function(e,t){return gc.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new gc(t.slice()))}}]),e}(),wc=g((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function xc(e){return e.fields.find((function(e){return 2===e.kind}))}function _c(e){return e.fields.filter((function(e){return 2!==e.kind}))}wc.UNKNOWN_ID=-1;var Ec=g((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var Tc=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,Cc.min())}}]),e}();function Ic(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=vc.fromTimestamp(1e9===r?new pc(n+1,0):new pc(n,r));return new Cc(i,bc.empty(),t)}function Sc(e){return new Cc(e.readTime,e.key,-1)}var Cc=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(vc.min(),bc.empty(),-1)}},{key:"max",value:function(){return new e(vc.max(),bc.empty(),-1)}}]),e}();function Ac(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=bc.comparator(e.documentKey,t.documentKey))?n:fc(e.largestBatchId,t.largestBatchId)}var Nc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Oc=function(){function e(){d(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Rc(e){return Pc.apply(this,arguments)}function Pc(){return(Pc=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===$u.FAILED_PRECONDITION&&t.message===Nc){e.next=2;break}throw t;case 2:Hu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dc=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Yu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=S(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Lc=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new ec,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new Fc(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=qc(e.target.error);r.v.reject(new Fc(t,n))}}return g(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(Hu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Vc(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fc(n,t)}}}]),e}(),Mc=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(fi())&&Ku("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"$",value:function(){var e=ft(ct().mark((function e(t){var n=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Hu("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Fc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Zu($u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Zu($u.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Fc(t,n))},i.onupgradeneeded=function(e){Hu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){Hu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ft(ct().mark((function e(t,n,r,i){var a,o,s,u,c=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=ct().mark((function e(){var n,s,u,l;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=Lc.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Dc.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,Hu("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Hu("SimpleDb","Removing database:",e),Bc(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!function(){try{return"object"===typeof indexedDB}catch(n){return!1}}())return!1;if(e.C())return!0;var t=fi(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),jc=function(){function e(t){d(this,e),this.L=t,this.q=!1,this.U=null}return g(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return Bc(this.L.delete())}}]),e}(),Fc=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,$u.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(Zu);function Uc(e){return"IndexedDbTransactionError"===e.name}var Vc=function(){function e(t){d(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Hu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Hu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Bc(n)}},{key:"add",value:function(e){return Hu("SimpleDb","ADD",this.store.name,e,e),Bc(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Bc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Hu("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Hu("SimpleDb","DELETE",this.store.name,e),Bc(this.store.delete(e))}},{key:"count",value:function(){return Hu("SimpleDb","COUNT",this.store.name),Bc(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Dc((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Dc((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Hu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Dc((function(n,r){t.onerror=function(e){var t=qc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Dc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new jc(i),o=t(i.primaryKey,i.value,a);if(o instanceof Dc){var s=o.catch((function(e){return a.done(),Dc.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Dc.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Bc(e){return new Dc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qc(e.target.error);n(t)}}))}var zc=!1;function qc(e){var t=Mc.S(fi());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Zu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return zc||(zc=!0,setTimeout((function(){throw r}),0)),r}}return e}var Wc=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return g(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Hu("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Hu,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Uc(e.t4)){e.next=17;break}Hu("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Rc(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Hc=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"nt",value:function(){var e=ft(ct().mark((function e(){var t,n=this,r=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Dc.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Hu("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return Hu("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Sc(t);Ac(r,n)>0&&(n=r)})),new Cc(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Kc=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Gc(e){return null==e}function Qc(e){return 0===e&&1/e==-1/0}function Yc(e){return"number"==typeof e&&Number.isInteger(e)&&!Qc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Jc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$c(t)),t=Xc(e.get(n),t);return $c(t)}function Xc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function $c(e){return e+"\x01\x01"}function Zc(e){var t=e.length;if(Ju(t>=2),2===t)return Ju("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),gc.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Yu(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Yu()}a=o+2}return new gc(r)}Kc.ct=-1;var el=["userId","batchId"];function tl(e,t){return[e,Jc(t)]}function nl(e,t,n){return[e,Jc(t),n]}var rl={},il=["prefixPath","collectionGroup","readTime","documentId"],al=["prefixPath","collectionGroup","documentId"],ol=["collectionGroup","readTime","prefixPath","documentId"],sl=["canonicalId","targetId"],ul=["targetId","path"],cl=["path","targetId"],ll=["collectionId","parent"],fl=["indexId","uid"],hl=["uid","sequenceNumber"],dl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pl=["indexId","uid","orderedDocumentKey"],vl=["userId","collectionPath","documentId"],ml=["userId","collectionPath","largestBatchId"],gl=["userId","collectionGroup","largestBatchId"],yl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),kl=[].concat(h(yl),["documentOverlays"]),bl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wl=bl,xl=[].concat(wl,["indexConfiguration","indexState","indexEntries"]),_l=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return g(n)}(Oc);function El(e,t){var n=Xu(e);return Mc.M(n.ht,t)}function Tl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Il(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Cl=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||Nl.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nl.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Al(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Al(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Al(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Al(this.root,e,this.comparator,!0)}}]),e}(),Al=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Nl=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Yu();if(this.right.isRed())throw Yu();var e=this.left.check();if(e!==this.right.check())throw Yu();return e+(this.isRed()?0:1)}}]),e}();Nl.EMPTY=null,Nl.RED=!0,Nl.BLACK=!1,Nl.EMPTY=new(function(){function e(){d(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw Yu()}},{key:"value",get:function(){throw Yu()}},{key:"color",get:function(){throw Yu()}},{key:"left",get:function(){throw Yu()}},{key:"right",get:function(){throw Yu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Nl(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ol=function(){function e(t){d(this,e),this.comparator=t,this.data=new Cl(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Rl(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Rl(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Rl=function(){function e(t){d(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Pl(e){return e.hasNext()?e.getNext():void 0}var Dl=function(){function e(t){d(this,e),this.fields=t,t.sort(kc.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new Ol(kc.comparator),i=S(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=S(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=S(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return hc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ll=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(T(Error));var Ml=function(e){function t(e){d(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return fc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ll("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ml.EMPTY_BYTE_STRING=new Ml("");var jl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fl(e){if(Ju(!!e),"string"==typeof e){var t=0,n=jl.exec(e);if(Ju(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ul(e.seconds),nanos:Ul(e.nanos)}}function Ul(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vl(e){return"string"==typeof e?Ml.fromBase64String(e):Ml.fromUint8Array(e)}function Bl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zl(e){var t=e.mapValue.fields.__previous_value__;return Bl(t)?zl(t):t}function ql(e){var t=Fl(e.mapValue.fields.__local_write_time__.timestampValue);return new pc(t.seconds,t.nanos)}var Wl=g((function e(t,n,r,i,a,o,s,u,c){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Hl=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gl={nullValue:"NULL_VALUE"};function Ql(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bl(e)?4:cf(e)?9007199254740991:10:Yu()}function Yl(e,t){if(e===t)return!0;var n=Ql(e);if(n!==Ql(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ql(e).isEqual(ql(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Fl(e.timestampValue),r=Fl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vl(e.bytesValue).isEqual(Vl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ul(e.geoPointValue.latitude)===Ul(t.geoPointValue.latitude)&&Ul(e.geoPointValue.longitude)===Ul(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ul(e.integerValue)===Ul(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ul(e.doubleValue),r=Ul(t.doubleValue);return n===r?Qc(n)===Qc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return hc(e.arrayValue.values||[],t.arrayValue.values||[],Yl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Tl(n)!==Tl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yl(n[i],r[i])))return!1;return!0}(e,t);default:return Yu()}}function Jl(e,t){return void 0!==(e.values||[]).find((function(e){return Yl(e,t)}))}function Xl(e,t){if(e===t)return 0;var n=Ql(e),r=Ql(t);if(n!==r)return fc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ul(e.integerValue||e.doubleValue),r=Ul(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return $l(e.timestampValue,t.timestampValue);case 4:return $l(ql(e),ql(t));case 5:return fc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Vl(e),r=Vl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=fc(n[i],r[i]);if(0!==a)return a}return fc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=fc(Ul(e.latitude),Ul(t.latitude));return 0!==n?n:fc(Ul(e.longitude),Ul(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Xl(n[i],r[i]);if(a)return a}return fc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Kl.mapValue&&t===Kl.mapValue)return 0;if(e===Kl.mapValue)return 1;if(t===Kl.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=fc(r[o],a[o]);if(0!==s)return s;var u=Xl(n[r[o]],i[a[o]]);if(0!==u)return u}return fc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Yu()}}function $l(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return fc(e,t);var n=Fl(e),r=Fl(t),i=fc(n.seconds,r.seconds);return 0!==i?i:fc(n.nanos,r.nanos)}function Zl(e){return ef(e)}function ef(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Fl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,bc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=S(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ef(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=S(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ef(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Yu();var t,n}function tf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function nf(e){return!!e&&"integerValue"in e}function rf(e){return!!e&&"arrayValue"in e}function af(e){return!!e&&"nullValue"in e}function of(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sf(e){return!!e&&"mapValue"in e}function uf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Il(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=uf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=uf(e.arrayValue.values[r]);return n}return Object.assign({},e)}function cf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function lf(e){return"nullValue"in e?Gl:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?tf(Hl.empty(),bc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Yu()}function ff(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?tf(Hl.empty(),bc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Kl:Yu()}function hf(e,t){var n=Xl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function df(e,t){var n=Xl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var pf=function(){function e(t){d(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!sf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}},{key:"setAll",value:function(e){var t=this,n=kc.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=uf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());sf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Yl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];sf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Il(t,(function(t,n){return e[t]=n}));var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(uf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function vf(e){var t=[];return Il(e.fields,(function(e,n){var r=new kc([e]);if(sf(n)){var i=vf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=S(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Dl(t)}var mf=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(vc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=pf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=pf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=vc.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,vc.min(),vc.min(),vc.min(),pf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,vc.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,vc.min(),vc.min(),pf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,vc.min(),vc.min(),pf.empty(),2)}}]),e}(),gf=g((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function yf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?bc.comparator(bc.fromName(o.referenceValue),n.key):Xl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function kf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Yl(e.position[n],t.position[n]))return!1;return!0}var bf=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function wf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var xf=g((function e(){d(this,e)})),_f=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Xl(t,this.value)):null!==t&&Ql(this.value)===Ql(t)&&this.matchesComparison(Xl(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yu()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Pf(e,t,r):"array-contains"===t?new jf(e,r):"in"===t?new Ff(e,r):"not-in"===t?new Uf(e,r):"array-contains-any"===t?new Vf(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Df(e,n):new Lf(e,n)}}]),n}(xf),Ef=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return g(n,[{key:"matches",value:function(e){return Tf(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=S(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(xf);function Tf(e){return"and"===e.op}function If(e){return"or"===e.op}function Sf(e){return Cf(e)&&Tf(e)}function Cf(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Ef)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Af(e){if(e instanceof _f)return e.field.canonicalString()+e.op.toString()+Zl(e.value);if(Sf(e))return e.filters.map((function(e){return Af(e)})).join(",");var t=e.filters.map((function(e){return Af(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Nf(e,t){return e instanceof _f?function(e,t){return t instanceof _f&&e.op===t.op&&e.field.isEqual(t.field)&&Yl(e.value,t.value)}(e,t):e instanceof Ef?function(e,t){return t instanceof Ef&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Nf(n,t.filters[r])}),!0)}(e,t):void Yu()}function Of(e,t){var n=e.filters.concat(t);return Ef.create(n,e.op)}function Rf(e){return e instanceof _f?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Zl(e.value))}(e):e instanceof Ef?function(e){return e.op.toString()+" {"+e.getFilters().map(Rf).join(" ,")+"}"}(e):"Filter"}var Pf=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=bc.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=bc.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(_f),Df=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=Mf("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(_f),Lf=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=Mf("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(_f);function Mf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return bc.fromName(e.referenceValue)}))}var jf=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return rf(t)&&Jl(t.arrayValue,this.value)}}]),n}(_f),Ff=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Jl(this.value.arrayValue,t)}}]),n}(_f),Uf=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Jl(this.value.arrayValue,t)}}]),n}(_f),Vf=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!rf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Jl(t.value.arrayValue,e)}))}}]),n}(_f),Bf=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function zf(e){return new Bf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function qf(e){var t=Xu(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Af(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Gc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Zl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Zl(e)})).join(",")),t.dt=n}return t.dt}function Wf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!wf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Nf(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kf(e.startAt,t.startAt)&&kf(e.endAt,t.endAt)}function Hf(e){return bc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Kf(e,t){return e.filters.filter((function(e){return e instanceof _f&&e.field.isEqual(t)}))}function Gf(e,t,n){var r,i=Gl,a=!0,o=S(Kf(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Gl,c=!0;switch(s.op){case"<":case"<=":u=lf(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Gl}hf({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];hf({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Qf(e,t,n){var r,i=Kl,a=!0,o=S(Kf(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Kl,c=!0;switch(s.op){case">=":case">":u=ff(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Kl}df({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];df({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Yf=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function Jf(e,t,n,r,i,a,o,s){return new Yf(e,t,n,r,i,a,o,s)}function Xf(e){return new Yf(e)}function $f(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Zf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function eh(e){var t,n=S(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function th(e){return null!==e.collectionGroup}function nh(e){var t=Xu(e);if(null===t.wt){t.wt=[];var n=eh(t),r=Zf(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new bf(n)),t.wt.push(new bf(kc.keyField(),"asc"));else{var i,a=!1,o=S(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new bf(kc.keyField(),u))}}}return t.wt}function rh(e){var t=Xu(e);if(!t._t)if("F"===t.limitType)t._t=zf(t.path,t.collectionGroup,nh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=S(nh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new bf(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new gf(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new gf(t.startAt.position,t.startAt.inclusive):null;t._t=zf(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function ih(e,t){t.getFirstInequalityField(),eh(e);var n=e.filters.concat([t]);return new Yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ah(e,t,n){return new Yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function oh(e,t){return Wf(rh(e),rh(t))&&e.limitType===t.limitType}function sh(e){return"".concat(qf(rh(e)),"|lt:").concat(e.limitType)}function uh(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Rf(e)})).join(", "),"]")),Gc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Zl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Zl(e)})).join(",")),"Target(".concat(t,")")}(rh(e)),"; limitType=").concat(e.limitType,")")}function ch(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=S(nh(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=S(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=yf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,nh(e),t))&&!(e.endAt&&!function(e,t,n){var r=yf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,nh(e),t))}(e,t)}function lh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fh(e){return function(t,n){var r,i=!1,a=S(nh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=hh(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function hh(e,t,n){var r=e.field.isKeyField()?bc.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xl(r,i):Yu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Yu()}}var dh=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Il(this.inner,(function(t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Sl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ph=new Cl(bc.comparator);function vh(){return ph}var mh=new Cl(bc.comparator);function gh(){for(var e=mh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function yh(e){var t=mh;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function kh(){return wh()}function bh(){return wh()}function wh(){return new dh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var xh=new Cl(bc.comparator),_h=new Ol(bc.comparator);function Eh(){for(var e=_h,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Th=new Ol(fc);function Ih(){return Th}function Sh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function Ch(e){return{integerValue:""+e}}function Ah(e,t){return Yc(t)?Ch(t):Sh(e,t)}var Nh=g((function e(){d(this,e),this._=void 0}));function Oh(e,t,n){return e instanceof Dh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Bl(t)&&(t=zl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Lh?Mh(e,t):e instanceof jh?Fh(e,t):function(e,t){var n=Ph(e,t),r=Vh(n)+Vh(e.gt);return nf(n)&&nf(e.gt)?Ch(r):Sh(e.serializer,r)}(e,t)}function Rh(e,t,n){return e instanceof Lh?Mh(e,t):e instanceof jh?Fh(e,t):n}function Ph(e,t){return e instanceof Uh?nf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Dh=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(Nh),Lh=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(Nh);function Mh(e,t){var n,r=Bh(t),i=S(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Yl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var jh=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(Nh);function Fh(e,t){var n,r=Bh(t),i=S(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Yl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Uh=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return g(n)}(Nh);function Vh(e){return Ul(e.integerValue||e.doubleValue)}function Bh(e){return rf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var zh=g((function e(t,n){d(this,e),this.field=t,this.transform=n}));var qh=g((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),Wh=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Hh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Kh=g((function e(){d(this,e)}));function Gh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ad(e.key,Wh.none()):new $h(e.key,e.data,Wh.none());var n,r=e.data,i=pf.empty(),a=new Ol(kc.comparator),o=S(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Zh(e.key,i,new Dl(a.toArray()),Wh.none())}function Qh(e,t,n){e instanceof $h?function(e,t,n){var r=e.value.clone(),i=td(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zh?function(e,t,n){if(Hh(e.precondition,t)){var r=td(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ed(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Yh(e,t,n,r){return e instanceof $h?function(e,t,n,r){if(!Hh(e.precondition,t))return n;var i=e.value.clone(),a=nd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Zh?function(e,t,n,r){if(!Hh(e.precondition,t))return n;var i=nd(e.fieldTransforms,r,t),a=t.data;return a.setAll(ed(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Hh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Jh(e,t){var n,r=null,i=S(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Ph(a.transform,o||null);null!=s&&(null===r&&(r=pf.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Xh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&hc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Lh&&t instanceof Lh||e instanceof jh&&t instanceof jh?hc(e.elements,t.elements,Yl):e instanceof Uh&&t instanceof Uh?Yl(e.gt,t.gt):e instanceof Dh&&t instanceof Dh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var $h=function(e){k(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Kh),Zh=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Kh);function ed(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function td(e,t,n){var r=new Map;Ju(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Rh(o,s,n[i]))}return r}function nd(e,t,n){var r,i=new Map,a=S(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Oh(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var rd,id,ad=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Kh),od=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Kh),sd=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Qh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=S(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Yh(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=S(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Yh(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=bh();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Gh(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(vc.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Eh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,(function(e,t){return Xh(e,t)}))&&hc(this.baseMutations,e.baseMutations,(function(e,t){return Xh(e,t)}))}}]),e}(),ud=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){Ju(t.mutations.length===r.length);for(var i=xh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),cd=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ld=g((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function fd(e){switch(e){default:return Yu();case $u.CANCELLED:case $u.UNKNOWN:case $u.DEADLINE_EXCEEDED:case $u.RESOURCE_EXHAUSTED:case $u.INTERNAL:case $u.UNAVAILABLE:case $u.UNAUTHENTICATED:return!1;case $u.INVALID_ARGUMENT:case $u.NOT_FOUND:case $u.ALREADY_EXISTS:case $u.PERMISSION_DENIED:case $u.FAILED_PRECONDITION:case $u.ABORTED:case $u.OUT_OF_RANGE:case $u.UNIMPLEMENTED:case $u.DATA_LOSS:return!0}}function hd(e){if(void 0===e)return Ku("GRPC error has no .code"),$u.UNKNOWN;switch(e){case rd.OK:return $u.OK;case rd.CANCELLED:return $u.CANCELLED;case rd.UNKNOWN:return $u.UNKNOWN;case rd.DEADLINE_EXCEEDED:return $u.DEADLINE_EXCEEDED;case rd.RESOURCE_EXHAUSTED:return $u.RESOURCE_EXHAUSTED;case rd.INTERNAL:return $u.INTERNAL;case rd.UNAVAILABLE:return $u.UNAVAILABLE;case rd.UNAUTHENTICATED:return $u.UNAUTHENTICATED;case rd.INVALID_ARGUMENT:return $u.INVALID_ARGUMENT;case rd.NOT_FOUND:return $u.NOT_FOUND;case rd.ALREADY_EXISTS:return $u.ALREADY_EXISTS;case rd.PERMISSION_DENIED:return $u.PERMISSION_DENIED;case rd.FAILED_PRECONDITION:return $u.FAILED_PRECONDITION;case rd.ABORTED:return $u.ABORTED;case rd.OUT_OF_RANGE:return $u.OUT_OF_RANGE;case rd.UNIMPLEMENTED:return $u.UNIMPLEMENTED;case rd.DATA_LOSS:return $u.DATA_LOSS;default:return Yu()}}(id=rd||(rd={}))[id.OK=0]="OK",id[id.CANCELLED=1]="CANCELLED",id[id.UNKNOWN=2]="UNKNOWN",id[id.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",id[id.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",id[id.NOT_FOUND=5]="NOT_FOUND",id[id.ALREADY_EXISTS=6]="ALREADY_EXISTS",id[id.PERMISSION_DENIED=7]="PERMISSION_DENIED",id[id.UNAUTHENTICATED=16]="UNAUTHENTICATED",id[id.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",id[id.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",id[id.ABORTED=10]="ABORTED",id[id.OUT_OF_RANGE=11]="OUT_OF_RANGE",id[id.UNIMPLEMENTED=12]="UNIMPLEMENTED",id[id.INTERNAL=13]="INTERNAL",id[id.UNAVAILABLE=14]="UNAVAILABLE",id[id.DATA_LOSS=15]="DATA_LOSS";var dd=function(){function e(){d(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return g(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return pd}},{key:"getOrCreateInstance",value:function(){return null===pd&&(pd=new e),pd}}]),e}(),pd=null;function vd(){return new TextEncoder}var md=new Uu([4294967295,4294967295],0);function gd(e){var t=vd().encode(e),n=new Fu;return n.update(t),new Uint8Array(n.digest())}function yd(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Uu([n,r],0),new Uu([i,a],0)]}var kd=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bd("Invalid padding: ".concat(n));if(r<0)throw new bd("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new bd("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new bd("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Uu.fromNumber(this.It)}return g(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Uu.fromNumber(n)));return 1===r.compare(md)&&(r=new Uu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=l(yd(gd(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=l(yd(gd(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),bd=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return g(n)}(T(Error)),wd=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,xd.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(vc.min(),i,new Cl(fc),vh(),Eh())}}]),e}(),xd=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Eh(),Eh(),Eh())}}]),e}(),_d=g((function e(t,n,r,i){d(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Ed=g((function e(t,n){d(this,e),this.targetId=t,this.Vt=n})),Td=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ml.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Id=function(){function e(){d(this,e),this.St=0,this.Dt=Ad(),this.Ct=Ml.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return g(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=Eh(),t=Eh(),n=Eh();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Yu()}})),new xd(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Ad()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Sd=function(){function e(t){d(this,e),this.Gt=t,this.Qt=new Map,this.jt=vh(),this.zt=Cd(),this.Wt=new Cl(fc)}return g(e,[{key:"Ht",value:function(e){var t,n=S(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=S(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:Yu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(Hf(a))if(0===r){var o=new bc(a.path);this.Yt(n,o,mf.newNoDocument(o,vc.min()))}else Ju(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=dd.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=Vl(c).toUint8Array()}catch(e){if(e instanceof Ll)return Gu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new kd(a,f,d)}catch(e){return Gu(e instanceof bd?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&Hf(a.target)){var o=new bc(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,mf.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=Eh();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new wd(e,n,this.Wt,this.jt,r);return this.jt=vh(),this.zt=Cd(),this.Wt=new Cl(fc),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Id,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new Ol(fc),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||Hu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Id),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Cd(){return new Cl(bc.comparator)}function Ad(){return new Cl(bc.comparator)}var Nd={asc:"ASCENDING",desc:"DESCENDING"},Od={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rd={and:"AND",or:"OR"},Pd=g((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function Dd(e,t){return e.useProto3Json||Gc(t)?t:{value:t}}function Ld(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Md(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jd(e,t){return Ld(e,t.toTimestamp())}function Fd(e){return Ju(!!e),vc.fromTimestamp(function(e){var t=Fl(e);return new pc(t.seconds,t.nanos)}(e))}function Ud(e,t){return function(e){return new gc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Vd(e){var t=gc.fromString(e);return Ju(cp(t)),t}function Bd(e,t){return Ud(e.databaseId,t.path)}function zd(e,t){var n=Vd(t);if(n.get(1)!==e.databaseId.projectId)throw new Zu($u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Zu($u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bc(Kd(n))}function qd(e,t){return Ud(e.databaseId,t)}function Wd(e){var t=Vd(e);return 4===t.length?gc.emptyPath():Kd(t)}function Hd(e){return new gc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kd(e){return Ju(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gd(e,t,n){return{name:Bd(e,t),fields:n.value.mapValue.fields}}function Qd(e,t,n){var r=zd(e,t.name),i=Fd(t.updateTime),a=t.createTime?Fd(t.createTime):vc.min(),o=new pf({mapValue:{fields:t.fields}}),s=mf.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Yd(e,t){return"found"in t?function(e,t){Ju(!!t.found),t.found.name,t.found.updateTime;var n=zd(e,t.found.name),r=Fd(t.found.updateTime),i=t.found.createTime?Fd(t.found.createTime):vc.min(),a=new pf({mapValue:{fields:t.found.fields}});return mf.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Ju(!!t.missing),Ju(!!t.readTime);var n=zd(e,t.missing),r=Fd(t.readTime);return mf.newNoDocument(n,r)}(e,t):Yu()}function Jd(e,t){var n;if(t instanceof $h)n={update:Gd(e,t.key,t.value)};else if(t instanceof ad)n={delete:Bd(e,t.key)};else if(t instanceof Zh)n={update:Gd(e,t.key,t.data),updateMask:up(t.fieldMask)};else{if(!(t instanceof od))return Yu();n={verify:Bd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Dh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uh)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Yu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Yu()}(e,t.precondition)),n}function Xd(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Wh.updateTime(Fd(e.updateTime)):void 0!==e.exists?Wh.exists(e.exists):Wh.none()}(t.currentDocument):Wh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ju("REQUEST_TIME"===t.setToServerValue),n=new Dh;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Lh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new jh(i)}else"increment"in t?n=new Uh(e,t.increment):Yu();var a=kc.fromServerFormat(t.fieldPath);return new zh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=zd(e,t.update.name),a=new pf({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Dl(t.map((function(e){return kc.fromServerFormat(e)})))}(t.updateMask);return new Zh(i,a,o,n,r)}return new $h(i,a,n,r)}if(t.delete){var s=zd(e,t.delete);return new ad(s,n)}if(t.verify){var u=zd(e,t.verify);return new od(u,n)}return Yu()}function $d(e,t){return{documents:[qd(e,t.path)]}}function Zd(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=qd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=qd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return sp(Ef.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ap(e.field),direction:np(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=Dd(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ep(e){var t=Wd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ju(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=tp(e);return t instanceof Ef&&Sf(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new bf(op(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Gc(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new gf(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new gf(n,t)}(n.endAt)),Jf(t,i,s,o,u,"F",c,l)}function tp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=op(e.unaryFilter.field);return _f.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=op(e.unaryFilter.field);return _f.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=op(e.unaryFilter.field);return _f.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=op(e.unaryFilter.field);return _f.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Yu()}}(e):void 0!==e.fieldFilter?function(e){return _f.create(op(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ef.create(e.compositeFilter.filters.map((function(e){return tp(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Yu()}}(e.compositeFilter.op))}(e):Yu()}function np(e){return Nd[e]}function rp(e){return Od[e]}function ip(e){return Rd[e]}function ap(e){return{fieldPath:e.canonicalString()}}function op(e){return kc.fromServerFormat(e.fieldPath)}function sp(e){return e instanceof _f?function(e){if("=="===e.op){if(of(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NAN"}};if(af(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(of(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NOT_NAN"}};if(af(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ap(e.field),op:rp(e.op),value:e.value}}}(e):e instanceof Ef?function(e){var t=e.getFilters().map((function(e){return sp(e)}));return 1===t.length?t[0]:{compositeFilter:{op:ip(e.op),filters:t}}}(e):Yu()}function up(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function cp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var lp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:vc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:vc.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ml.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),fp=g((function e(t){d(this,e),this.fe=t}));function hp(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:dp(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Bd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ld(e,t.version.toTimestamp()),createTime:Ld(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pp(t.version)};else{if(!t.isUnknownDocument())return Yu();r.unknownDocument={path:n.path.toArray(),version:pp(t.version)}}return r}function dp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pp(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function vp(e){var t=new pc(e.seconds,e.nanoseconds);return vc.fromTimestamp(t)}function mp(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Xd(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Xd(e.fe,t)})),s=pc.fromMillis(t.localWriteTimeMs);return new sd(t.batchId,s,n,o)}function gp(e){var t,n,r=vp(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?vp(e.lastLimboFreeSnapshotVersion):vc.min();return void 0!==e.query.documents?(Ju(1===(n=e.query).documents.length),t=rh(Xf(Wd(n.documents[0])))):t=function(e){return rh(ep(e))}(e.query),new lp(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,Ml.fromBase64String(e.resumeToken))}function yp(e,t){var n,r=pp(t.snapshotVersion),i=pp(t.lastLimboFreeSnapshotVersion);n=Hf(t.target)?$d(e.fe,t.target):Zd(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qf(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function kp(e){var t=ep({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ah(t,t.limit,"L"):t}function bp(e,t){return new cd(t.largestBatchId,Xd(e.fe,t.overlayMutation))}function wp(e,t){var n=t.path.lastSegment();return[e,Jc(t.path.popLast()),n]}function xp(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:pp(r.readTime),documentKey:Jc(r.documentKey.path),largestBatchId:r.largestBatchId}}var _p=function(){function e(){d(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Ep(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:vp(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ep(e).put({bundleId:(n=t).id,createTime:pp(Fd(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Tp(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:kp(t.bundledQuery),readTime:vp(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Tp(e).put(function(e){return{name:e.name,readTime:pp(Fd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ep(e){return El(e,"bundles")}function Tp(e){return El(e,"namedQueries")}var Ip=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return Sp(e).get(wp(this.userId,t)).next((function(e){return e?bp(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=kh();return Dc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new cd(t,a);i.push(r.we(e,o))})),Dc.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Jc(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Sp(e).J("collectionPathOverlayIndex",i))})),Dc.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=kh(),a=Jc(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Sp(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=bp(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=kh(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sp(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=bp(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return Sp(e).put(function(e,t,n){var r=l(wp(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Jd(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Sp(e){return El(e,"documentOverlays")}var Cp=function(){function e(){d(this,e)}return g(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ul(e.integerValue));else if("doubleValue"in e){var n=Ul(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Qc(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Vl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?cf(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Yu()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),bc.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function Ap(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Np(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Ap(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Cp.Ve=new Cp;var Op=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=Np(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=Np(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Rp=function(){function e(t){d(this,e),this.je=t}return g(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),Pp=function(){function e(t){d(this,e),this.je=t}return g(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),Dp=function(){function e(){d(this,e),this.je=new Op,this.ze=new Rp(this.je),this.We=new Pp(this.je)}return g(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),Lp=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Mp(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=jp(e.arrayValue,t.arrayValue))?n:0!==(n=jp(e.directionalValue,t.directionalValue))?n:bc.comparator(e.documentKey,t.documentKey)}function jp(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Fp=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=S(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"tn",value:function(e){Ju(e.collectionGroup===this.collectionId);var t=xc(e);if(void 0!==t&&!this.en(t))return!1;for(var n=_c(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=S(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Up(e){var t,n;if(Ju(e instanceof _f||e instanceof Ef),e instanceof _f){if(e instanceof Ff){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return _f.create(e.field,"==",t)})))||[];return Ef.create(r,"or")}return e}var i=e.filters.map((function(e){return Up(e)}));return Ef.create(i,e.op)}function Vp(e){if(0===e.getFilters().length)return[];var t=Wp(Up(e));return Ju(qp(t)),Bp(t)||zp(t)?[t]:t.getFilters()}function Bp(e){return e instanceof _f}function zp(e){return e instanceof Ef&&Sf(e)}function qp(e){return Bp(e)||zp(e)||function(e){if(e instanceof Ef&&If(e)){var t,n=S(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Bp(r)&&!zp(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Wp(e){if(Ju(e instanceof _f||e instanceof Ef),e instanceof _f)return e;if(1===e.filters.length)return Wp(e.filters[0]);var t=e.filters.map((function(e){return Wp(e)})),n=Ef.create(t,e.op);return qp(n=Gp(n))?n:(Ju(n instanceof Ef),Ju(Tf(n)),Ju(n.filters.length>1),n.filters.reduce((function(e,t){return Hp(e,t)})))}function Hp(e,t){var n;return Ju(e instanceof _f||e instanceof Ef),Ju(t instanceof _f||t instanceof Ef),n=e instanceof _f?t instanceof _f?function(e,t){return Ef.create([e,t],"and")}(e,t):Kp(e,t):t instanceof _f?Kp(t,e):function(e,t){if(Ju(e.filters.length>0&&t.filters.length>0),Tf(e)&&Tf(t))return Of(e,t.getFilters());var n=If(e)?e:t,r=If(e)?t:e,i=n.filters.map((function(e){return Hp(e,r)}));return Ef.create(i,"or")}(e,t),Gp(n)}function Kp(e,t){if(Tf(t))return Of(t,e.getFilters());var n=t.filters.map((function(t){return Hp(e,t)}));return Ef.create(n,"or")}function Gp(e){if(Ju(e instanceof _f||e instanceof Ef),e instanceof _f)return e;var t=e.getFilters();if(1===t.length)return Gp(t[0]);if(Cf(e))return e;var n=t.map((function(e){return Gp(e)})),r=[];return n.forEach((function(t){t instanceof _f?r.push(t):t instanceof Ef&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:Ef.create(r,e.op)}var Qp=function(){function e(){d(this,e),this.rn=new Yp}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Dc.resolve()}},{key:"getCollectionParents",value:function(e,t){return Dc.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Dc.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Dc.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Dc.resolve(null)}},{key:"getIndexType",value:function(e,t){return Dc.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Dc.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Dc.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Dc.resolve(Cc.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Dc.resolve(Cc.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Dc.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Dc.resolve()}}]),e}(),Yp=function(){function e(){d(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ol(gc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ol(gc.comparator)).toArray()}}]),e}(),Jp=new Uint8Array(0),Xp=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.on=new Yp,this.un=new dh((function(e){return qf(e)}),(function(e,t){return Wf(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:Jc(i)};return $p(e).put(a)}return Dc.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[dc(t),""],!1,!0);return $p(e).j(r).next((function(e){var r,i=S(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Zc(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ev(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=tv(e);return a.next((function(e){o.put(xp(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ev(e),r=tv(e),i=Zp(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Zp(e),i=!0,a=new Map;return Dc.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Eh(),o=[];return Dc.forEach(a,(function(i,a){var s;Hu("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(qf(t)));var u=function(e,t){var n=xc(t);if(void 0===n)return null;var r,i=S(Kf(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=S(_c(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=S(Kf(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=S(_c(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Gf(e,o.fieldPath,e.startAt):Qf(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new gf(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=S(_c(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Qf(e,o.fieldPath,e.endAt):Gf(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new gf(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Dc.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=bc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Dc.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Vp(Ef.create(e.filters,"and")).map((function(t){return zf(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.dn(t[d/c]):Jp,f=s.wn(e,u,n[d%c],r),p=s._n(e,u,i[d%c],a),v=o.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,h(s.createRange(f,p,v)))},d=0;d<u;++d)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new Lp(e,bc.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new Lp(e,bc.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new Fp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=S(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Dc.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ol(kc.comparator),r=!1,i=S(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=S(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=S(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new Dp,i=S(_c(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);Cp.Ve._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new Dp;return Cp.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new Dp;return Cp.Ve._e(tf(this.databaseId,t),n.He(function(e){var t=_c(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Dp);var i,a=0,o=S(_c(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=S(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.yn(t,u.fieldPath)&&rf(c))r=this.pn(r,u,c);else{var h=f.He(u.kind);Cp.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=h(e),a=[],o=S(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=S(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Dp;f.seed(l.Qe()),Cp.Ve._e(u,f.He(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof _f&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ev(e),i=tv(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Dc.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Tc(t.sequenceNumber,new Cc(vp(t.readTime),new bc(Zc(t.documentKey)),t.largestBatchId)):Tc.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Ec(kc.fromServerFormat(n),r)}));return new wc(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:fc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ev(e),a=tv(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Dc.forEach(t,(function(t){return a.put(xp(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Dc.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Dc.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Dc.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?Dc.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return Zp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return Zp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=Zp(e),i=new Ol(Mp);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new Lp(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new Ol(Mp),r=this.mn(t,e);if(null==r)return n;var i=xc(t);if(null!=i){var a=e.data.field(i.fieldPath);if(rf(a)){var o,s=S(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Lp(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Lp(t.indexId,e.key,Jp,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;Hu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Pl(a),u=Pl(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Pl(o)):l?(i(s),s=Pl(a)):(s=Pl(a),u=Pl(o))}}(r,i,Mp,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),Dc.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return tv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Mp(e,t)})).filter((function(e,t,n){return!t||0!==Mp(e,n[t-1])}));var r=[];r.push(e);var i,a=S(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Mp(o,e),u=Mp(o,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(o),r.push(o.Je());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Jp,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Jp,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return Mp(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(nv)}},{key:"getMinOffset",value:function(e,t){var n=this;return Dc.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||Yu()}))})).next(nv)}}]),e}();function $p(e){return El(e,"collectionParents")}function Zp(e){return El(e,"indexEntries")}function ev(e){return El(e,"indexConfiguration")}function tv(e){return El(e,"indexState")}function nv(e){Ju(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Ac(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Cc(t.readTime,t.documentKey,n)}var rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iv=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function av(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Ju(1===s)})));var c,l=[],f=S(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=nl(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Dc.waitFor(a).next((function(){return l}))}function ov(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Yu();t=e.noDocument}return JSON.stringify(t).length}iv.DEFAULT_COLLECTION_PERCENTILE=10,iv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,iv.DEFAULT=new iv(41943040,iv.DEFAULT_COLLECTION_PERCENTILE,iv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),iv.DISABLED=new iv(-1,0,0);var sv=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cv(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=lv(e),o=cv(e);return o.add({}).next((function(s){Ju("number"==typeof s);var u,c=new sd(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Jd(e.fe,t)})),i=n.mutations.map((function(t){return Jd(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Ol((function(e,t){return fc(e.canonicalString(),t.canonicalString())})),d=S(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=nl(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,rl))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),Dc.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return cv(e).get(t).next((function(e){return e?(Ju(e.userId===n.userId),mp(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?Dc.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return cv(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ju(t.batchId>=r),a=mp(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return cv(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cv(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return mp(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=tl(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return lv(e).X({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=Zc(c);if(u===n.userId&&t.path.isEqual(h))return cv(e).get(f).next((function(e){if(!e)throw Yu();Ju(e.userId===n.userId),a.push(mp(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ol(fc),i=[];return t.forEach((function(t){var a=tl(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=lv(e).X({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=Zc(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),Dc.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=tl(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Ol(fc);return lv(e).X({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=Zc(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(cv(e).get(t).next((function(e){if(null===e)throw Yu();Ju(e.userId===n.userId),r.push(mp(n.serializer,e))})))})),Dc.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return av(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Dc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Dc.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return lv(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Zc(e[1]);i.push(a)}else r.done()})).next((function(){Ju(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return uv(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return fv(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return Ju(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function uv(e,t,n){var r=tl(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return lv(e).X({range:a,Y:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function cv(e){return El(e,"mutations")}function lv(e){return El(e,"documentMutations")}function fv(e){return El(e,"mutationQueues")}var hv=function(){function e(t){d(this,e),this.Nn=t}return g(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),dv=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new hv(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return vc.fromTimestamp(new pc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return pv(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return Ju(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return pv(e).X((function(o,s){var u=gp(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Dc.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return pv(e).X((function(e,n){var r=gp(n);t(r)}))}},{key:"$n",value:function(e){return vv(e).get("targetGlobalKey").next((function(e){return Ju(null!==e),e}))}},{key:"On",value:function(e,t){return vv(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return pv(e).put(yp(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=qf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return pv(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=gp(n);Wf(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=mv(e);return t.forEach((function(t){var o=Jc(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Dc.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=mv(e);return Dc.forEach(t,(function(t){var a=Jc(t.path);return Dc.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=mv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=mv(e),i=Eh();return r.X({range:n,Y:!0},(function(e,t,n){var r=Zc(e[1]),a=new bc(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Jc(t.path),r=IDBKeyRange.bound([n],[dc(n)],!1,!0),i=0;return mv(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return pv(e).get(t).next((function(e){return e?gp(e):null}))}}]),e}();function pv(e){return El(e,"targets")}function vv(e){return El(e,"targetGlobal")}function mv(e){return El(e,"targetDocuments")}function gv(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=fc(r,o);return 0===u?fc(i,s):u}var yv=function(){function e(t){d(this,e),this.Ln=t,this.buffer=new Ol(gv),this.qn=0}return g(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();gv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),kv=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;Hu("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Uc(e.t0)){e.next=12;break}Hu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Rc(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),bv=function(){function e(t,n){d(this,e),this.jn=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Dc.resolve(Kc.ct);var r=new yv(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Hu("LruGarbageCollector","Garbage collection skipped; disabled"),Dc.resolve(rv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Hu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),rv):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Hu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Wu()<=Xr.DEBUG&&Hu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Dc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function wv(e,t){return new bv(e,t)}var xv=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=wv(this,n)}return g(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return _v(e,n)}},{key:"removeReference",value:function(e,t,n){return _v(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return _v(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return fv(e).Z((function(r){return uv(e,r,t).next((function(e){return e&&(n=!0),Dc.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,vc.min()),mv(e).delete([0,Jc(o.path)])}))}));i.push(u)}})).next((function(){return Dc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return _v(e,t)}},{key:"Yn",value:function(e,t){var n,r=mv(e),i=Kc.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Kc.ct&&t(new bc(Zc(n)),i),i=u,n=s):i=Kc.ct})).next((function(){i!==Kc.ct&&t(new bc(Zc(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function _v(e,t){return mv(e).put(function(e,t){return{targetId:0,path:Jc(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ev=function(){function e(){d(this,e),this.changes=new dh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,mf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Dc.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Tv=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Av(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Av(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],dp(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=mf.newInvalidDocument(t);return Av(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Nv(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:mf.newInvalidDocument(t)};return Av(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Nv(t))},(function(e,i){r={document:n.ts(t,i),size:ov(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=vh();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=vh(),i=new Cl(bc.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,ov(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return Dc.resolve();var r=new Ol(Rv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Nv(r.first()),Nv(r.last())),a=r.getIterator(),o=a.getNext();return Av(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=bc.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Rv(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(Nv(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),dp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Av(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=vh(),o=S(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.ts(bc.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(ch(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=vh(),o=Ov(t,n),s=Ov(t,Cc.max());return Av(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(bc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Sv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Cv(e).get("remoteDocumentGlobalKey").next((function(e){return Ju(!!e),e}))}},{key:"Zn",value:function(e,t){return Cv(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Qd(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=bc.fromSegments(t.noDocument.path),i=vp(t.noDocument.readTime);n=mf.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Yu();var a=bc.fromSegments(t.unknownDocument.path),o=vp(t.unknownDocument.version);n=mf.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new pc(e[0],e[1]);return vc.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(vc.min()))return n}return mf.newInvalidDocument(e)}}]),e}();function Iv(e){return new Tv(e)}var Sv=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new dh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ol((function(e,t){return fc(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=hp(t.os.serializer,o);i=i.add(a.path.popLast());var c=ov(u);r+=c-s.size,n.push(t.os.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=hp(t.os.serializer,o.convertToNoDocument(vc.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),Dc.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ev);function Cv(e){return El(e,"remoteDocumentGlobal")}function Av(e){return El(e,"remoteDocumentsV14")}function Nv(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ov(e,t){var n=t.documentKey.path.toArray();return[e,dp(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Rv(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=fc(n[a],r[a]))return i;return(i=fc(n.length,r.length))||((i=fc(n[n.length-2],r[r.length-2]))||fc(n[n.length-1],r[r.length-1]))}var Pv=g((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Dv=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Yh(r.mutation,e,Dl.empty(),pc.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Eh()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eh(),i=kh();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=gh();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=kh();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Eh())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=vh(),a=wh(),o=wh();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Zh)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Yh(o.mutation,t,o.mutation.getFieldMask(),pc.now())):a.set(t.key,Dl.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Pv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=wh(),i=new Cl((function(e,t){return e-t})),a=Eh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=S(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Dl.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Eh()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=bh();c.forEach((function(e){if(!a.has(e)){var n=Gh(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Dc.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return bc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):th(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Dc.resolve(kh()),s=-1,u=a;return o.next((function(t){return Dc.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Dc.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Eh())})).next((function(e){return{batchId:s,changes:yh(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new bc(t)).next((function(e){var t=gh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=gh();return this.indexManager.getCollectionParents(e,i).next((function(o){return Dc.forEach(o,(function(o){var s=function(e,t){return new Yf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,mf.newInvalidDocument(r)))}));var n=gh();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Yh(a.mutation,i,Dl.empty(),pc.now()),ch(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Lv=function(){function e(t){d(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Dc.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Fd(n.createTime)}),Dc.resolve()}},{key:"getNamedQuery",value:function(e,t){return Dc.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:kp(e.bundledQuery),readTime:Fd(e.readTime)}}(t)),Dc.resolve()}}]),e}(),Mv=function(){function e(){d(this,e),this.overlays=new Cl(bc.comparator),this.ls=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return Dc.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=kh();return Dc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Dc.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Dc.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=kh(),i=t.length+1,a=new bc(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Dc.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Cl((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=kh(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=kh(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Dc.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new cd(t,n));var a=this.ls.get(t);void 0===a&&(a=Eh(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),jv=function(){function e(){d(this,e),this.fs=new Ol(Fv.ds),this.ws=new Ol(Fv._s)}return g(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Fv(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new Fv(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new bc(new gc([])),r=new Fv(n,e),i=new Fv(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new bc(new gc([])),n=new Fv(t,e),r=new Fv(t,e+1),i=Eh();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Fv(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Fv=function(){function e(t,n){d(this,e),this.key=t,this.As=n}return g(e,null,[{key:"ds",value:function(e,t){return bc.comparator(e.key,t.key)||fc(e.As,t.As)}},{key:"_s",value:function(e,t){return fc(e.As,t.As)||bc.comparator(e.key,t.key)}}]),e}(),Uv=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ol(Fv.ds)}return g(e,[{key:"checkEmpty",value:function(e){return Dc.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new sd(i,t,n,r);this.mutationQueue.push(a);var o,s=S(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new Fv(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Dc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Dc.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Dc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Dc.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Dc.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Fv(t,0),i=new Fv(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),Dc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ol(fc);return t.forEach((function(e){var t=new Fv(e,0),i=new Fv(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Dc.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;bc.isDocumentKey(i)||(i=i.child(""));var a=new Fv(new bc(i),0),o=new Ol(fc);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),Dc.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ju(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Dc.forEach(t.mutations,(function(i){var a=new Fv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Fv(t,0),r=this.Rs.firstAfterOrEqual(n);return Dc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Dc.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Vv=function(){function e(t){d(this,e),this.Ds=t,this.docs=new Cl(bc.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Dc.resolve(n?n.document.mutableCopy():mf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=vh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():mf.newInvalidDocument(e))})),Dc.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=vh(),a=t.path,o=new bc(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Ac(Sc(l),n)<=0||(r.has(l.key)||ch(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Dc.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Yu()}},{key:"Cs",value:function(e,t){return Dc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Bv(this)}},{key:"getSize",value:function(e){return Dc.resolve(this.size)}}]),e}(),Bv=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).os=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Dc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Ev),zv=function(){function e(t){d(this,e),this.persistence=t,this.xs=new dh((function(e){return qf(e)}),Wf),this.lastRemoteSnapshotVersion=vc.min(),this.highestTargetId=0,this.Ns=0,this.ks=new jv,this.targetCount=0,this.Ms=hv.kn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Dc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Dc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Dc.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Dc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Dc.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new hv(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Dc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Dc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Dc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Dc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Dc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Dc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Dc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Dc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Dc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Dc.resolve(n)}},{key:"containsKey",value:function(e,t){return Dc.resolve(this.ks.containsKey(t))}}]),e}(),qv=function(){function e(t,n){var r=this;d(this,e),this.$s={},this.overlays={},this.Os=new Kc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new zv(this),this.indexManager=new Qp,this.remoteDocumentCache=new Vv((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new fp(n),this.qs=new Lv(this.serializer)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Mv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new Uv(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Hu("MemoryPersistence","Starting transaction:",e);var i=new Wv(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Dc.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Wv=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(Oc),Hv=function(){function e(t){d(this,e),this.persistence=t,this.Qs=new jv,this.js=null}return g(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw Yu()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Dc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Dc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Dc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dc.forEach(this.Ws,(function(r){var i=bc.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,vc.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Dc.or([function(){return Dc.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),Kv=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Lc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",el,{unique:!0}),e.createObjectStore("documentMutations")}(e),Gv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Dc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Gv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",el,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Dc.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:vl});t.createIndex("collectionPathOverlayIndex",ml,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",gl,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:il});t.createIndex("documentKeyIndex",al),t.createIndex("collectionGroupIndex",ol)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:fl}).createIndex("sequenceNumberIndex",hl,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:dl}).createIndex("documentKeyIndex",pl,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=ov(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Dc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Dc.forEach(r,(function(r){Ju(r.userId===n.userId);var i=mp(t.serializer,r);return av(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new gc(n),o=function(e){return[0,Jc(e)]}(a);r.push(t.get(o).next((function(n){return n?Dc.resolve():function(n){return t.put({targetId:0,path:Jc(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Dc.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ll});var n=t.store("collectionParents"),r=new Yp,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Jc(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new gc(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Zc(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=gp(r),a=yp(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new bc(gc.fromString(i.document.name).popFirst(5)):i.noDocument?bc.fromSegments(i.noDocument.path):i.unknownDocument?bc.fromSegments(i.unknownDocument.path):Yu()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Dc.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=Iv(this.serializer),a=new qv(Hv.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Eh();mp(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Dc.forEach(r,(function(e,r){var o=new Bu(r),s=Ip.de(n.serializer,o),u=a.getIndexManager(o),c=sv.de(o,n.serializer,u,a.referenceDelegate);return new Dv(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new _l(t,Kc.ct),e).next()}))}))}}]),e}();function Gv(e){e.createObjectStore("targetDocuments",{keyPath:ul}).createIndex("documentTargetsIndex",cl,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sl,{unique:!0}),e.createObjectStore("targetGlobal")}var Qv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Yv=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new Zu($u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xv(this,i),this.di=n+"main",this.serializer=new fp(u),this.wi=new Mc(this.di,this.ui,new Kv(this.serializer)),this.Bs=new dv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Iv(this.serializer),this.qs=new _p,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&Ku("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Zu($u.FAILED_PRECONDITION,Qv);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new Kc(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=ft(ct().mark((function n(r){return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=ft(ct().mark((function t(n){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Xv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(Uc(t))return Hu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Hu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return Jv(e).get("owner").next((function(e){return Dc.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return Xv(e).delete(this.clientId)}},{key:"bi",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i,a=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=El(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Dc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=S(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?Dc.resolve(!0):Jv(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new Zu($u.FAILED_PRECONDITION,Qv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Xv(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Hu("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ft(ct().mark((function e(){var t=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new _l(e,Kc.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Xv(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return sv.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Xp(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ip.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;Hu("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?xl:14===i?wl:13===i?bl:12===i?kl:11===i?yl:void Yu();return this.wi.runTransaction(e,o,s,(function(i){return a=new _l(i,r.Os?r.Os.next():Kc.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw Ku("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new Zu($u.FAILED_PRECONDITION,Nc);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return Jv(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Zu($u.FAILED_PRECONDITION,Qv)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jv(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=Jv(e);return n.get("owner").next((function(e){return t.Ri(e)?(Hu("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Dc.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ku("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;hi()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Hu("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ku("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ku("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Mc.D()}}]),e}();function Jv(e){return El(e,"owner")}function Xv(e){return El(e,"clientMetadata")}function $v(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Zv=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return g(e,null,[{key:"Li",value:function(t,n){var r,i=Eh(),a=Eh(),o=S(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),em=function(){function e(){d(this,e),this.qi=!1}return g(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if($f(t))return Dc.resolve(null);var r=rh(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=ah(t,null,"F"),r=rh(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Eh.apply(void 0,h(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,ah(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return $f(t)||r.isEqual(vc.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(Wu()<=Xr.DEBUG&&Hu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uh(t)),i.Wi(e,o,t,Ic(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Ol(fh(e));return t.forEach((function(t,r){ch(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return Wu()<=Xr.DEBUG&&Hu("QueryEngine","Using full collection scan to execute query:",uh(t)),this.Ui.getDocumentsMatchingQuery(e,t,Cc.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),tm=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Cl(fc),this.Yi=new dh((function(e){return qf(e)}),Wf),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return g(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dv(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function nm(e,t,n,r){return new tm(e,t,n,r)}function rm(e,t){return im.apply(this,arguments)}function im(){return im=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Eh(),u=S(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=S(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=S(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=S(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(e,t){var n=Xu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Dc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ju(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Eh(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function om(e){var t=Xu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function sm(e,t){var n=Xu(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Ml.EMPTY_BYTE_STRING,vc.min()).withLastLimboFreeSnapshotVersion(vc.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=vh(),u=Eh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(um(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(vc.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Dc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function um(e,t,n){var r=Eh(),i=Eh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=vh();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(vc.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Hu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function cm(e,t){var n=Xu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function lm(e,t){var n=Xu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Dc.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new lp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function fm(e,t,n){return hm.apply(this,arguments)}function hm(){return hm=ft(ct().mark((function e(t,n,r){var i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Xu(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Uc(e.t1)){e.next=12;break}throw e.t1;case 12:Hu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),hm.apply(this,arguments)}function dm(e,t,n){var r=Xu(e),i=vc.min(),a=Eh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Xu(e),i=r.Yi.get(n);return void 0!==i?Dc.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,rh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:vc.min(),n?a:Eh())})).next((function(e){return mm(r,lh(t),e),{documents:e,ir:a}}))}))}function pm(e,t){var n=Xu(e),r=Xu(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function vm(e,t){var n=Xu(e),r=n.Xi.get(t)||vc.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Ic(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return mm(n,t,e),e}))}function mm(e,t,n){var r=e.Xi.get(t)||vc.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function gm(e,t,n,r){return ym.apply(this,arguments)}function ym(){return ym=ft(ct().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Xu(t),o=Eh(),s=vh(),u=S(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,lm(a,function(e){return rh(Xf(gc.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return um(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function km(e,t){return bm.apply(this,arguments)}function bm(){return bm=ft(ct().mark((function e(t,n){var r,i,a,o=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Eh(),e.next=3,lm(t,rh(kp(n.bundledQuery)));case 3:return i=e.sent,a=Xu(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Fd(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(Ml.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function xm(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function _m(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Em=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Zu(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ku("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Tm=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Zu(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ku("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Im=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ih(),o=0;i&&o<r.activeTargetIds.length;++o)i=Yc(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ku("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Sm=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ku("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Cm=function(){function e(){d(this,e),this.activeTargetIds=Ih()}return g(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Am=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Cl(fc),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=wm(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Cm),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return g(e,[{key:"start",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=S(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(wm(this.persistenceKey,i)))&&(o=Im.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(u=this.br(s))&&this.Vr(u),c=S(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(_m(this.persistenceKey,e));if(n){var r=Tm.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(_m(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Hu("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Hu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Hu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Hu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void Ku("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(ft(ct().mark((function e(){var r,i,a,o,s,u,c;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}u=function(e){var t=Kc.ct;if(null!=e)try{var n=JSON.parse(e);Ju("number"==typeof n),t=n}catch(e){Ku("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Kc.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new Em(this.currentUser,e,t,n),i=xm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=xm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=_m(this.persistenceKey,e),i=new Tm(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return Im.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Em.ar(new Bu(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return Tm.ar(r,t)}},{key:"br",value:function(e){return Sm.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:Hu("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=Ih();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Nm=function(){function e(){d(this,e),this.Hr=new Cm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new Cm,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Om=function(){function e(){d(this,e)}return g(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Rm=function(){function e(){var t=this;d(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return g(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){Hu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=S(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){Hu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=S(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Pm=null;function Dm(){return null===Pm?Pm=268435456+Math.round(2147483648*Math.random()):Pm++,"0x"+Pm.toString(16)}var Lm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Mm=function(){function e(t){d(this,e),this.ro=t.ro,this.oo=t.oo}return g(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),jm="WebChannelConnection",Fm=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return g(n,[{key:"Ao",value:function(e,t,n,r){var i=Dm();return new Promise((function(a,o){var s=new ju;s.setWithCredentials(!0),s.listenOnce(Ru.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Ou.NO_ERROR:var t=s.getResponseJson();Hu(jm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Ou.TIMEOUT:Hu(jm,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Zu($u.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:var n=s.getStatus();if(Hu(jm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values($u).indexOf(t)>=0?t:$u.UNKNOWN}(u.status);o(new Zu(c,u.message))}else o(new Zu($u.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Zu($u.UNAVAILABLE,"Connection failed."));break;default:Yu()}}finally{Hu(jm,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Hu(jm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=Dm(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Au(),o=Nu(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Lu({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Hu(jm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new Mm({ro:function(t){h?Hu(jm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Hu(jm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Hu(jm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Mu.EventType.OPEN,(function(){h||Hu(jm,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Mu.EventType.CLOSE,(function(){h||(h=!0,Hu(jm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,Mu.EventType.ERROR,(function(t){h||(h=!0,Gu(jm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new Zu($u.UNAVAILABLE,"The operation could not be completed")))})),p(l,Mu.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Ju(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Hu(jm,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=rd[e];if(void 0!==t)return hd(t)}(s),c=o.message;void 0===u&&(u=$u.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.wo(new Zu(u,c)),l.close()}else Hu(jm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,Pu.STAT_EVENT,(function(t){t.stat===Du.PROXY?Hu(jm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Du.NOPROXY&&Hu(jm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return g(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=Dm(),o=this.To(e,t);Hu("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return Hu("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Gu("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+zu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Lm[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function Um(){return"undefined"!=typeof window?window:null}function Vm(){return"undefined"!=typeof document?document:null}function Bm(e){return new Pd(e,!0)}var zm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Hu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),qm=function(){function e(t,n,r,i,a,o,s,u){d(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new zm(t,n)}return g(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===$u.RESOURCE_EXHAUSTED?(Ku(n.toString()),Ku("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===$u.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new Zu($u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(ft(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return Hu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(Hu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Wm=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return g(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Yu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Ju(void 0===t||"string"==typeof t),Ml.fromBase64String(t||"")):(Ju(void 0===t||t instanceof Uint8Array),Ml.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?$u.UNKNOWN:hd(e.code);return new Zu(t,e.message||"")}(o);n=new Td(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=zd(e,u.document.name),l=Fd(u.document.updateTime),f=u.document.createTime?Fd(u.document.createTime):vc.min(),h=new pf({mapValue:{fields:u.document.fields}}),d=mf.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new _d(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=zd(e,m.document),y=m.readTime?Fd(m.readTime):vc.min(),k=mf.newNoDocument(g,y),b=m.removedTargetIds||[];n=new _d([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=zd(e,w.document),_=w.removedTargetIds||[];n=new _d([],_,x,null)}else{if(!("filter"in t))return Yu();t.filter;var E=t.filter;E.targetId;var T=E.count,I=void 0===T?0:T,S=E.unchangedNames,C=new ld(I,S),A=E.targetId;n=new Ed(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return vc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?vc.min():t.readTime?Fd(t.readTime):vc.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=Hd(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Hf(r)?{documents:$d(e,r)}:{query:Zd(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Md(e,t.resumeToken);var i=Dd(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(vc.min())>0){n.readTime=Ld(e,t.snapshotVersion.toTimestamp());var a=Dd(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=Hd(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(qm),Hm=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return g(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Jr(b(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(Ju(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(Ju(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Fd(e.updateTime):Fd(t);return n.isEqual(vc.min())&&(n=Fd(t)),new qh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Fd(e.commitTime);return this.listener.cu(n,t)}return Ju(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=Hd(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Jd(t.serializer,e)}))};this.Wo(n)}}]),n}(qm),Km=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return g(n,[{key:"fu",value:function(){if(this.lu)throw new Zu($u.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===$u.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Zu($u.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===$u.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Zu($u.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return g((function e(){d(this,e)}))}());var Gm=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return g(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Ku(t),this.mu=!1):Hu("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),Qm=g((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ag(o),!e.t0){e.next=5;break}return Hu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Xu(t)).vu.add(4),e.next=4,Xm(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,Ym(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new Gm(r,i)}));function Ym(e){return Jm.apply(this,arguments)}function Jm(){return(Jm=ft(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ag(t)){e.next=18;break}n=S(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Xm(e){return $m.apply(this,arguments)}function $m(){return($m=ft(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=S(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Zm(e,t){var n=Xu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),ig(n)?rg(n):Dg(n).Ko()&&tg(n,t))}function eg(e,t){var n=Xu(e),r=Dg(n);n.Au.delete(t),r.Ko()&&ng(n,t),0===n.Au.size&&(r.Ko()?r.jo():ag(n)&&n.bu.set("Unknown"))}function tg(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vc.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Dg(e).su(t)}function ng(e,t){e.Vu.qt(t),Dg(e).iu(t)}function rg(e){e.Vu=new Sd({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),Dg(e).start(),e.bu.gu()}function ig(e){return ag(e)&&!Dg(e).Uo()&&e.Au.size>0}function ag(e){return 0===Xu(e).vu.size}function og(e){e.Vu=void 0}function sg(e){return ug.apply(this,arguments)}function ug(){return(ug=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){tg(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cg(e,t){return lg.apply(this,arguments)}function lg(){return(lg=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:og(t),ig(t)?(t.bu.Iu(n),rg(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fg(e,t,n){return hg.apply(this,arguments)}function hg(){return hg=ft(ct().mark((function e(t,n,r){var i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof Td&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ft(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=S(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Hu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,dg(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof _d?t.Vu.Ht(n):n instanceof Ed?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(vc.min())){e.next=29;break}return e.prev=14,e.next=17,om(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(Ml.EMPTY_BYTE_STRING,r.snapshotVersion)),ng(e,t);var i=new lp(r.target,t,n,r.sequenceNumber);tg(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Hu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,dg(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),hg.apply(this,arguments)}function dg(e,t,n){return pg.apply(this,arguments)}function pg(){return(pg=ft(ct().mark((function e(t,n,r){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uc(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,Xm(t);case 5:t.bu.set("Offline"),r||(r=function(){return om(t.localStore)}),t.asyncQueue.enqueueRetryable(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,Ym(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vg(e,t){return t().catch((function(n){return dg(e,n,t)}))}function mg(e){return gg.apply(this,arguments)}function gg(){return(gg=ft(ct().mark((function e(t){var n,r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Xu(t),r=Lg(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!yg(n)){e.next=19;break}return e.prev=3,e.next=6,cm(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,kg(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,dg(n,e.t0);case 17:e.next=2;break;case 19:bg(n)&&wg(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function yg(e){return ag(e)&&e.Eu.length<10}function kg(e,t){e.Eu.push(t);var n=Lg(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function bg(e){return ag(e)&&!Lg(e).Uo()&&e.Eu.length>0}function wg(e){Lg(e).start()}function xg(e){return _g.apply(this,arguments)}function _g(){return(_g=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lg(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eg(e){return Tg.apply(this,arguments)}function Tg(){return(Tg=ft(ct().mark((function e(t){var n,r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lg(t),r=S(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ig(e,t,n){return Sg.apply(this,arguments)}function Sg(){return(Sg=ft(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=ud.from(i,n,r),e.next=3,vg(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,mg(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cg(e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Lg(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=ft(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fd(i=n.code)||i===$u.ABORTED){e.next=7;break}return r=t.Eu.shift(),Lg(t).Qo(),e.next=5,vg(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,mg(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:bg(t)&&wg(t);case 5:case"end":return e.stop()}}),e)}))),Ag.apply(this,arguments)}function Ng(e,t){return Og.apply(this,arguments)}function Og(){return(Og=ft(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Xu(t)).asyncQueue.verifyOperationInProgress(),Hu("RemoteStore","RemoteStore received new credentials"),i=ag(r),r.vu.add(3),e.next=6,Xm(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,Ym(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rg(e,t){return Pg.apply(this,arguments)}function Pg(){return(Pg=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Xu(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,Ym(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,Xm(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dg(e){return e.Su||(e.Su=function(e,t,n){var r=Xu(e);return r.fu(),new Wm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:sg.bind(null,e),ao:cg.bind(null,e),nu:fg.bind(null,e)}),e.Ru.push(function(){var t=ft(ct().mark((function t(n){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),ig(e)?rg(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:og(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function Lg(e){return e.Du||(e.Du=function(e,t,n){var r=Xu(e);return r.fu(),new Hm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:xg.bind(null,e),ao:Cg.bind(null,e),au:Eg.bind(null,e),cu:Ig.bind(null,e)}),e.Ru.push(function(){var t=ft(ct().mark((function t(n){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,mg(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(Hu("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var Mg=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ec,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zu($u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function jg(e,t){if(Ku("AsyncQueue","".concat(t,": ").concat(e)),Uc(e))return new Zu($u.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Fg=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||bc.comparator(e.key,n.key)}:function(e,t){return bc.comparator(e.key,t.key)},this.keyedMap=gh(),this.sortedSet=new Cl(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ug=function(){function e(){d(this,e),this.Cu=new Cl(bc.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Yu():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Vg=function(){function e(t,n,r,i,a,o,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Fg.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Bg=g((function e(){d(this,e),this.Nu=void 0,this.listeners=[]})),zg=g((function e(){d(this,e),this.queries=new dh((function(e){return sh(e)}),oh),this.onlineState="Unknown",this.ku=new Set}));function qg(e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=ft(ct().mark((function e(t,n){var r,i,a,o,s;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Xu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Bg),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=jg(e.t0,"Initialization of query '".concat(uh(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&Yg(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Wg.apply(this,arguments)}function Hg(e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=ft(ct().mark((function e(t,n){var r,i,a,o,s;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Xu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Gg(e,t){var n,r=Xu(e),i=!1,a=S(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=S(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Yg(r)}function Qg(e,t,n){var r=Xu(e),i=r.queries.get(t);if(i){var a,o=S(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Yg(e){e.ku.forEach((function(e){e.next()}))}var Jg=function(){function e(t,n,r){d(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=S(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Vg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=Vg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),Xg=function(){function e(t,n){d(this,e),this.Gu=t,this.byteLength=n}return g(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),$g=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"rr",value:function(e){return zd(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?Qd(this.serializer,e.document,!1):mf.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return Fd(e)}}]),e}(),Zg=function(){function e(t,n,r){d(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ey(t)}return g(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=gc.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new $g(this.serializer),i=S(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),u=S(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Eh()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gm(this.localStore,new $g(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=S(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,km(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function ey(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ty=g((function e(t){d(this,e),this.key=t})),ny=g((function e(t){d(this,e),this.key=t})),ry=function(){function e(t,n){d(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Eh(),this.mutatedKeys=Eh(),this.tc=fh(t),this.ec=new Fg(this.tc)}return g(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new Ug,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ch(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yu()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new Vg(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Ug,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=Eh(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new ny(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new ty(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=Eh();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return Vg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),iy=g((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),ay=g((function e(t){d(this,e),this.key=t,this.fc=!1})),oy=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new dh((function(e){return sh(e)}),oh),this._c=new Map,this.mc=new Set,this.gc=new Cl(bc.comparator),this.yc=new Map,this.Ic=new jv,this.Tc={},this.Ec=new Map,this.Ac=hv.Mn(),this.onlineState="Unknown",this.vc=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function sy(e,t){return uy.apply(this,arguments)}function uy(){return uy=ft(ct().mark((function e(t,n){var r,i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ek(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,lm(r.localStore,rh(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,cy(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Zm(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),uy.apply(this,arguments)}function cy(e,t,n,r,i){return ly.apply(this,arguments)}function ly(){return ly=ft(ct().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=ft(ct().mark((function e(t,n,r,i){var a,o,s;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,dm(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Ny(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,dm(t.localStore,n,!0);case 3:return o=e.sent,s=new ry(n,o.ir),u=s.sc(o.documents),c=xd.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),Ny(t,r,l.cc),f=new iy(n,r,s),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}function fy(e,t){return hy.apply(this,arguments)}function hy(){return(hy=ft(ct().mark((function e(t,n){var r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Xu(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!oh(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,fm(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),eg(r.remoteStore,i.targetId),Cy(r,i.targetId)})).catch(Rc);case 9:e.next=14;break;case 11:return Cy(r,i.targetId),e.next=14,fm(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dy(e,t,n){return py.apply(this,arguments)}function py(){return py=ft(ct().mark((function e(t,n,r){var i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tk(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Xu(e),a=pc.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Eh());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=vh(),u=Eh();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=S(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Jh(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Zh(c.key,l,vf(l.value.mapValue),Wh.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:yh(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new Cl(fc)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Py(i,a.changes);case 9:return e.next=11,mg(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=jg(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),py.apply(this,arguments)}function vy(e,t){return my.apply(this,arguments)}function my(){return(my=ft(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xu(t),e.prev=1,e.next=4,sm(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(Ju(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?Ju(n.fc):e.removedDocuments.size>0&&(Ju(n.fc),n.fc=!1))})),e.next=8,Py(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Rc(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function gy(e,t,n){var r=Xu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Xu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=S(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Yg(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function yy(e,t,n){return ky.apply(this,arguments)}function ky(){return ky=ft(ct().mark((function e(t,n,r){var i,a,o,s,u,c;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Xu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Cl(bc.comparator)).insert(o,mf.newNoDocument(o,vc.min())),u=Eh().add(o),c=new wd(vc.min(),new Map,new Cl(fc),s,u),e.next=9,vy(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),Ry(i),e.next=16;break;case 14:return e.next=16,fm(i.localStore,n,!1).then((function(){return Cy(i,n,r)})).catch(Rc);case 16:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function by(e,t){return wy.apply(this,arguments)}function wy(){return(wy=ft(ct().mark((function e(t,n){var r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xu(t),i=n.batch.batchId,e.prev=1,e.next=4,am(r.localStore,n);case 4:return a=e.sent,Sy(r,i,null),Iy(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Py(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Rc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function xy(e,t,n){return _y.apply(this,arguments)}function _y(){return(_y=ft(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xu(t),e.prev=1,e.next=4,function(e,t){var n=Xu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Ju(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Sy(i,n,r),Iy(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Py(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Rc(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Ey(e,t){return Ty.apply(this,arguments)}function Ty(){return(Ty=ft(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ag((r=Xu(t)).remoteStore)||Hu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Xu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=jg(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Iy(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function Sy(e,t,n){var r=Xu(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Cy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=S(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||Ay(e,t)}))}function Ay(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(eg(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Ry(e))}function Ny(e,t,n){var r,i=S(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ty?(e.Ic.addReference(a.key,t),Oy(e,a)):a instanceof ny?(Hu("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||Ay(e,a.key)):Yu()}}catch(o){i.e(o)}finally{i.f()}}function Oy(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Hu("SyncEngine","New document in limbo: "+n),e.mc.add(r),Ry(e))}function Ry(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new bc(gc.fromString(t)),r=e.Ac.next();e.yc.set(r,new ay(n)),e.gc=e.gc.insert(n,r),Zm(e.remoteStore,new lp(rh(Xf(n.path)),r,"TargetPurposeLimboResolution",Kc.ct))}}function Py(e,t,n){return Dy.apply(this,arguments)}function Dy(){return Dy=ft(ct().mark((function e(t,n,r){var i,a,o,s;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Xu(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Zv.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=ft(ct().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Dc.forEach(n,(function(t){return Dc.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Dc.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Uc(e.t0)){e.next=10;break}throw e.t0;case 10:Hu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=S(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ly(e,t){return My.apply(this,arguments)}function My(){return(My=ft(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Xu(t)).currentUser.isEqual(n)){e.next=11;break}return Hu("SyncEngine","User change. New user:",n.toKey()),e.next=5,rm(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new Zu($u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Py(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jy(e,t){var n=Xu(e),r=n.yc.get(t);if(r&&r.fc)return Eh().add(r.key);var i=Eh(),a=n._c.get(t);if(!a)return i;var o,s=S(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function Fy(e,t){return Uy.apply(this,arguments)}function Uy(){return(Uy=ft(ct().mark((function e(t,n){var r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xu(t),e.next=3,dm(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&Ny(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vy(e,t){return By.apply(this,arguments)}function By(){return(By=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xu(t),e.abrupt("return",vm(r.localStore,n).then((function(e){return Py(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zy(e,t,n,r){return qy.apply(this,arguments)}function qy(){return qy=ft(ct().mark((function e(t,n,r,i){var a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xu(t),e.next=3,function(e,t){var n=Xu(e),r=Xu(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Dc.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,mg(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Sy(a,n,i||null),Iy(a,n),function(e,t){Xu(Xu(e).mutationQueue).Cn(t)}(a.localStore,n)):Yu();case 11:return e.next=13,Py(a,o);case 13:e.next=16;break;case 15:Hu("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),qy.apply(this,arguments)}function Wy(e,t){return Hy.apply(this,arguments)}function Hy(){return(Hy=ft(ct().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ek(r=Xu(t)),tk(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Ky(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,Rg(r.remoteStore,!0);case 9:o=S(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Zm(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Cy(r,t),fm(r.localStore,t,!0)})),eg(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Ky(r,c);case 21:return function(e){var t=Xu(e);t.yc.forEach((function(e,n){eg(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Cl(bc.comparator)}(r),r.vc=!1,e.next=25,Rg(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ky(e,t,n){return Gy.apply(this,arguments)}function Gy(){return Gy=ft(ct().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Xu(t),a=[],o=[],s=S(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,lm(i.localStore,rh(f[0]));case 11:l=e.sent,h=S(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,Fy(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,pm(i.localStore,c);case 36:return g=e.sent,e.next=39,lm(i.localStore,g);case 39:return l=e.sent,e.next=42,cy(i,Qy(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Gy.apply(this,arguments)}function Qy(e){return Jf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Yy(e){var t=Xu(e);return Xu(Xu(t.localStore).persistence).$i()}function Jy(e,t,n,r){return Xy.apply(this,arguments)}function Xy(){return Xy=ft(ct().mark((function e(t,n,r,i){var a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Xu(t)).vc){e.next=3;break}return e.abrupt("return",void Hu("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,vm(a.localStore,lh(o[0]));case 10:return s=e.sent,u=wd.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ml.EMPTY_BYTE_STRING),e.next=14,Py(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,fm(a.localStore,n,!0);case 17:return Cy(a,n,i),e.abrupt("break",20);case 19:Yu();case 20:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function $y(e,t,n){return Zy.apply(this,arguments)}function Zy(){return(Zy=ft(ct().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ek(t)).vc){e.next=45;break}a=S(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return Hu("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,pm(i.localStore,s);case 12:return u=e.sent,e.next=15,lm(i.localStore,u);case 15:return c=e.sent,e.next=18,cy(i,Qy(u),c.targetId,!1,c.resumeToken);case 18:Zm(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=S(r),e.prev=30,h=ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,fm(i.localStore,t,!1).then((function(){eg(i.remoteStore,t),Cy(i,t)})).catch(Rc);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function ek(e){var t=Xu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yy.bind(null,t),t.dc.nu=Gg.bind(null,t.eventManager),t.dc.Pc=Qg.bind(null,t.eventManager),t}function tk(e){var t=Xu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=by.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xy.bind(null,t),t}function nk(e,t,n){var r=Xu(e);(function(){var e=ft(ct().mark((function e(t,n,r){var i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Xu(e),r=Fd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(ey(i)),a=new Zg(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,Py(t,u.Ju,void 0);case 31:return e.next=33,function(e,t){var n=Xu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Gu("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var rk=function(){function e(){d(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Bm(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return nm(this.persistence,new em,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new qv(Hv.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Nm}},{key:"terminate",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ik=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=ft(ct().mark((function e(t){var r=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jr(b(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,tk(this.Vc.syncEngine);case 6:return e.next=8,mg(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return nm(this.persistence,new em,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new kv(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Hc(t,this.persistence);return new Wc(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=$v(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?iv.withCacheSize(this.cacheSizeBytes):iv.DEFAULT;return new Yv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Um(),Vm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Nm}}]),n}(rk),ak=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=ft(ct().mark((function e(t){var r,i=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jr(b(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof Am,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:zy.bind(null,r),zr:Jy.bind(null,r),Wr:$y.bind(null,r),$i:Yy.bind(null,r),Qr:Vy.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wy(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Um();if(!Am.D(t))throw new Zu($u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=$v(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Am(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ik),ok=function(){function e(){d(this,e)}return g(e,[{key:"initialize",value:function(){var e=ft(ct().mark((function e(t,n){var r=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return gy(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ly.bind(null,this.syncEngine),e.next=12,Rg(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new zg}},{key:"createDatastore",value:function(e){var t,n=Bm(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Fm(t));return function(e,t,n,r){return new Km(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return gy(o.syncEngine,e,0)},a=Rm.D()?new Rm:new Om,new Qm(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new oy(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xu(t),Hu("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,Xm(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function sk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ft(ct().mark((function r(){var i;return ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var uk=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):Ku("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ck=function(){function e(t,n){var r=this;d(this,e),this.Cc=t,this.serializer=n,this.metadata=new ec,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new Xg(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=ft(ct().mark((function e(){var t,n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=ft(ct().mark((function e(){var t,n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),lk=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=ft(ct().mark((function e(t){var n,r=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Zu($u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ft(ct().mark((function e(t,n){var r,i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xu(t),i=Hd(r.serializer)+"/documents",a={documents:n.map((function(e){return Bd(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Yd(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Ju(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ad(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ft(ct().mark((function e(){var t,n=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=bc.fromPath(t);n.mutations.push(new od(r,n.precondition(r)))})),e.next=7,function(){var e=ft(ct().mark((function e(t,n){var r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xu(t),i=Hd(r.serializer)+"/documents",a={writes:n.map((function(e){return Jd(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Yu();t=vc.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Zu($u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vc.min())?Wh.exists(!1):Wh.updateTime(t):Wh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vc.min()))throw new Zu($u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wh.updateTime(t)}return Wh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),fk=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new zm(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(ft(ct().mark((function t(){var n,r;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new lk(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!Gc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!fd(t)}return!1}}]),e}(),hk=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bu.UNAUTHENTICATED,this.clientId=lc.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Hu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Zu($u.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ec;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ft(ct().mark((function n(){var r;return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=jg(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function dk(e,t){return pk.apply(this,arguments)}function pk(){return pk=ft(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Hu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,rm(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),pk.apply(this,arguments)}function vk(e,t){return mk.apply(this,arguments)}function mk(){return(mk=ft(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,yk(t);case 3:return r=e.sent,Hu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Ng(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Ng(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gk(e){return"FirebaseError"===e.name?e.code===$u.FAILED_PRECONDITION||e.code===$u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function yk(e){return kk.apply(this,arguments)}function kk(){return(kk=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Hu("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,dk(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),gk(n=e.t0)){e.next=13;break}throw n;case 13:return Gu("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,dk(t,new rk);case 16:e.next=21;break;case 18:return Hu("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,dk(t,new rk);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function bk(e){return wk.apply(this,arguments)}function wk(){return(wk=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Hu("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,vk(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Hu("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,vk(t,new ok);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xk(e){return yk(e).then((function(e){return e.persistence}))}function _k(e){return yk(e).then((function(e){return e.localStore}))}function Ek(e){return bk(e).then((function(e){return e.remoteStore}))}function Tk(e){return bk(e).then((function(e){return e.syncEngine}))}function Ik(e){return bk(e).then((function(e){return e.datastore}))}function Sk(e){return Ck.apply(this,arguments)}function Ck(){return(Ck=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sy.bind(null,n.syncEngine),r.onUnlisten=fy.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ak(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ec;return e.asyncQueue.enqueueAndForget(ft(ct().mark((function i(){return ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new uk({next:function(a){t.enqueueAndForget((function(){return Hg(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Zu($u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Zu($u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Jg(Xf(n.path),a,{includeMetadataChanges:!0,Ku:!0});return qg(e,o)},i.next=3,Sk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Nk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ec;return e.asyncQueue.enqueueAndForget(ft(ct().mark((function i(){return ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new uk({next:function(n){t.enqueueAndForget((function(){return Hg(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Zu($u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Jg(n,a,{includeMetadataChanges:!0,Ku:!0});return qg(e,o)},i.next=3,Sk(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ok(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Rk=new Map;function Pk(e,t,n){if(!n)throw new Zu($u.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Dk(e,t,n,r){if(!0===t&&!0===r)throw new Zu($u.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Lk(e){if(!bc.isDocumentKey(e))throw new Zu($u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Mk(e){if(bc.isDocumentKey(e))throw new Zu($u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function jk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Yu()}function Fk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Zu($u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jk(e);throw new Zu($u.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Uk(e,t){if(t<=0)throw new Zu($u.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Vk=function(){function e(t){var n,r;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Zu($u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zu($u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Dk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ok(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Zu($u.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Zu($u.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Zu($u.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),Bk=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vk({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new Zu($u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Zu($u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new nc;switch(e.type){case"firstParty":return new oc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Zu($u.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Rk.get(e);t&&(Hu("ComponentProvider","Removing Datastore"),Rk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function zk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Fk(e,Bk))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Bu.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[si(JSON.stringify({alg:"none",type:"JWT"})),si(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Zu($u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Bu(c)}e._authCredentials=new rc(new tc(s,u))}}var qk=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Hk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Wk=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Hk=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,Xf(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new qk(this.firestore,null,new bc(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Wk);function Kk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mi(e),Pk("collection","path",t),e instanceof Bk){var a=gc.fromString.apply(gc,[t].concat(r));return Mk(a),new Hk(e,null,a)}if(!(e instanceof qk||e instanceof Hk))throw new Zu($u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(gc.fromString.apply(gc,[t].concat(r)));return Mk(o),new Hk(e.firestore,null,o)}function Gk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mi(e),1===arguments.length&&(t=lc.A()),Pk("doc","path",t),e instanceof Bk){var a=gc.fromString.apply(gc,[t].concat(r));return Lk(a),new qk(e,null,new bc(a))}if(!(e instanceof qk||e instanceof Hk))throw new Zu($u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(gc.fromString.apply(gc,[t].concat(r)));return Lk(o),new qk(e.firestore,e instanceof Hk?e.converter:null,new bc(o))}function Qk(e,t){return e=mi(e),t=mi(t),(e instanceof qk||e instanceof Hk)&&(t instanceof qk||t instanceof Hk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Yk(e,t){return e=mi(e),t=mi(t),e instanceof Wk&&t instanceof Wk&&e.firestore===t.firestore&&oh(e._query,t._query)&&e.converter===t.converter}var Jk=function(){function e(){var t=this;d(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new zm(this,"async_queue_retry"),this.Xc=function(){var e=Vm();e&&Hu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=Vm();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return g(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=Vm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new ec;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=ft(ct().mark((function e(){var t=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Uc(e.t0)){e.next=12;break}throw e.t0;case 12:Hu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ku("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=Mg.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&Yu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=S(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=S(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function Xk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=S(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var $k=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new ec,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Zk=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Jk,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||tb(this),this._firestoreClient.terminate()}}]),n}(Bk);function eb(e){return e._firestoreClient||tb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tb(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Wl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ok(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new hk(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function nb(e,t,n){var r=new ec;return e.asyncQueue.enqueue(ft(ct().mark((function i(){var a;return ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,dk(e,n);case 3:return i.next=5,vk(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),gk(a=i.t0)){i.next=13;break}throw a;case 13:Gu("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function rb(e){return function(e){return e.asyncQueue.enqueue(ft(ct().mark((function t(){var n,r;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xk(e);case 2:return n=t.sent,t.next=5,Ek(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Xu(e);return t.vu.delete(0),Ym(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(eb(e=Fk(e,Zk)))}function ib(e){return function(e){return e.asyncQueue.enqueue(ft(ct().mark((function t(){var n,r;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xk(e);case 2:return n=t.sent,t.next=5,Ek(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Xu(t)).vu.add(0),e.next=4,Xm(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(eb(e=Fk(e,Zk)))}function ab(e,t){var n=eb(e=Fk(e,Zk)),r=new $k;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ck(e,t)}(function(e,t){if(e instanceof Uint8Array)return sk(e,t);if(e instanceof ArrayBuffer)return sk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?vd().encode(e):e),t)}(n,Bm(t));e.asyncQueue.enqueueAndForget(ft(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=nk,t.next=3,Tk(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ob(e,t){return function(e,t){return e.asyncQueue.enqueue(ft(ct().mark((function n(){return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Xu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,_k(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(eb(e=Fk(e,Zk)),t).then((function(t){return t?new Wk(e,null,t.query):null}))}function sb(e){if(e._initialized||e._terminated)throw new Zu($u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ub=function(){function e(t){d(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ml.fromBase64String(t))}catch(t){throw new Zu($u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ml.fromUint8Array(t))}}]),e}(),cb=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Zu($u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kc(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var lb=g((function e(t){d(this,e),this._methodName=t})),fb=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new Zu($u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Zu($u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return fc(this._lat,e._lat)||fc(this._long,e._long)}}]),e}(),hb=/^__.*__$/,db=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Zh(e,this.data,this.fieldMask,t,this.fieldTransforms):new $h(e,this.data,t,this.fieldTransforms)}}]),e}(),pb=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new Zh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function vb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yu()}}var mb=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return Mb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(vb(this.ca)&&hb.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),gb=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Bm(t)}return g(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mb({ca:e,methodName:t,ga:n,path:kc.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function yb(e){var t=e._freezeSettings(),n=Bm(e._databaseId);return new gb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kb(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);Rb("Data must be an object, but it was:",o,r);var s,u,c=Nb(r,o);if(a.merge)s=new Dl(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=S(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Pb(t,l.value,n);if(!o.contains(d))throw new Zu($u.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));jb(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Dl(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new db(new pf(c),s,u)}var bb=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lb);function wb(e,t,n){return new mb({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var xb=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new zh(e.path,new Dh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lb),_b=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).pa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=wb(this,e,!0),n=this.pa.map((function(e){return Ab(e,t)})),r=new Lh(n);return new zh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lb),Eb=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).pa=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=wb(this,e,!0),n=this.pa.map((function(e){return Ab(e,t)})),r=new jh(n);return new zh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lb),Tb=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Ia=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new Uh(e.serializer,Ah(e.serializer,this.Ia));return new zh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lb);function Ib(e,t,n,r){var i=e.ya(1,t,n);Rb("Data must be an object, but it was:",i,r);var a=[],o=pf.empty();Il(r,(function(e,r){var s=Lb(t,e,n);r=mi(r);var u=i.da(s);if(r instanceof bb)a.push(s);else{var c=Ab(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Dl(a);return new pb(o,s,i.fieldTransforms)}function Sb(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[Pb(t,r,n)],u=[i];if(a.length%2!=0)throw new Zu($u.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Pb(t,a[c])),u.push(a[c+1]);for(var l=[],f=pf.empty(),h=s.length-1;h>=0;--h)if(!jb(l,s[h])){var d=s[h],p=u[h];p=mi(p);var v=o.da(d);if(p instanceof bb)l.push(d);else{var m=Ab(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Dl(l);return new pb(f,g,o.fieldTransforms)}function Cb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ab(n,e.ya(r?4:3,t))}function Ab(e,t){if(Ob(e=mi(e)))return Rb("Unsupported field value:",t,e),Nb(e,t);if(e instanceof lb)return function(e,t){if(!vb(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=S(e);try{for(a.s();!(n=a.n()).done;){var o=Ab(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=mi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ah(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=pc.fromDate(e);return{timestampValue:Ld(t.serializer,n)}}if(e instanceof pc){var r=new pc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ld(t.serializer,r)}}if(e instanceof fb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ub)return{bytesValue:Md(t.serializer,e._byteString)};if(e instanceof qk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Ud(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(jk(e)))}(e,t)}function Nb(e,t){var n={};return Sl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Il(e,(function(e,r){var i=Ab(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ob(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof pc||e instanceof fb||e instanceof ub||e instanceof qk||e instanceof lb)}function Rb(e,t,n){if(!Ob(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=jk(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Pb(e,t,n){if((t=mi(t))instanceof cb)return t._internalPath;if("string"==typeof t)return Lb(e,t);throw Mb("Field path arguments must be of type string or ",e,!1,void 0,n)}var Db=new RegExp("[~\\*/\\[\\]]");function Lb(e,t,n){if(t.search(Db)>=0)throw Mb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(cb,h(t.split(".")))._internalPath}catch(r){throw Mb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mb(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Zu($u.INVALID_ARGUMENT,s+e+u)}function jb(e,t){return e.some((function(e){return e.isEqual(t)}))}var Fb=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new qk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Ub(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Ub=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return Jr(b(n.prototype),"data",this).call(this)}}]),n}(Fb);function Vb(e,t){return"string"==typeof t?Lb(e,t):t instanceof cb?t._internalPath:t._delegate._internalPath}function Bb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Zu($u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zb=g((function e(){d(this,e)})),qb=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(zb);function Wb(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof zb&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Kb})).length,n=e.filter((function(e){return e instanceof Hb})).length;if(t>1||t>0&&n>0)throw new Zu($u.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=S(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var Hb=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return iw(e._query,t),new Wk(e.firestore,e.converter,ih(e._query,t))}},{key:"_parse",value:function(e){var t=yb(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Zu($u.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){rw(o,a);var u,c=[],l=S(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(nw(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=nw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||rw(o,a),s=Cb(n,"where",o,"in"===a||"not-in"===a);return _f.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(qb);var Kb=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Ef.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=S(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;iw(r,a),r=ih(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Wk(e.firestore,e.converter,ih(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(zb);var Gb=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Zu($u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Zu($u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bf(t,n);return function(e,t){if(null===Zf(e)){var n=eh(e);null!==n&&aw(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Wk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Yf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(qb);var Qb=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new Wk(e.firestore,e.converter,ah(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(qb);var Yb=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=tw(e,this.type,this._docOrFields,this._inclusive);return new Wk(e.firestore,e.converter,function(e,t){return new Yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(qb);function Jb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yb._create("startAt",t,!0)}function Xb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yb._create("startAfter",t,!1)}var $b=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=tw(e,this.type,this._docOrFields,this._inclusive);return new Wk(e.firestore,e.converter,function(e,t){return new Yf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(qb);function Zb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $b._create("endBefore",t,!1)}function ew(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $b._create("endAt",t,!0)}function tw(e,t,n,r){if(n[0]=mi(n[0]),n[0]instanceof Fb)return function(e,t,n,r,i){if(!r)throw new Zu($u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=S(nh(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(tf(t,r.key));else{var c=r.data.field(u.field);if(Bl(c))throw new Zu($u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Zu($u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new gf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=yb(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Zu($u.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Zu($u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!th(e)&&-1!==c.indexOf("/"))throw new Zu($u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(gc.fromString(c));if(!bc.isDocumentKey(l))throw new Zu($u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new bc(l);s.push(tf(t,f))}else{var h=Cb(n,r,c);s.push(h)}}return new gf(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function nw(e,t,n){if("string"==typeof(n=mi(n))){if(""===n)throw new Zu($u.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!th(t)&&-1!==n.indexOf("/"))throw new Zu($u.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(gc.fromString(n));if(!bc.isDocumentKey(r))throw new Zu($u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return tf(e,new bc(r))}if(n instanceof qk)return tf(e,n._key);throw new Zu($u.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(jk(n),"."))}function rw(e,t){if(!Array.isArray(e)||0===e.length)throw new Zu($u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function iw(e,t){if(t.isInequality()){var n=eh(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Zu($u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Zf(e);null!==i&&aw(e,r,i)}var a=function(e,t){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i,a=S(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Zu($u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Zu($u.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function aw(e,t,n){if(!n.isEqual(t))throw new Zu($u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ow=function(){function e(){d(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ul(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Yu()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Il(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new fb(Ul(e.latitude),Ul(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=zl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ql(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Fl(e);return new pc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=gc.fromString(e);Ju(cp(n));var r=new Hl(n.get(1),n.get(3)),i=new bc(n.popFirst(5));return r.isEqual(t)||Ku("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function sw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var uw=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new ub(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new qk(this.firestore,null,t)}}]),n}(ow);var cw=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),lw=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return Jr(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new fw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Fb),fw=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jr(b(n.prototype),"data",this).call(this,e)}}]),n}(lw),hw=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new cw(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new fw(n._firestore,n._userDataWriter,r.key,r,new cw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Zu($u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new fw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new fw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:dw(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function dw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yu()}}function pw(e,t){return e instanceof lw&&t instanceof lw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof hw&&t instanceof hw&&e._firestore===t._firestore&&Yk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var vw=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new ub(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new qk(this.firestore,null,t)}}]),n}(ow);function mw(e){e=Fk(e,qk);var t=Fk(e.firestore,Zk),n=eb(t),r=new vw(t);return function(e,t){var n=new ec;return e.asyncQueue.enqueueAndForget(ft(ct().mark((function r(){return ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ft(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Xu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Zu($u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=jg(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_k(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new lw(t,r,e._key,n,new cw(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function gw(e){e=Fk(e,Wk);var t=Fk(e.firestore,Zk),n=eb(t),r=new vw(t);return function(e,t){var n=new ec;return e.asyncQueue.enqueueAndForget(ft(ct().mark((function r(){return ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ft(ct().mark((function e(t,n,r){var i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dm(t,n,!0);case 3:i=e.sent,a=new ry(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=jg(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_k(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new hw(t,r,e,n)}))}function yw(e,t,n){e=Fk(e,qk);var r=Fk(e.firestore,Zk),i=sw(e.converter,t,n);return _w(r,[kb(yb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Wh.none())])}function kw(e,t,n){e=Fk(e,qk);for(var r=Fk(e.firestore,Zk),i=yb(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return _w(r,[("string"==typeof(t=mi(t))||t instanceof cb?Sb(i,"updateDoc",e._key,t,n,o):Ib(i,"updateDoc",e._key,t)).toMutation(e._key,Wh.exists(!0))])}function bw(e){return _w(Fk(e.firestore,Zk),[new ad(e._key,Wh.none())])}function ww(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=mi(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Xk(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Xk(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof qk)l=Fk(e.firestore,Zk),f=Xf(e._key.path),c={next:function(t){n[u]&&n[u](Ew(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Fk(e,Wk);l=Fk(p.firestore,Zk),f=p._query;var v=new vw(l);c={next:function(e){n[u]&&n[u](new hw(l,v,p,e))},error:n[u+1],complete:n[u+2]},Bb(e._query)}return function(e,t,n,r){var i=new uk(r),a=new Jg(t,i,n);return e.asyncQueue.enqueueAndForget(ft(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qg,t.next=3,Sk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(ft(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Hg,t.next=3,Sk(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(eb(l),f,h,c)}function xw(e,t){return function(e,t){var n=new uk(t);return e.asyncQueue.enqueueAndForget(ft(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Xu(e).ku.add(t),t.next()},t.next=3,Sk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(ft(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Xu(e).ku.delete(t)},t.next=3,Sk(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(eb(e=Fk(e,Zk)),Xk(t)?t:{next:t})}function _w(e,t){return function(e,t){var n=new ec;return e.asyncQueue.enqueueAndForget(ft(ct().mark((function r(){return ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=dy,r.next=3,Tk(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(eb(e),t)}function Ew(e,t,n){var r=n.docs.get(t._key),i=new vw(e);return new lw(e,i,t._key,r,new cw(n.hasPendingWrites,n.fromCache),t.converter)}var Tw={maxAttempts:5},Iw=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yb(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Sw(e,this._firestore),i=sw(r.converter,t,n),a=kb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Wh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Sw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=mi(t))||t instanceof cb?Sb(this._dataReader,"WriteBatch.update",i._key,t,n,o):Ib(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Wh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Sw(e,this._firestore);return this._mutations=this._mutations.concat(new ad(t._key,Wh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Zu($u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Sw(e,t){if((e=mi(e)).firestore!==t)throw new Zu($u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Cw=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=Sw(e,this._firestore),i=new vw(this._firestore);return Jr(b(n.prototype),"get",this).call(this,e).then((function(e){return new lw(t._firestore,i,r._key,e._document,new cw(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=yb(t)}return g(e,[{key:"get",value:function(e){var t=this,n=Sw(e,this._firestore),r=new uw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Yu();var i=e[0];if(i.isFoundDocument())return new Fb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Fb(t._firestore,r,n._key,null,n.converter);throw Yu()}))}},{key:"set",value:function(e,t,n){var r=Sw(e,this._firestore),i=sw(r.converter,t,n),a=kb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Sw(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=mi(t))||t instanceof cb?Sb(this._dataReader,"Transaction.update",i._key,t,n,o):Ib(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Sw(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Aw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _b("arrayUnion",t)}function Nw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Eb("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){zu=e}(Tn),yn(new vt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Zk(new ic(e.getProvider("auth-internal")),new uc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Zu($u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),On(Vu,"3.13.0",e),On(Vu,"3.13.0","esm2017")}();var Ow=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Rw=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(T(Error));function Pw(e){return e&&e._delegate?e._delegate:e}function Dw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Zu("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Lw(){if("undefined"===typeof Uint8Array)throw new Zu("unimplemented","Uint8Arrays are not available in this environment.")}function Mw(){if("undefined"==typeof atob)throw new Zu("unimplemented","Blobs are unavailable in Firestore in this environment.")}var jw=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return Mw(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Lw(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Mw(),new e(ub.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Lw(),new e(ub.fromUint8Array(t))}}]),e}();function Fw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=S(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Uw=function(){function e(){d(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){sb(e=Fk(e,Zk));var n=eb(e);if(n._uninitializedComponentsProvider)throw new Zu($u.FAILED_PRECONDITION,"SDK cache is already specified.");Gu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new ok;return nb(n,i,new ik(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){sb(e=Fk(e,Zk));var t=eb(e);if(t._uninitializedComponentsProvider)throw new Zu($u.FAILED_PRECONDITION,"SDK cache is already specified.");Gu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new ok;return nb(t,r,new ak(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Zu($u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ec;return e._queue.enqueueAndForgetEvenWhileRestricted(ft(ct().mark((function n(){return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mc.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Mc.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()($v(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Vw=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Hl||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Gu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return rb(this._delegate)}},{key:"disableNetwork",value:function(){return ib(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Dk("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new ec;return e.asyncQueue.enqueueAndForget(ft(ct().mark((function n(){return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ey,n.next=3,Tk(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(eb(Fk(this._delegate,Zk)))}},{key:"onSnapshotsInSync",value:function(e){return xw(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Zu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ex(this,Kk(this._delegate,e))}catch(t){throw Kw(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Hw(this,Gk(this._delegate,e))}catch(t){throw Kw(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Xw(this,function(e,t){if(e=Fk(e,Bk),Pk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Zu($u.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Wk(e,null,function(e){return new Yf(gc.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Kw(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Fk(e,Zk);var r=Object.assign(Object.assign({},Tw),n);return function(e){if(e.maxAttempts<1)throw new Zu($u.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ec;return e.asyncQueue.enqueueAndForget(ft(ct().mark((function i(){var a;return ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ik(e);case 2:a=i.sent,new fk(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(eb(e),(function(n){return t(new Cw(e,n))}),r)}(this._delegate,(function(n){return e(new zw(t,n))}))}},{key:"batch",value:function(){var e=this;return eb(this._delegate),new qw(new Iw(this._delegate,(function(t){return _w(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return ab(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ob(this._delegate,e).then((function(e){return e?new Xw(t,e):null}))}}]),e}(),Bw=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new jw(new ub(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Hw.forKey(t,this.firestore,null)}}]),n}(ow);var zw=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Bw(t)}return g(e,[{key:"get",value:function(e){var t=this,n=tx(e);return this._delegate.get(n).then((function(e){return new Yw(t._firestore,new lw(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=tx(e);return n?(Dw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=tx(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tx(e);return this._delegate.delete(t),this}}]),e}(),qw=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=tx(e);return n?(Dw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=tx(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tx(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Ww=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new fw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jw(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Bw(t),n),i.set(n,a)),a}}]),e}();Ww.INSTANCES=new WeakMap;var Hw=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Bw(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ex(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ex(this.firestore,Kk(this._delegate,e))}catch(t){throw Kw(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Pw(e))instanceof qk&&Qk(this._delegate,e)}},{key:"set",value:function(e,t){t=Dw("DocumentReference.set",t);try{return t?yw(this._delegate,e,t):yw(this._delegate,e)}catch(n){throw Kw(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?kw(this._delegate,e):kw.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Kw(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return bw(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Gw(n),a=Qw(n,(function(t){return new Yw(e.firestore,new lw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ww(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?mw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Fk(e,qk);var t=Fk(e.firestore,Zk);return Ak(eb(t),e._key,{source:"server"}).then((function(n){return Ew(t,e,n)}))}(this._delegate):function(e){e=Fk(e,qk);var t=Fk(e.firestore,Zk);return Ak(eb(t),e._key).then((function(n){return Ew(t,e,n)}))}(this._delegate)).then((function(e){return new Yw(t.firestore,new lw(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Ww.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Zu("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new qk(n._delegate,r,new bc(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new qk(n._delegate,r,t))}}]),e}();function Kw(e,t,n){return e.message=e.message.replace(t,n),e}function Gw(e){var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Fw(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Qw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Fw(e[0])?e[0]:Fw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Yw=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new Hw(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return pw(this._delegate,e._delegate)}}]),e}(),Jw=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||Yu(),t}}]),n}(Yw),Xw=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Bw(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Wb(this._delegate,function(e,t,n){var r=t,i=Vb("where",e);return Hb._create(i,r,n)}(t,n,r)))}catch(i){throw Kw(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Wb(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Vb("orderBy",e);return Gb._create(n,t)}(t,n)))}catch(r){throw Kw(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Wb(this._delegate,(Uk("limit",n=t),Qb._create("limit",n,"F"))))}catch(r){throw Kw(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Wb(this._delegate,(Uk("limitToLast",n=t),Qb._create("limitToLast",n,"L"))))}catch(r){throw Kw(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,Wb(this._delegate,Jb.apply(void 0,arguments)))}catch(t){throw Kw(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Wb(this._delegate,Xb.apply(void 0,arguments)))}catch(t){throw Kw(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Wb(this._delegate,Zb.apply(void 0,arguments)))}catch(t){throw Kw(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Wb(this._delegate,ew.apply(void 0,arguments)))}catch(t){throw Kw(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Yk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?gw(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Fk(e,Wk);var t=Fk(e.firestore,Zk),n=eb(t),r=new vw(t);return Nk(n,e._query,{source:"server"}).then((function(n){return new hw(t,r,e,n)}))}(this._delegate):function(e){e=Fk(e,Wk);var t=Fk(e.firestore,Zk),n=eb(t),r=new vw(t);return Bb(e._query),Nk(n,e._query).then((function(n){return new hw(t,r,e,n)}))}(this._delegate)).then((function(e){return new Zw(t.firestore,new hw(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Gw(n),a=Qw(n,(function(t){return new Zw(e.firestore,new hw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ww(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Ww.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),$w=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Jw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Zw=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new Xw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Jw(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new $w(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Jw(n._firestore,r))}))}},{key:"isEqual",value:function(e){return pw(this._delegate,e._delegate)}}]),e}(),ex=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Hw(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Hw(this.firestore,void 0===e?Gk(this._delegate):Gk(this._delegate,e))}catch(t){throw Kw(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Fk(e.firestore,Zk),r=Gk(e),i=sw(e.converter,t);return _w(n,[kb(yb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Wh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Hw(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Qk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Ww.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Xw);function tx(e){return Fk(e,qk)}var nx,rx=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=E(cb,n)}return g(e,[{key:"isEqual",value:function(e){return(e=Pw(e))instanceof cb&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(kc.keyField().canonicalString())}}]),e}(),ix=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new xb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new bb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Aw.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Nw.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new Tb("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ax={Firestore:Vw,GeoPoint:fb,Timestamp:pc,Blob:jw,Transaction:zw,WriteBatch:qw,DocumentReference:Hw,DocumentSnapshot:Yw,Query:Xw,QueryDocumentSnapshot:Jw,QuerySnapshot:Zw,CollectionReference:ex,FieldPath:rx,FieldValue:ix,setLogLevel:function(e){var t;t=e,qu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new vt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ax)))})(nx=cr,(function(e,t){return new Vw(e,t,new Uw)})),nx.registerVersion("@firebase/firestore-compat","0.3.12");var ox=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},sx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ox(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new ux;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ux=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(T(Error)),cx=function(e){try{return sx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var lx=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},fx=function(){try{return lx()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&cx(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}};function hx(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function dx(){var e,t=null===(e=fx())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function px(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function vx(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function mx(){var e=hx();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gx(){try{return"object"===typeof indexedDB}catch(e){return!1}}var yx=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),kx.prototype.create),a}return g(n)}(T(Error)),kx=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(bx,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yx(n,a,t)}}]),e}();var bx=/\{\$([^}]+)}/g;function wx(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xx(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function _x(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ex(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Tx=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ix),void 0===r.error&&(r.error=Ix),void 0===r.complete&&(r.complete=Ix);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ix(){}function Sx(e){return e&&e._delegate?e._delegate:e}function Cx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ax,Nx=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ax||(Ax={}));var Ox,Rx={debug:Ax.DEBUG,verbose:Ax.VERBOSE,info:Ax.INFO,warn:Ax.WARN,error:Ax.ERROR,silent:Ax.SILENT},Px=Ax.INFO,Dx=$e($e($e($e($e({},Ax.DEBUG,"log"),Ax.VERBOSE,"log"),Ax.INFO,"info"),Ax.WARN,"warn"),Ax.ERROR,"error"),Lx=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Dx[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Mx=function(){function e(t){d(this,e),this.name=t,this._logLevel=Px,this._logHandler=Lx,this._userLogHandler=null,Nx.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ax))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Rx[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ax.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ax.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ax.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ax.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ax.INFO].concat(t)),this._logHandler.apply(this,[this,Ax.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ax.WARN].concat(t)),this._logHandler.apply(this,[this,Ax.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ax.ERROR].concat(t)),this._logHandler.apply(this,[this,Ax.ERROR].concat(t))}}]),e}();var jx={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Fx="EMAIL_SIGNIN",Ux="PASSWORD_RESET",Vx="RECOVER_EMAIL",Bx="REVERT_SECOND_FACTOR_ADDITION",zx="VERIFY_AND_CHANGE_EMAIL",qx="VERIFY_EMAIL";function Wx(){return $e({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Hx=function(){var e;return $e($e($e($e($e($e($e($e($e($e(e={},"admin-restricted-operation","This operation is restricted to administrators only."),"argument-error",""),"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),"code-expired","The SMS code has expired. Please re-send the verification code to try again."),"cordova-not-ready","Cordova framework is not ready."),"cors-unsupported","This browser is not supported."),"credential-already-in-use","This credential is already associated with a different user account."),"custom-token-mismatch","The custom token corresponds to a different audience."),$e($e($e($e($e($e($e($e($e($e(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),"email-change-needs-verification","Multi-factor users must always have a verified email."),"email-already-in-use","The email address is already in use by another account."),"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),"expired-action-code","The action code has expired."),"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),"internal-error","An internal AuthError has occurred."),"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),$e($e($e($e($e($e($e($e($e($e(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),"invalid-auth-event","An internal AuthError has occurred."),"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),"invalid-continue-uri","The continue URL provided in the request is invalid."),"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),"invalid-email","The email address is badly formatted."),"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),$e($e($e($e($e($e($e($e($e($e(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),"invalid-credential","The supplied auth credential is malformed or has expired."),"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),"wrong-password","The password is invalid or the user does not have a password."),$e($e($e($e($e($e($e($e($e($e(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),"invalid-provider-id","The specified provider ID is invalid."),"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),"invalid-tenant-id","The Auth instance's tenant ID is invalid."),"login-blocked","Login blocked by user-provided method: {$originalMessage}"),"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),$e($e($e($e($e($e($e($e($e($e(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),"missing-continue-uri","A continue URL must be provided in the request."),"missing-iframe-start","An internal AuthError has occurred."),"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),"missing-password","A non-empty password must be provided"),"missing-multi-factor-info","No second factor identifier is provided."),"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),"missing-phone-number","To send verification codes, provide a phone number for the recipient."),$e($e($e($e($e($e($e($e($e($e(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),"app-deleted","This instance of FirebaseApp has been deleted."),"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),"no-auth-event","An internal AuthError has occurred."),"no-such-provider","User was not linked to an account with the given provider."),"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),$e($e($e($e($e($e($e($e($e($e(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),"provider-already-linked","User can only be linked to one identity for the given provider."),"quota-exceeded","The project's quota for this operation has been exceeded."),"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),"redirect-operation-pending","A redirect sign-in operation is already pending."),"rejected-credential","The request contains malformed or mismatching credentials."),"second-factor-already-in-use","The second factor is already enrolled on this account."),"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),$e($e($e($e($e($e($e($e($e($e(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),"timeout","The operation has timed out."),"user-token-expired","The user's credential is no longer valid. The user must sign in again."),"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),"unsupported-persistence-type","The current environment does not support the specified persistence type."),"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),"unverified-email","The operation requires a verified email."),"user-cancelled","The user did not grant your application the permissions it requested."),$e($e($e($e($e($e($e($e($e($e(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),"user-disabled","The user account has been disabled by an administrator."),"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),"user-signed-out",""),"weak-password","The password must be 6 characters long or more."),"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),$e($e($e($e($e(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),"invalid-req-type","Invalid request parameters."),"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend.")},Kx=Wx,Gx=new kx("auth","Firebase",Wx()),Qx=new Mx("@firebase/auth");function Yx(e){if(Qx.logLevel<=Ax.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qx.warn.apply(Qx,["Auth (".concat(Tn,"): ").concat(e)].concat(n))}}function Jx(e){if(Qx.logLevel<=Ax.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qx.error.apply(Qx,["Auth (".concat(Tn,"): ").concat(e)].concat(n))}}function Xx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw t_.apply(void 0,[e].concat(n))}function $x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return t_.apply(void 0,[e].concat(n))}function Zx(e,t,n){var r=Object.assign(Object.assign({},Kx()),$e({},t,n));return new kx("auth","Firebase",r).create(t,{appName:e.name})}function e_(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Xx(e,"argument-error"),Zx(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function t_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return Gx.create.apply(Gx,[e].concat(n))}function n_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw t_.apply(void 0,[t].concat(r))}}function r_(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Jx(t),new Error(t)}function i_(e,t){e||r_(t)}function a_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function o_(){return"http:"===s_()||"https:"===s_()}function s_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var u_=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,i_(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hx())||vx()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(o_()||px()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function c_(e,t){i_(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var l_=function(){function e(){d(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void r_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void r_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void r_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),f_=($e($e($e($e($e($e($e($e($e($e(Ox={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),"MISSING_CUSTOM_TOKEN","internal-error"),"INVALID_IDENTIFIER","invalid-email"),"MISSING_CONTINUE_URI","internal-error"),"INVALID_PASSWORD","wrong-password"),"MISSING_PASSWORD","missing-password"),"EMAIL_EXISTS","email-already-in-use"),"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),"INVALID_IDP_RESPONSE","invalid-credential"),"INVALID_PENDING_TOKEN","invalid-credential"),$e($e($e($e($e($e($e($e($e($e(Ox,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),"MISSING_REQ_TYPE","internal-error"),"EMAIL_NOT_FOUND","user-not-found"),"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),"EXPIRED_OOB_CODE","expired-action-code"),"INVALID_OOB_CODE","invalid-action-code"),"MISSING_OOB_CODE","internal-error"),"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),"INVALID_ID_TOKEN","invalid-user-token"),"TOKEN_EXPIRED","user-token-expired"),$e($e($e($e($e($e($e($e($e($e(Ox,"USER_NOT_FOUND","user-token-expired"),"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),"INVALID_CODE","invalid-verification-code"),"INVALID_SESSION_INFO","invalid-verification-id"),"INVALID_TEMPORARY_PROOF","invalid-credential"),"MISSING_SESSION_INFO","missing-verification-id"),"SESSION_EXPIRED","code-expired"),"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),$e($e($e($e($e($e($e($e($e($e(Ox,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),$e($e($e($e($e($e(Ox,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),"MISSING_CLIENT_TYPE","missing-client-type"),"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),"INVALID_REQ_TYPE","invalid-req-type")),h_=new u_(3e4,6e4);function d_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function p_(e,t,n,r){return v_.apply(this,arguments)}function v_(){return v_=ft(ct().mark((function e(t,n,r,i){var a,o=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",m_(t,a,ft(ct().mark((function e(){var a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=xx(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",l_.fetch()(b_(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(e,t,n){return g_.apply(this,arguments)}function g_(){return g_=ft(ct().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},f_),n),e.prev=2,a=new w_(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw x_(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw x_(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw x_(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw x_(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Zx(t,p,d);case 34:Xx(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof yx)){e.next=41;break}throw e.t0;case 41:Xx(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),g_.apply(this,arguments)}function y_(e,t,n,r){return k_.apply(this,arguments)}function k_(){return k_=ft(ct().mark((function e(t,n,r,i){var a,o,s=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,p_(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Xx(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?c_(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var w_=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t($x(n.auth,"network-request-failed"))}),h_.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function x_(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=$x(e,t,r);return i.customData._tokenResponse=n,i}function __(e,t){return E_.apply(this,arguments)}function E_(){return(E_=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T_(e,t){return I_.apply(this,arguments)}function I_(){return(I_=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S_(e,t){return C_.apply(this,arguments)}function C_(){return(C_=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A_(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function N_(){return N_=ft(ct().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Sx(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,n_((a=R_(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:A_(O_(a.auth_time)),issuedAtTime:A_(O_(a.iat)),expirationTime:A_(O_(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function O_(e){return 1e3*Number(e)}function R_(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Jx("JWT malformed, contained fewer than 3 sections"),null;try{var a=cx(r);return a?JSON.parse(a):(Jx("Failed to decode base64 JWT payload"),null)}catch(o){return Jx("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function P_(e,t){return D_.apply(this,arguments)}function D_(){return D_=ft(ct().mark((function e(t,n){var r=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof yx&&L_(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),D_.apply(this,arguments)}function L_(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var M_=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ft(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),j_=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=A_(this.lastLoginAt),this.creationTime=A_(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function F_(e){return U_.apply(this,arguments)}function U_(){return U_=ft(ct().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,P_(t,S_(r,{idToken:i}));case 6:n_(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Cx(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=B_(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new j_(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function V_(){return(V_=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sx(t),e.next=3,F_(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B_(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function z_(e,t){return q_.apply(this,arguments)}function q_(){return(q_=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m_(t,{},ft(ct().mark((function e(){var r,i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xx({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=b_(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",l_.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W_=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){n_(e.idToken,"internal-error"),n_("undefined"!==typeof e.idToken,"internal-error"),n_("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=R_(e);return n_(t,"internal-error"),n_("undefined"!==typeof t.exp,"internal-error"),n_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ft(ct().mark((function e(t){var n,r=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],n_(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ft(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z_(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return r_("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(n_("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(n_("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(n_("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function H_(e,t){n_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var K_=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Cx(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new M_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new j_(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P_(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(n_(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return N_.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return V_.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(n_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){n_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ft(ct().mark((function e(t){var n,r,i=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,F_(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,P_(this,__(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;n_(k&&_,t,"internal-error");var E=W_.fromJSON(this.name,_);n_("string"===typeof k,t,"internal-error"),H_(f,t.name),H_(h,t.name),n_("boolean"===typeof b,t,"internal-error"),n_("boolean"===typeof w,t,"internal-error"),H_(d,t.name),H_(p,t.name),H_(v,t.name),H_(m,t.name),H_(g,t.name),H_(y,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(T.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=ft(ct().mark((function t(n,r){var i,a,o,s=arguments;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new W_).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,F_(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),G_=new Map;function Q_(e){i_(e instanceof Function,"Expected a class definition");var t=G_.get(e);return t?(i_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,G_.set(e,t),t)}var Y_=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Y_.type="NONE";var J_=Y_;function X_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var $_=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=X_(this.userKey,a.apiKey,o),this.fullPersistenceKey=X_("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?K_._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ft(ct().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Q_(J_),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Q_(J_),s=X_(i,n.config.apiKey,n.name),u=null,c=S(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=K_._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Z_(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aE(t))return"Blackberry";if(oE(t))return"Webos";if(tE(t))return"Safari";if((t.includes("chrome/")||nE(t))&&!t.includes("edge/"))return"Chrome";if(iE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function eE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/firefox\//i.test(e)}function tE(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/crios\//i.test(e)}function rE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/iemobile/i.test(e)}function iE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/android/i.test(e)}function aE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/blackberry/i.test(e)}function oE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/webos/i.test(e)}function sE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function uE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return sE(e)||iE(e)||oE(e)||aE(e)||/windows phone/i.test(e)||rE(e)}function cE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Z_(hx());break;case"Worker":t="".concat(Z_(hx()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Tn,"/").concat(r)}function lE(e){return fE.apply(this,arguments)}function fE(){return(fE=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p_(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hE(e,t){return dE.apply(this,arguments)}function dE(){return(dE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"GET","/v2/recaptchaConfig",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pE(e){return void 0!==e&&void 0!==e.getResponse}function vE(e){return void 0!==e&&void 0!==e.enterprise}var mE=g((function e(t){if(d(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function gE(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=$x("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function yE(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var kE=function(){function e(t){d(this,e),this.type="recaptcha-enterprise",this.auth=EE(t)}return g(e,[{key:"verify",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;vE(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=ft(ct().mark((function e(n,r){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hE(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new mE(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&vE(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));gE("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bE(e,t,n){return wE.apply(this,arguments)}function wE(){return wE=ft(ct().mark((function e(t,n,r){var i,a,o,s,u=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new kE(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),wE.apply(this,arguments)}var xE=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ft(ct().mark((function e(t){var n,r,i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=S(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=S(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_E=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new xE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Q_(t)),this._initializationPromise=this.queue(ft(ct().mark((function r(){var i,a;return ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,$_.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ft(ct().mark((function e(t){var n,r,i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return n_(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F_(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Sx(t):null)&&n_(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ft(ct().mark((function e(t){var n,r=this,i=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&n_(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ft(ct().mark((function n(){return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Q_(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=ft(ct().mark((function e(){var t,n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hE(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new mE(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new kE(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new kx("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return n_(n=t&&Q_(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,$_.create(this,[Q_(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ft(ct().mark((function e(t){var n=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return n_(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return n_(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cE(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$e({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ft(ct().mark((function e(){var t,n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Yx("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function EE(e){return Sx(e)}var TE=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Tx(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return n_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function IE(e,t,n){var r=EE(e);n_(r._canInitEmulator,r,"emulator-config-failed"),n_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=SE(t),o=function(e){var t=SE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:CE(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:CE(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function SE(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function CE(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var AE=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return r_("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return r_("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return r_("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return r_("not implemented")}}]),e}();function NE(e,t){return OE.apply(this,arguments)}function OE(){return(OE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"POST","/v1/accounts:resetPassword",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RE(e,t){return PE.apply(this,arguments)}function PE(){return(PE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DE(e,t){return LE.apply(this,arguments)}function LE(){return(LE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"POST","/v1/accounts:update",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ME(e,t){return jE.apply(this,arguments)}function jE(){return(jE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:signInWithPassword",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FE(e,t){return UE.apply(this,arguments)}function UE(){return(UE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"POST","/v1/accounts:sendOobCode",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VE(e,t){return BE.apply(this,arguments)}function BE(){return(BE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zE(e,t){return qE.apply(this,arguments)}function qE(){return(qE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WE(e,t){return HE.apply(this,arguments)}function HE(){return(HE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KE(e,t){return GE.apply(this,arguments)}function GE(){return(GE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FE(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QE(e,t){return YE.apply(this,arguments)}function YE(){return(YE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:signInWithEmailLink",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JE(e,t){return XE.apply(this,arguments)}function XE(){return(XE=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:signInWithEmailLink",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $E=function(e){k(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ft(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,bE(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",ME(t,i));case 11:return e.abrupt("return",ME(t,r).catch(function(){var e=ft(ct().mark((function e(n){var i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,bE(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",ME(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",QE(t,{email:this._email,oobCode:this._password}));case 13:Xx(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",RE(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",JE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Xx(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(AE);function ZE(e,t){return eT.apply(this,arguments)}function eT(){return(eT=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:signInWithIdp",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tT=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ZE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ZE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ZE(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xx(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xx("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Cx(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(AE);function nT(e,t){return rT.apply(this,arguments)}function rT(){return(rT=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"POST","/v1/accounts:sendVerificationCode",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iT(){return(iT=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:signInWithPhoneNumber",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aT(){return(aT=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y_(t,"POST","/v1/accounts:signInWithPhoneNumber",d_(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw x_(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oT=$e({},"USER_NOT_FOUND","user-not-found");function sT(){return(sT=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",y_(t,"POST","/v1/accounts:signInWithPhoneNumber",d_(t,r),oT));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uT=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return iT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return aT.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return sT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(AE);var cT=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=_x(Ex(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);n_(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=_x(Ex(e)).link,n=t?_x(Ex(t)).deep_link_id:null,r=_x(Ex(e)).deep_link_id;return(r?_x(Ex(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Qy){return null}}}]),e}();var lT=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return $E._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=cT.parseLink(t);return n_(n,"argument-error"),$E._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();lT.PROVIDER_ID="password",lT.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lT.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var fT=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),hT=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(fT),dT=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return n_(e.idToken||e.accessToken,"argument-error"),tT._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return n_("providerId"in t&&"signInMethod"in t,"argument-error"),tT._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(hT),pT=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return tT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Qy){return null}}}]),n}(hT);pT.FACEBOOK_SIGN_IN_METHOD="facebook.com",pT.PROVIDER_ID="facebook.com";var vT=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return tT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Qy){return null}}}]),n}(hT);vT.GOOGLE_SIGN_IN_METHOD="google.com",vT.PROVIDER_ID="google.com";var mT=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return tT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Qy){return null}}}]),n}(hT);mT.GITHUB_SIGN_IN_METHOD="github.com",mT.PROVIDER_ID="github.com";var gT=function(e){k(n,e);var t=_(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return ZE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ZE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ZE(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(AE),yT=function(e){k(n,e);var t=_(n);function n(e){return d(this,n),n_(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=gT.fromJSON(e);return n_(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return gT._create(r,n)}catch(i){return null}}}]),n}(fT),kT=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return tT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Qy){return null}}}]),n}(hT);function bT(e,t){return wT.apply(this,arguments)}function wT(){return(wT=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:signUp",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}kT.TWITTER_SIGN_IN_METHOD="twitter.com",kT.PROVIDER_ID="twitter.com";var xT=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ft(ct().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,K_._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=_T(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ft(ct().mark((function t(n,r,i){var a;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=_T(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function _T(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ET(){return ET=ft(ct().mark((function e(t){var n,r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EE(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new xT({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,bT(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,xT._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}var TT=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(yx);function IT(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw TT._fromErrorAndOperation(e,n,t,r);throw n}))}function ST(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function CT(e,t){return AT.apply(this,arguments)}function AT(){return AT=ft(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sx(t),e.next=3,RT(!0,r,n);case 3:return e.t0=T_,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ST(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function NT(e,t){return OT.apply(this,arguments)}function OT(){return OT=ft(ct().mark((function e(t,n){var r,i,a=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=P_,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",xT._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function RT(e,t,n){return PT.apply(this,arguments)}function PT(){return(PT=ft(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F_(n);case 2:i=ST(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",n_(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DT(e,t){return LT.apply(this,arguments)}function LT(){return LT=ft(ct().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,P_(t,IT(i,a,n,t),r);case 6:return n_((o=e.sent).idToken,i,"internal-error"),n_(s=R_(o.idToken),i,"internal-error"),u=s.sub,n_(t.uid===u,i,"user-mismatch"),e.abrupt("return",xT._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Xx(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),LT.apply(this,arguments)}function MT(e,t){return jT.apply(this,arguments)}function jT(){return jT=ft(ct().mark((function e(t,n){var r,i,a,o,s=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,IT(t,i,n);case 4:return a=e.sent,e.next=7,xT._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function FT(e,t){return UT.apply(this,arguments)}function UT(){return(UT=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",MT(EE(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VT(e,t){return BT.apply(this,arguments)}function BT(){return(BT=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sx(t),e.next=3,RT(!1,r,n.providerId);case 3:return e.abrupt("return",NT(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zT(e,t){return qT.apply(this,arguments)}function qT(){return(qT=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",DT(Sx(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WT(e,t){return HT.apply(this,arguments)}function HT(){return(HT=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y_(t,"POST","/v1/accounts:signInWithCustomToken",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KT(){return(KT=ft(ct().mark((function e(t,n){var r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=EE(t),e.next=3,WT(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,xT._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var GT=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?QT._fromServerResponse(e,t):"totpInfo"in t?YT._fromServerResponse(e,t):Xx(e,"internal-error")}}]),e}(),QT=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(GT),YT=function(e){k(n,e);var t=_(n);function n(e){return d(this,n),t.call(this,"totp",e)}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(GT);function JT(e,t,n){var r;n_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),n_("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(n_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(n_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function XT(){return XT=ft(ct().mark((function e(t,n,r){var i,a,o,s;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=EE(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,bE(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&JT(a,s,r),e.next=9,zE(a,s);case 9:e.next=14;break;case 11:return r&&JT(a,o,r),e.next=14,zE(a,o).catch(function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,bE(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&JT(a,n,r),e.next=8,zE(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),XT.apply(this,arguments)}function $T(){return($T=ft(ct().mark((function e(t,n,r){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NE(Sx(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZT(){return(ZT=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DE(Sx(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return(tI=ft(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sx(t),e.next=3,NE(r,{oobCode:n});case 3:i=e.sent,n_(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return n_(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:n_(i.mfaInfo,r,"internal-error");case 13:n_(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=GT._fromServerResponse(EE(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nI(){return(nI=ft(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eI(Sx(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rI(e,t,n){return iI.apply(this,arguments)}function iI(){return iI=ft(ct().mark((function e(t,n,r){var i,a,o,s,u,c,l;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=EE(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,bE(a,o,"signUpPassword");case 5:u=e.sent,s=bT(a,u),e.next=10;break;case 9:s=bT(a,o).catch(function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,bE(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",bT(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,xT._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(){return aI=ft(ct().mark((function e(t,n,r){var i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){n_(t.handleCodeInApp,a,"argument-error"),t&&JT(a,e,t)},a=EE(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,bE(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,WE(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,WE(a,o).catch(function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,bE(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,WE(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}function oI(){return(oI=ft(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sx(t),n_((a=lT.credentialWithLink(n,r||a_()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",FT(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sI(e,t){return uI.apply(this,arguments)}function uI(){return(uI=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"POST","/v1/accounts:createAuthUri",d_(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cI(){return(cI=ft(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o_()?a_():"http://localhost",i={identifier:n,continueUri:r},e.next=4,sI(Sx(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lI(){return(lI=ft(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sx(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&JT(r.auth,a,n),e.next=8,VE(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fI(){return(fI=ft(ct().mark((function e(t,n,r){var i,a,o,s;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sx(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&JT(i.auth,o,r),e.next=8,KE(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return(dI=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pI(){return(pI=ft(ct().mark((function e(t,n){var r,i,a,o,s,u,c;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Sx(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,P_(a,hI(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vI(e,t,n){return mI.apply(this,arguments)}function mI(){return(mI=ft(ct().mark((function e(t,n,r){var i,a,o,s;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,P_(t,RE(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gI=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),yI=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(gI),kI=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(gI),bI=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(yI),wI=function(e){k(n,e);var t=_(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return g(n)}(gI),xI=function(e){k(n,e);var t=_(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(yI);function _I(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=R_(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new gI(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new kI(a,i);case"github.com":return new bI(a,i);case"google.com":return new wI(a,i);case"twitter.com":return new xI(a,i,e.screenName||null);case"custom":case"anonymous":return new gI(a,null);default:return new gI(a,r,i)}}(n)}var EI=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.auth=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:$e({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),TI=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=EE(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return GT._fromServerResponse(r,e)}));n_(i.mfaPendingCredential,r,"internal-error");var o=EI._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ft(ct().mark((function e(t){var a,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,xT._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return n_(n.user,r,"internal-error"),e.abrupt("return",xT._forOperation(n.user,n.operationType,s));case 17:Xx(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function II(e,t){return p_(e,"POST","/v2/accounts/mfaEnrollment:start",d_(e,t))}function SI(e,t){return p_(e,"POST","/v2/accounts/mfaEnrollment:finalize",d_(e,t))}var CI=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return GT._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=EI,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ft(ct().mark((function e(t,n){var r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,P_(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ft(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,P_(this.user,p_(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",d_(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),AI=new WeakMap;var NI="__sak",OI=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(NI,"1"),this.storage.removeItem(NI),Promise.resolve(!0)):Promise.resolve(!1)}catch(Qy){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var RI=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=hx();return tE(e)||sE(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=uE(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);mx()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ft(ct().mark((function e(t,r){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jr(b(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ft(ct().mark((function e(t){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jr(b(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jr(b(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(OI);RI.type="LOCAL";var PI=RI,DI=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(OI);DI.type="SESSION";var LI=DI;function MI(e){return Promise.all(e.map(function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var jI=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ft(ct().mark((function e(t){var n,r,i,a,o,s,u,c;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,MI(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function FI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jI.receivers=[];var UI=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ft(ct().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=FI("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function VI(){return window}function BI(e){VI().location.href=e}function zI(){return"undefined"!==typeof VI().WorkerGlobalScope&&"function"===typeof VI().importScripts}function qI(){return WI.apply(this,arguments)}function WI(){return(WI=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function HI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var KI="firebaseLocalStorageDb",GI="firebaseLocalStorage",QI="fbase_key",YI=function(){function e(t){d(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function JI(e,t){return e.transaction([GI],t?"readwrite":"readonly").objectStore(GI)}function XI(){var e=indexedDB.deleteDatabase(KI);return new YI(e).toPromise()}function $I(){var e=indexedDB.open(KI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(GI,{keyPath:QI})}catch(r){n(r)}})),e.addEventListener("success",ft(ct().mark((function n(){var r;return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(GI)){n.next=12;break}return r.close(),n.next=5,XI();case 5:return n.t0=t,n.next=8,$I();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ZI(e,t,n){return eS.apply(this,arguments)}function eS(){return eS=ft(ct().mark((function e(t,n,r){var i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JI(t,!0).put($e($e({},QI,n),"value",r)),e.abrupt("return",new YI(i).toPromise());case 2:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=ft(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JI(t,!1).get(n),e.next=3,new YI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){var n=JI(e,!0).delete(t);return new YI(n).toPromise()}var iS=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,$I();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ft(ct().mark((function e(){var t=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=jI._getInstance(zI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ft(ct().mark((function e(n,r){var i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ft(ct().mark((function e(){var t,n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new UI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&HI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,$I();case 5:return t=e.sent,e.next=8,ZI(t,NI,"1");case 8:return e.next=10,rS(t,NI);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ft(ct().mark((function e(t,n){var r=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ZI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return tS(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ft(ct().mark((function e(t){var n=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return rS(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=JI(e,!1).getAll();return new YI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=S(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ft(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();iS.type="LOCAL";var aS=iS;function oS(e,t){return p_(e,"POST","/v2/accounts/mfaSignIn:start",d_(e,t))}function sS(e,t){return p_(e,"POST","/v2/accounts/mfaSignIn:finalize",d_(e,t))}var uS=1e12,cS=function(){function e(t){d(this,e),this.auth=t,this.counter=uS,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new lS(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||uS;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||uS;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||uS,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),lS=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;n_(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var fS=yE("rcb"),hS=new u_(3e4,6e4),dS=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=VI().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n_(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&pE(VI().grecaptcha)?Promise.resolve(VI().grecaptcha):new Promise((function(r,i){var a=VI().setTimeout((function(){i($x(e,"network-request-failed"))}),hS.get());VI()[fS]=function(){VI().clearTimeout(a),delete VI()[fS];var o=VI().grecaptcha;if(o&&pE(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i($x(e,"internal-error"))},gE("".concat("https://www.google.com/recaptcha/api.js?","?").concat(xx({onload:fS,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i($x(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=VI().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var pS=function(){function e(){d(this,e)}return g(e,[{key:"load",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new cS(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),vS="recaptcha",mS={theme:"light",type:"image"},gS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},mS),r=arguments.length>2?arguments[2]:void 0;d(this,e),this.parameters=n,this.type=vS,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=EE(r),this.isInvisible="invisible"===this.parameters.size,n_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;n_(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pS:new dS,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){n_(!this.parameters.sitekey,this.auth,"argument-error"),n_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),n_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=VI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){n_(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ft(ct().mark((function e(){var t,n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n_(o_()&&!zI(),this.auth,"internal-error"),e.next=3,yS();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,lE(this.auth);case 8:n_(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return n_(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function yS(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var kS=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=uT._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function bS(){return(bS=ft(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EE(t),e.next=3,ES(i,n,Sx(r));case 3:return a=e.sent,e.abrupt("return",new kS(a,(function(e){return FT(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wS(e,t,n){return xS.apply(this,arguments)}function xS(){return(xS=ft(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sx(t),e.next=3,RT(!1,i,"phone");case 3:return e.next=5,ES(i.auth,n,Sx(r));case 5:return a=e.sent,e.abrupt("return",new kS(a,(function(e){return VT(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _S(){return(_S=ft(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sx(t),e.next=3,ES(i.auth,n,Sx(r));case 3:return a=e.sent,e.abrupt("return",new kS(a,(function(e){return zT(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ES(e,t,n){return TS.apply(this,arguments)}function TS(){return TS=ft(ct().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,n_("string"===typeof a,t,"argument-error"),n_(r.type===vS,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return n_("enroll"===s.type,t,"internal-error"),e.next=13,II(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return n_("signin"===s.type,t,"internal-error"),n_(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,oS(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,nT(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),TS.apply(this,arguments)}function IS(){return(IS=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NT(Sx(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var SS=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=EE(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return ES(this.auth,e,Sx(t))}}],[{key:"credential",value:function(e,t){return uT._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?uT._fromTokenResponse(n,r):null}}]),e}();function CS(e,t){return t?Q_(t):(n_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}SS.PROVIDER_ID="phone",SS.PHONE_SIGN_IN_METHOD="phone";var AS=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return ZE(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ZE(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ZE(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(AE);function NS(e){return MT(e.auth,new AS(e),e.bypassAuthState)}function OS(e){var t=e.auth,n=e.user;return n_(n,t,"internal-error"),DT(n,new AS(e),e.bypassAuthState)}function RS(e){return PS.apply(this,arguments)}function PS(){return(PS=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,n_(r=t.user,n,"internal-error"),e.abrupt("return",NT(r,new AS(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var DS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ft(ct().mark((function t(n,r){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ft(ct().mark((function e(t){var n,r,i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NS;case"linkViaPopup":case"linkViaRedirect":return RS;case"reauthViaPopup":case"reauthViaRedirect":return OS;default:Xx(this.auth,"internal-error")}}},{key:"resolve",value:function(e){i_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){i_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),LS=new u_(2e3,1e4);function MS(e,t,n){return jS.apply(this,arguments)}function jS(){return(jS=ft(ct().mark((function e(t,n,r){var i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EE(t),e_(t,n,fT),a=CS(i,r),o=new BS(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FS(){return(FS=ft(ct().mark((function e(t,n,r){var i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e_((i=Sx(t)).auth,n,fT),a=CS(i.auth,r),o=new BS(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function US(e,t,n){return VS.apply(this,arguments)}function VS(){return(VS=ft(ct().mark((function e(t,n,r){var i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e_((i=Sx(t)).auth,n,fT),a=CS(i.auth,r),o=new BS(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var BS=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return n_(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ft(ct().mark((function e(){var t,n=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i_(1===this.filter.length,"Popup operations only handle one event"),t=FI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject($x(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject($x(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject($x(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,LS.get())}()}}]),n}(DS);BS.currentPopupAction=null;var zS="pendingRedirect",qS=new Map,WS=function(e){k(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=ft(ct().mark((function e(){var t,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=qS.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,HS(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Jr(b(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:qS.set(this.auth._key(),t);case 21:return this.bypassAuthState||qS.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ft(ct().mark((function e(t){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Jr(b(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Jr(b(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(DS);function HS(e,t){return KS.apply(this,arguments)}function KS(){return(KS=ft(ct().mark((function e(t,n){var r,i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=XS(n),i=JS(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GS(e,t){return QS.apply(this,arguments)}function QS(){return(QS=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t)._set(XS(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YS(e,t){qS.set(e._key(),t)}function JS(e){return Q_(e._redirectPersistence)}function XS(e){return X_(zS,e.config.apiKey,e.name)}function $S(e,t,n){return function(e,t,n){return ZS.apply(this,arguments)}(e,t,n)}function ZS(){return(ZS=ft(ct().mark((function e(t,n,r){var i,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EE(t),e_(t,n,fT),e.next=4,i._initializationPromise;case 4:return a=CS(i,r),e.next=7,GS(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eC(e,t,n){return function(e,t,n){return tC.apply(this,arguments)}(e,t,n)}function tC(){return(tC=ft(ct().mark((function e(t,n,r){var i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e_((i=Sx(t)).auth,n,fT),e.next=4,i.auth._initializationPromise;case 4:return a=CS(i.auth,r),e.next=7,GS(a,i.auth);case 7:return e.next=9,uC(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nC(e,t,n){return function(e,t,n){return rC.apply(this,arguments)}(e,t,n)}function rC(){return(rC=ft(ct().mark((function e(t,n,r){var i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e_((i=Sx(t)).auth,n,fT),e.next=4,i.auth._initializationPromise;case 4:return a=CS(i.auth,r),e.next=7,RT(!1,i,n.providerId);case 7:return e.next=9,GS(a,i.auth);case 9:return e.next=11,uC(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iC(e,t){return aC.apply(this,arguments)}function aC(){return(aC=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EE(t)._initializationPromise;case 2:return e.abrupt("return",oC(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oC(e,t){return sC.apply(this,arguments)}function sC(){return sC=ft(ct().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=EE(t),a=CS(i,n),o=new WS(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}function uC(e){return cC.apply(this,arguments)}function cC(){return(cC=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=FI("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lC=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hC(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!hC(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($x(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fC(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(fC(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function fC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function hC(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function dC(e){return pC.apply(this,arguments)}function pC(){return pC=ft(ct().mark((function e(t){var n,r=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",p_(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}var vC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mC=/^https?/;function gC(){return(gC=ft(ct().mark((function e(t){var n,r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dC(t);case 4:n=e.sent,r=n.authorizedDomains,i=S(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!yC(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Xx(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function yC(e){var t=a_(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!mC.test(r))return!1;if(vC.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var kC=new u_(3e4,6e4);function bC(){var e=VI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var wC=null;function xC(e){return wC=wC||function(e){return new Promise((function(t,n){var r,i,a;function o(){bC(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){bC(),n($x(e,"network-request-failed"))},timeout:kC.get()})}if(null===(i=null===(r=VI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=VI().gapi)||void 0===a?void 0:a.load)){var s=yE("iframefcb");return VI()[s]=function(){gapi.load?o():n($x(e,"network-request-failed"))},gE("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw wC=null,e}))}(e),wC}var _C=new u_(5e3,15e3),EC="__/auth/iframe",TC="emulator/auth/iframe",IC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CC(e){var t=e.config;n_(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?c_(t,TC):"https://".concat(e.config.authDomain,"/").concat(EC),r={apiKey:t.apiKey,appName:e.name,v:Tn},i=SC.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(xx(r).slice(1))}function AC(e){return NC.apply(this,arguments)}function NC(){return NC=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xC(t);case 2:return n=e.sent,n_(r=VI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:CC(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IC,dontclear:!0},(function(e){return new Promise(function(){var n=ft(ct().mark((function n(r,i){var a,o,s;return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){VI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=$x(t,"network-request-failed"),o=VI().setTimeout((function(){i(a)}),_C.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}var OC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function PC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},OC),{width:r.toString(),height:i.toString(),top:a,left:o}),c=hx().toLowerCase();n&&(s=nE(c)?"_blank":n),eE(c)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return sE(arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new RC(null);var h=window.open(t||"",s,f);n_(h,e,"popup-blocked");try{h.focus()}catch(d){}return new RC(h)}var DC="__/auth/handler",LC="emulator/auth/handler",MC=encodeURIComponent("fac");function jC(e,t,n,r,i,a){return FC.apply(this,arguments)}function FC(){return(FC=ft(ct().mark((function e(t,n,r,i,a,o){var s,u,c,f,h,d,p,v,m,g,y,k,b;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n_(t.config.authDomain,t,"auth-domain-config-required"),n_(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Tn,eventId:a},n instanceof fT)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",wx(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)f=l(c[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof hT&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(MC,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(UC(t),"?").concat(xx(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UC(e){var t=e.config;return t.emulator?c_(t,LC):"https://".concat(t.authDomain,"/").concat(DC)}var VC="webStorageSupport",BC=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LI,this._completeRedirectFn=oC,this._overrideRedirectResult=YS}return g(e,[{key:"_openPopup",value:function(){var e=ft(ct().mark((function e(t,n,r,i){var a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i_(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,jC(t,n,r,a_(),i);case 3:return o=e.sent,e.abrupt("return",PC(t,o,FI()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ft(ct().mark((function e(t,n,r,i){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,jC(t,n,r,a_(),i);case 4:return BI(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(i_(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AC(t);case 2:return n=e.sent,r=new lC(t),n.register("authEvent",(function(e){return n_(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(VC,{type:VC},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[VC];void 0!==i&&t(!!i),Xx(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return uE()||tE()||sE()}}]),e}(),zC=BC,qC=function(){function e(t){d(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return r_("unexpected MultiFactorSessionType")}}}]),e}(),WC=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return p_(e,"POST","/v2/accounts/mfaEnrollment:finalize",d_(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return p_(e,"POST","/v2/accounts/mfaSignIn:finalize",d_(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(qC),HC=function(){function e(){d(this,e)}return g(e,null,[{key:"assertion",value:function(e){return WC._fromCredential(e)}}]),e}();HC.FACTOR_ID="phone";var KC=function(){function e(){d(this,e)}return g(e,null,[{key:"assertionForEnrollment",value:function(e,t){return GC._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return GC._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n_("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},p_(i,"POST","/v2/accounts/mfaEnrollment:start",d_(i,a));case 4:return r=e.sent,e.abrupt("return",QC._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();KC.FACTOR_ID="totp";var GC=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return g(n,[{key:"_finalizeEnroll",value:function(){var e=ft(ct().mark((function e(t,n,r){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n_("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",SI(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n_(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",sS(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(qC),QC=function(){function e(t,n,r,i,a,o,s){d(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(YC(e)||YC(t))&&(r=!0),r&&(YC(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),YC(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function YC(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var JC="@firebase/auth",XC="0.23.2",$C=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){n_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var ZC;!function(e){var t;null===(t=fx())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function eA(){return window}ZC="Browser",yn(new vt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;n_(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:ZC,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cE(ZC)},l=new _E(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Q_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),yn(new vt("auth-internal",(function(e){return function(e){return new $C(e)}(EE(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),On(JC,XC,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ZC)),On(JC,XC,"esm2017");var tA=2e3;function nA(e,t,n){return rA.apply(this,arguments)}function rA(){return rA=ft(ct().mark((function e(t,n,r){var i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=eA(),o=a.BuildInfo,i_(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,cA(n.sessionId);case 4:return s=e.sent,u={},sE()?u.ibi=o.packageName:iE()?u.apn=o.packageName:Xx(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",jC(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}function iA(){return(iA=ft(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=eA(),r=n.BuildInfo,i={},sE()?i.iosBundleId=r.packageName:iE()?i.androidPackageName=r.packageName:Xx(t,"operation-not-supported-in-this-environment"),e.next=5,dC(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aA(e){var t=eA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function oA(e,t,n){return sA.apply(this,arguments)}function sA(){return sA=ft(ct().mark((function e(t,n,r){var i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i($x(t,"redirect-cancelled-by-user"))}),tA))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),iE()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),sA.apply(this,arguments)}function uA(e){var t,n,r,i,a,o,s,u,c,l,f=eA();n_("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),n_("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),n_("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),n_("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),n_("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function cA(e){return lA.apply(this,arguments)}function lA(){return(lA=ft(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fA(e){if(i_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var hA=20,dA=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Jr(b(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(lC);function pA(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:kA(),postBody:null,tenantId:e.tenantId,error:$x(e,"no-auth-event")}}function vA(e,t){return bA()._set(wA(e),t)}function mA(e){return gA.apply(this,arguments)}function gA(){return(gA=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bA()._get(wA(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,bA()._remove(wA(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yA(e,t){var n,r,i=function(e){var t=xA(e),n=t.link?decodeURIComponent(t.link):void 0,r=xA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return xA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=xA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?$x(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function kA(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<hA;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function bA(){return Q_(PI)}function wA(e){return X_("authEvent",e.config.apiKey,e.name)}function xA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=I(e.split("?"));t[0];return _x(t.slice(1).join("?"))}var _A=function(){function e(){d(this,e),this._redirectPersistence=LI,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=oC,this._overrideRedirectResult=YS}return g(e,[{key:"_initialize",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new dA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Xx(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ft(ct().mark((function e(t,n,r,i){var a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),qS.clear(),e.next=10,this._originValidation(t);case 10:return o=pA(t,r,i),e.next=13,vA(t,o);case 13:return e.next=15,nA(t,o,n);case 15:return s=e.sent,e.next=18,aA(s);case 18:return u=e.sent,e.abrupt("return",oA(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return iA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=eA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ft(ct().mark((function n(){return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mA(e);case 2:t.onEvent(TA());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=ft(ct().mark((function n(r){var i,a;return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,mA(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=yA(i,r.url)),t.onEvent(a||TA());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");eA().handleOpenURL=function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),EA=_A;function TA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$x("no-auth-event")}}var IA=1e3;function SA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function CA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return!("file:"!==SA()&&"ionic:"!==SA()&&"capacitor:"!==SA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function AA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return mx()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hx();return/Edge\/\d+/.test(e)}(e)}function NA(){try{var e=self.localStorage,t=FI();if(e)return e.setItem(t,"1"),e.removeItem(t),!AA()||gx()}catch(n){return OA()&&gx()}return!1}function OA(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function RA(){return("http:"===SA()||"https:"===SA()||px()||CA())&&!(vx()||dx())&&NA()&&!OA()}function PA(){return CA()&&"undefined"!==typeof document}function DA(){return LA.apply(this,arguments)}function LA(){return(LA=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(PA()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),IA);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var MA={LOCAL:"local",NONE:"none",SESSION:"session"},jA=n_,FA="persistence";function UA(e,t){jA(Object.values(MA).includes(t),e,"invalid-persistence-type"),vx()?jA(t!==MA.SESSION,e,"unsupported-persistence-type"):dx()?jA(t===MA.NONE,e,"unsupported-persistence-type"):OA()?jA(t===MA.NONE||t===MA.LOCAL&&gx(),e,"unsupported-persistence-type"):jA(t===MA.NONE||NA(),e,"unsupported-persistence-type")}function VA(e){return BA.apply(this,arguments)}function BA(){return(BA=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=zA(),r=X_(FA,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zA(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var qA=n_,WA=function(){function e(){d(this,e),this.browserResolver=Q_(zC),this.cordovaResolver=Q_(EA),this.underlyingResolver=null,this._redirectPersistence=LI,this._completeRedirectFn=oC,this._overrideRedirectResult=YS}return g(e,[{key:"_initialize",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ft(ct().mark((function e(t,n,r,i){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ft(ct().mark((function e(t,n,r,i){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return PA()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return qA(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,DA();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function HA(e){return e.unwrap()}function KA(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new XA(e,function(e,t){var n,r=Sx(e),i=t;return n_(t.customData.operationType,r,"argument-error"),n_(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),TI._fromError(r,i)}(e,t));else if(r){var i=GA(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function GA(e){var t=(e instanceof yx?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof yx)&&"temporaryProof"in t&&"phoneNumber"in t)return SS.credentialFromResult(e);var n,r=t.providerId;if(!r||r===jx.PASSWORD)return null;switch(r){case jx.GOOGLE:n=vT;break;case jx.FACEBOOK:n=pT;break;case jx.GITHUB:n=mT;break;case jx.TWITTER:n=kT;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?gT._create(r,s):tT._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new dT(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof yx?n.credentialFromError(e):n.credentialFromResult(e)}function QA(e,t){return t.catch((function(t){throw t instanceof yx&&KA(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,GA(t)),additionalUserInfo:_I(e),user:$A.getOrCreate(r)}}))}function YA(e,t){return JA.apply(this,arguments)}function JA(){return(JA=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return QA(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var XA=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return QA(HA(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),$A=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=Sx(e);return AI.has(t)||AI.set(t,CI._fromUser(t)),AI.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(this.auth,VT(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YA(this.auth,wS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(this.auth,US(this._delegate,t,WA)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VA(EE(this.auth));case 2:return e.abrupt("return",nC(this._delegate,t,WA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(this.auth,zT(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return YA(this.auth,function(e,t,n){return _S.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return QA(this.auth,function(e,t,n){return FS.apply(this,arguments)}(this._delegate,e,WA))}},{key:"reauthenticateWithRedirect",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VA(EE(this.auth));case 2:return e.abrupt("return",eC(this._delegate,t,WA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return lI.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CT(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return vI(Sx(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return vI(Sx(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return IS.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return pI.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return fI.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();$A.USER_MAP=new WeakMap;var ZA=n_,eN=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ZA(r,"invalid-api-key",{appName:t.name}),ZA(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?WA:void 0;this._delegate=n.initialize({options:{persistence:nN(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Hx),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?$A.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){IE(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ZT.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return eI(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return $T.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QA(this._delegate,rI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return cI.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=cT.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZA(RA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,iC(this._delegate,WA);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",QA(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){EE(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=tN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=tN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return aI.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return XT.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:UA(this._delegate,t),e.t0=t,e.next=e.t0===MA.SESSION?4:e.t0===MA.LOCAL?6:e.t0===MA.NONE?11:13;break;case 4:return n=LI,e.abrupt("break",14);case 6:return e.next=8,Q_(aS)._isAvailable();case 8:return r=e.sent,n=r?aS:PI,e.abrupt("break",14);case 11:return n=J_,e.abrupt("break",14);case 13:return e.abrupt("return",Xx("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return QA(this._delegate,function(e){return ET.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return QA(this._delegate,FT(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return QA(this._delegate,function(e,t){return KT.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return QA(this._delegate,function(e,t,n){return FT(Sx(e),lT.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return QA(this._delegate,function(e,t,n){return oI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return YA(this._delegate,function(e,t,n){return bS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZA(RA(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",QA(this._delegate,MS(this._delegate,t,WA)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZA(RA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,VA(this._delegate);case 3:return e.abrupt("return",$S(this._delegate,t,WA));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return nI.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function tN(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&$A.getOrCreate(e))},error:t,complete:n}}function nN(e,t){var n=function(e,t){var n=zA();if(!n)return[];var r=X_(FA,e,t);switch(n.getItem(r)){case MA.NONE:return[J_];case MA.LOCAL:return[aS,LI];case MA.SESSION:return[LI];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(aS)||n.push(aS),"undefined"!==typeof window)for(var r=0,i=[PI,LI];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(J_)||n.push(J_),n}eN.Persistence=MA;var rN=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new SS(HA(cr.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return SS.credential(e,t)}}]),e}();rN.PHONE_SIGN_IN_METHOD=SS.PHONE_SIGN_IN_METHOD,rN.PROVIDER_ID=SS.PROVIDER_ID;var iN=n_,aN=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr.app();d(this,e),iN(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new gS(t,n,i.auth()),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new vt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new eN(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fx,PASSWORD_RESET:Ux,RECOVER_EMAIL:Vx,REVERT_SECOND_FACTOR_ADDITION:Bx,VERIFY_AND_CHANGE_EMAIL:zx,VERIFY_EMAIL:qx}},EmailAuthProvider:lT,FacebookAuthProvider:pT,GithubAuthProvider:mT,GoogleAuthProvider:vT,OAuthProvider:dT,SAMLAuthProvider:yT,PhoneAuthProvider:rN,PhoneMultiFactorGenerator:HC,RecaptchaVerifier:aN,TwitterAuthProvider:kT,Auth:eN,AuthCredential:AE,Error:yx}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.2")}(cr);var oN={apiKey:"AIzaSyAUlqVFqNfKTY34UCA0_jt9kHlTqMgDzi0",authDomain:"ar-classroom-1bb48.firebaseapp.com",projectId:"ar-classroom-1bb48",storageBucket:"ar-classroom-1bb48.appspot.com",messagingSenderId:"801778279327",appId:"1:801778279327:web:e63f67b115057a5e2c53aa",measurementId:"G-DEC44C4SPG"},sN=g((function e(t){d(this,e),void 0!==cr.apps&&(cr.apps.length||cr.initializeApp(oN)),this.firestore=cr.firestore(),this.auth=cr.auth()})),uN=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.firestore.collection("games").doc(t.gameId).collection("players").doc(e).get().then(this._convertDocToPlayer)}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.firestore;if("gameId"in e){var n=e.gameId;delete e.gameId,t=t.collection("games").doc(n).collection("players")}return t.add(e).then((function(e){return e.get()})).then(this._convertDocToPlayer)}},{key:"list",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=this.firestore;return"gameId"in t&&(r=r.collection("games").doc(t.gameId)),r=r.collection("players"),"limit"in t&&(r=r.limit(t.limit)),void 0!==n?r.onSnapshot((function(t){var r=[];t.forEach((function(t){return r.push(e._convertDocToPlayer(t))})),n(r)})):r.get().then((function(t){return t.docs.map((function(t){return e._convertDocToQuestion(t)}))}))}},{key:"_convertDocToPlayer",value:function(e){return Object.assign({id:e.id},e.data())}}]),n}(sN),cN=uN,lN=function(e){return(new cN).create(e)},fN=["className","cssModule","fluid","tag"],hN={tag:_r,fluid:mr().oneOfType([mr().bool,mr().string]),className:mr().string,cssModule:mr().object},dN=function(e){var t=e.className,n=e.cssModule,i=e.fluid,a=e.tag,o=hr(e,fN),s="container";!0===i?s="container-fluid":i&&(s="container-"+i);var u=kr(yr()(t,s),n);return r.createElement(a,fr({},o,{className:u}))};dN.propTypes=hN,dN.defaultProps={tag:"div"};var pN=dN,vN="styles_centered__j0I7d",mN=n(184),gN=function(e){return(0,mN.jsx)(pN,{className:vN,style:{maxWidth:e.maxWidth||null,height:e.verticalCentered?"100%":null},children:e.children})},yN=function(){function e(){d(this,e)}return g(e,null,[{key:"STATE_DRAFT",get:function(){return"draft"}},{key:"STATE_WAITING_FOR_PLAYERS",get:function(){return"waitingForPlayers"}}]),e}(),kN=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.firestore.collection("games").add(Object.assign({state:yN.STATE_DRAFT},e)).then((function(e){return e.get()})).then(this._convertDocToGame)}},{key:"get",value:function(e,t){var n=this,r=this._getGameDoc(e);return void 0!==t?r.onSnapshot((function(e){return t(n._convertDocToGame(e))})):r.get().then(this._convertDocToGame)}},{key:"list",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.firestore.collection("games");return"ownerId"in t&&(n=n.where("ownerId","==",t.ownerId)),"state"in t&&(n=n.where("state","==",t.state)),"shortCode"in t&&(n=n.where("shortCode","==",t.shortCode)),"limit"in t&&(n=n.limit(t.limit)),n.get().then((function(t){return t.docs.map((function(t){return e._convertDocToGame(t)}))}))}},{key:"update",value:function(e,t){var n=this._getGameDoc(e);return"currentQuestionId"in t&&(t.currentQuestion=n.collection("questions").doc(t.currentQuestionId),delete t.currentQuestionId),n.update(t)}},{key:"_getGameDoc",value:function(e){return this.firestore.collection("games").doc(e)}},{key:"_convertDocToGame",value:function(e){var t=Object.assign({id:e.id},e.data());return"currentQuestion"in t&&(t.currentQuestionId=t.currentQuestion.id,t.currentQuestion=t.currentQuestion.path),t}}]),n}(sN),bN=kN,wN=function(e,t){return(new bN).get(e,t)},xN=function(e){var t=e.playerName,n=e.setPlayerName,r=e.joinGame;return(0,mN.jsxs)(Ar,{onSubmit:function(e){e.preventDefault(),r()},children:[(0,mN.jsxs)(Pr,{children:[(0,mN.jsx)(Br,{children:"\u8f38\u5165\u4f60\u7684\u66b1\u7a31:"}),(0,mN.jsx)(Hr,{value:t,onChange:function(e){var t=e.target.value.replace(/[^a-zA-Z0-9!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]+/g,"");n(t)},pattern:"[a-zA-Z0-9!@#$%^&*()_+{}\\[\\]:;<>,.?~\\\\/-]+",title:"English, symble, numbers only",placeholder:"\u53ea\u9650\u8f38\u5165\u82f1\u6587\u3001\u7b26\u865f\u3001\u6578\u5b57"})]}),(0,mN.jsx)(Yr,{color:"primary",type:"submit",children:"\u52a0\u5165\u623f\u9593"})]})},_N=function(){var e,t=xe().gameId,n=l((0,r.useState)(""),2),i=n[0],a=n[1],o=l((0,r.useState)(""),2),s=o[0],u=o[1],c=l((0,r.useState)(null),2),f=c[0],h=c[1];(0,r.useEffect)((function(){s&&lr.firestore().collection("SID").doc(s).set({name:i,id:s}).then((function(){console.log("Player data stored in Firestore!")})).catch((function(e){console.error("Error storing player data: ",e)}))}),[s,i]),(0,r.useEffect)((function(){t&&null===f&&wN(t).then(h)}),[t,f]),e="?playUrl=/play/"+t+"/as/"+s;return(0,mN.jsxs)(gN,{maxWidth:500,verticalCentered:!0,children:[(0,mN.jsx)("h1",{children:f?f.name:null}),s?void window.location.replace("/Avatar-classroom/#/draw".concat(e)):(0,mN.jsx)(xN,{playerName:i,setPlayerName:a,joinGame:function(){return lN({name:i,gameId:t}).then((function(e){return u(e.id)}))}})]})},EN=["className","cssModule","noGutters","tag","form","widths"],TN=mr().oneOfType([mr().number,mr().string]),IN={tag:_r,noGutters:mr().bool,className:mr().string,cssModule:mr().object,form:mr().bool,xs:TN,sm:TN,md:TN,lg:TN,xl:TN},SN={tag:"div",widths:["xs","sm","md","lg","xl"]},CN=function(e){var t=e.className,n=e.cssModule,i=e.noGutters,a=e.tag,o=e.form,s=e.widths,u=hr(e,EN),c=[];s.forEach((function(t,n){var r=e[t];if(delete u[t],r){var i=!n;c.push(i?"row-cols-"+r:"row-cols-"+t+"-"+r)}}));var l=kr(yr()(t,i?"no-gutters":null,o?"form-row":"row",c),n);return r.createElement(a,fr({},u,{className:l}))};CN.propTypes=IN,CN.defaultProps=SN;var AN=CN,NN=["className","cssModule","widths","tag"],ON=mr().oneOfType([mr().number,mr().string]),RN=mr().oneOfType([mr().bool,mr().number,mr().string,mr().shape({size:mr().oneOfType([mr().bool,mr().number,mr().string]),order:ON,offset:ON})]),PN={tag:_r,xs:RN,sm:RN,md:RN,lg:RN,xl:RN,className:mr().string,cssModule:mr().object,widths:mr().array},DN={tag:"div",widths:["xs","sm","md","lg","xl"]},LN=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},MN=function(e){var t=e.className,n=e.cssModule,i=e.widths,a=e.tag,o=hr(e,NN),s=[];i.forEach((function(t,r){var i=e[t];if(delete o[t],i||""===i){var a=!r;if(Tr(i)){var u,c=a?"-":"-"+t+"-",l=LN(a,t,i.size);s.push(kr(yr()(((u={})[l]=i.size||""===i.size,u["order"+c+i.order]=i.order||0===i.order,u["offset"+c+i.offset]=i.offset||0===i.offset,u)),n))}else{var f=LN(a,t,i);s.push(f)}}})),s.length||s.push("col");var u=kr(yr()(t,s),n);return r.createElement(a,fr({},o,{className:u}))};MN.propTypes=PN,MN.defaultProps=DN;var jN=MN,FN=["className","cssModule","type","size","color","children","tag"],UN={tag:_r,type:mr().string,size:mr().string,color:mr().string,className:mr().string,cssModule:mr().object,children:mr().string},VN=function(e){var t=e.className,n=e.cssModule,i=e.type,a=e.size,o=e.color,s=e.children,u=e.tag,c=hr(e,FN),l=kr(yr()(t,!!a&&"spinner-"+i+"-"+a,"spinner-"+i,!!o&&"text-"+o),n);return r.createElement(u,fr({role:"status"},c,{className:l}),s&&r.createElement("span",{className:kr("sr-only",n)},s))};VN.propTypes=UN,VN.defaultProps={tag:"div",type:"border",children:"Loading..."};var BN=VN,zN=n(8267),qN=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WN(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var KN=HN(HN({},zN.Transition.propTypes),{},{children:mr().oneOfType([mr().arrayOf(mr().node),mr().node]),tag:_r,baseClass:mr().string,baseClassActive:mr().string,className:mr().string,cssModule:mr().object,innerRef:mr().oneOfType([mr().object,mr().string,mr().func])}),GN=HN(HN({},zN.Transition.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:150,appear:!0,enter:!0,exit:!0,in:!0});function QN(e){var t=e.tag,n=e.baseClass,i=e.baseClassActive,a=e.className,o=e.cssModule,s=e.children,u=e.innerRef,c=hr(e,qN),l=function(e,t){for(var n,r=Array.isArray(t)?t:[t],i=r.length,a={};i>0;)a[n=r[i-=1]]=e[n];return a}(c,Er),f=function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(c,Er);return r.createElement(zN.Transition,l,(function(e){var c="entered"===e,l=kr(yr()(a,n,c&&i),o);return r.createElement(t,fr({className:l},f,{ref:u}),s)}))}QN.propTypes=KN,QN.defaultProps=GN;var YN=QN,JN=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"];function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XN(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ZN={children:mr().node,className:mr().string,closeClassName:mr().string,closeAriaLabel:mr().string,cssModule:mr().object,color:mr().string,fade:mr().bool,isOpen:mr().bool,toggle:mr().func,tag:_r,transition:mr().shape(YN.propTypes),innerRef:mr().oneOfType([mr().object,mr().string,mr().func])},eO={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:$N($N({},YN.defaultProps),{},{unmountOnExit:!0})};function tO(e){var t=e.className,n=e.closeClassName,i=e.closeAriaLabel,a=e.cssModule,o=e.tag,s=e.color,u=e.isOpen,c=e.toggle,l=e.children,f=e.transition,h=e.fade,d=e.innerRef,p=hr(e,JN),v=kr(yr()(t,"alert","alert-"+s,{"alert-dismissible":c}),a),m=kr(yr()("close",n),a),g=$N($N($N({},YN.defaultProps),f),{},{baseClass:h?f.baseClass:"",timeout:h?f.timeout:0});return r.createElement(YN,fr({},p,g,{tag:o,className:v,in:u,role:"alert",innerRef:d}),c?r.createElement("button",{type:"button",className:m,"aria-label":i,onClick:c},r.createElement("span",{"aria-hidden":"true"},"\xd7")):null,l)}tO.propTypes=ZN,tO.defaultProps=eO;var nO=tO,rO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new cN).get(e,t)},iO=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"create",value:function(e){var t=this._popAttr(e,"gameId"),n=this._popAttr(e,"playerId"),r=this._popAttr(e,"questionId");return this.firestore.collection("games").doc(t).collection("answers").add(Object.assign({player:this.firestore.doc(["/games",t,"players",n].join("/")),question:this.firestore.doc(["/games",t,"questions",r].join("/"))},e)).then((function(e){return e.get()})).then(this._convertDocToAnswer)}},{key:"list",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.firestore;return"gameId"in t&&(n=n.collection("games").doc(t.gameId)),n=n.collection("answers"),"questionId"in t&&(n=n.where("question","==",this.firestore.doc("games/".concat(t.gameId,"/questions/").concat(t.questionId)))),"limit"in t&&(n=n.limit(t.limit)),n.get().then((function(t){return t.docs.map((function(t){return e._convertDocToAnswer(t)}))}))}},{key:"_convertDocToAnswer",value:function(e){return Object.assign({id:e.id},e.data())}},{key:"_popAttr",value:function(e,t){var n=e[t];return delete e[t],n}}]),n}(sN),aO=iO;function oO(e,t){var n=e[t];return delete e[t],n}var sO=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.firestore,i={};return"gameId"in n&&(r=r.collection("games").doc(n.gameId).collection("questions"),i.gameId=n.gameId),r.doc(e).get().then((function(e){return t._convertDocToQuestion(e,i)}))}},{key:"create",value:function(e){var t=this,n=Object.assign({},e),r=oO(n,"gameId");return this.firestore.collection("games").doc(r).collection("questions").add(n).then((function(e){return e.get()})).then((function(e){return t._convertDocToQuestion(e,{gameId:r})}))}},{key:"update",value:function(e,t){var n=Object.assign({},t),r=oO(n,"gameId");return this.firestore.collection("games").doc(r).collection("questions").doc(e).update(n)}},{key:"list",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.firestore,r={};return"gameId"in t&&(n=n.collection("games").doc(t.gameId).collection("questions"),r.gameId=t.gameId),"from"in t&&(n=n.where("order",">",t.from)),n=n.orderBy("order"),"limit"in t&&(n=n.limit(t.limit)),n.get().then((function(t){return t.docs.map((function(t){return e._convertDocToQuestion(t,r)}))}))}},{key:"_convertDocToQuestion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({id:e.id},e.data(),t)}}]),n}(sN),uO=sO,cO=function(e){var t=new uO,n=(new Date).getTime();return(new bN).get(e.gameId).then((function(e){return t.get(e.currentQuestionId,{gameId:e.id})})).then((function(t){return e.isCorrect=t.correctAnswer===e.choice,e.questionId=t.id,e.timestamp=n,console.log(e),(new aO).create(e)}))},lO=function(e){var t=e.recordAnswer,n=e.isAnswerDisabled;return(0,mN.jsx)(AN,{children:["A","B","C","D"].map((function(e){return(0,mN.jsx)(jN,{sm:12,md:6,className:"mb-4",children:(0,mN.jsx)(Yr,{color:"info",outline:!0,className:"w-100 h-100",onClick:function(){return t(e)},disabled:n,children:(0,mN.jsx)("strong",{children:e})})},e)}))})},fO=function(){var e=xe(),t=e.gameId,n=e.playerId,i=l((0,r.useState)(),2),a=i[0],o=i[1],s=l((0,r.useState)(""),2),u=s[0],c=s[1],f=l((0,r.useState)(null),2),h=f[0],d=f[1],p=l((0,r.useState)(""),2),v=p[0],m=p[1],g=l((0,r.useState)(!1),2),y=g[0],k=g[1],b=function(e){e&&(d(null),o(e))};(0,r.useEffect)((function(){t&&n&&(wN(t,b),rO(n,{gameId:t}).then((function(e){return c(e.name)})))}),[t,n]);switch(a?a.state:null){case"pendingQuestion":return(0,mN.jsx)(gN,{maxWidth:500,verticalCentered:!0,children:(0,mN.jsxs)("div",{children:[(0,mN.jsx)("a",{children:"\u6e96\u5099\u56de\u7b54\u4e0b\u4e00\u984c"}),(0,mN.jsx)(BN,{color:"info",type:"grow",size:"sm",children:"Loading..."}),(0,mN.jsx)("a",{children:"\u8acb\u770b\u6295\u5f71\u5594!"})]})});case"showingQuestion":return(0,mN.jsxs)(gN,{maxWidth:500,verticalCentered:!0,children:[(0,mN.jsx)(AN,{className:"mb-4",children:(0,mN.jsxs)(jN,{sm:12,children:[(0,mN.jsxs)("h2",{children:["Hi ",u,"!"]}),(0,mN.jsx)("h3",{children:"\u8acb\u770b\u6295\u5f71\u9078\u64c7\u7b54\u6848:"})]})}),(0,mN.jsx)(lO,{recordAnswer:function(e){y||(k(!0),cO({playerId:n,playerName:u,gameId:t,choice:e}).then((function(e){d(e),setTimeout((function(){d(null),k(!1)}),3e3)})).catch((function(e){m(e),setTimeout((function(){m(""),k(!1)}),5e3)})))},isAnswerDisabled:y}),v?(0,mN.jsx)(nO,{color:"danger",children:v}):null,h&&y?(0,mN.jsx)(AN,{className:"mb-4",children:(0,mN.jsx)(jN,{sm:12,children:(0,mN.jsxs)("h2",{children:["\u4f60\u9078\u4e86 ",h.choice,"!"]})})}):(0,mN.jsx)(mN.Fragment,{})]});case"showingQuestionResults":return(0,mN.jsx)(gN,{maxWidth:500,verticalCentered:!0,children:(0,mN.jsxs)("div",{children:[(0,mN.jsx)("a",{children:"\u986f\u793a\u56de\u7b54\u7d50\u679c"}),(0,mN.jsx)(BN,{color:"info",type:"grow",size:"sm",children:"Loading..."}),(0,mN.jsx)("a",{children:"\u8acb\u770b\u6295\u5f71\u5594!"})]})});default:return(0,mN.jsx)(gN,{maxWidth:500,verticalCentered:!0,children:(0,mN.jsxs)("div",{children:[(0,mN.jsx)("a",{children:"\u7b49\u5f85\u8ab2\u7a0b\u958b\u59cb"}),(0,mN.jsx)(BN,{color:"info",type:"grow",size:"sm",children:"Loading..."}),(0,mN.jsx)("a",{children:"\u958b\u59cb\u5f8c\u8acb\u770b\u6295\u5f71\u5594!"})]})})}},hO=["className","cssModule","tag","flush","horizontal"],dO={tag:_r,flush:mr().bool,className:mr().string,cssModule:mr().object,horizontal:mr().oneOfType([mr().bool,mr().string])},pO=function(e){var t=e.className,n=e.cssModule,i=e.tag,a=e.flush,o=e.horizontal,s=hr(e,hO),u=kr(yr()(t,"list-group",a?"list-group-flush":function(e){return!1!==e&&(!0===e||"xs"===e?"list-group-horizontal":"list-group-horizontal-"+e)}(o)),n);return r.createElement(i,fr({},s,{className:u}))};pO.propTypes=dO,pO.defaultProps={tag:"ul",horizontal:!1};var vO=pO,mO=["className","cssModule","tag","active","disabled","action","color"],gO={tag:_r,active:mr().bool,disabled:mr().bool,color:mr().string,action:mr().bool,className:mr().any,cssModule:mr().object},yO=function(e){e.preventDefault()},kO=function(e){var t=e.className,n=e.cssModule,i=e.tag,a=e.active,o=e.disabled,s=e.action,u=e.color,c=hr(e,mO),l=kr(yr()(t,!!a&&"active",!!o&&"disabled",!!s&&"list-group-item-action",!!u&&"list-group-item-"+u,"list-group-item"),n);return o&&(c.onClick=yO),r.createElement(i,fr({},c,{className:l}))};kO.propTypes=gO,kO.defaultProps={tag:"li"};var bO=kO,wO=n(741),xO=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new cN;return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:new bN).update(e,{state:"waitingForPlayers"}),n.list({gameId:e},t)},_O="styles_hero_heading__sIiJN";function EO(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=EO(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var TO=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=EO(e))&&(r&&(r+=" "),r+=t);return r},IO={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function SO(e){var t=typeof e;return"string"===t||"number"===t?IO[e]||e:""}var CO=function(e,t){return e&&t},AO=function(e,t){return e&&!0!==e&&e+" "+t},NO=function(e,t){return e&&(!0===e?t:e+" "+t)},OO=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},RO=function(e){return"justified"===e?"justified":AO(e,"aligned")},PO=function(e){return AO(e,"aligned")},DO=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?SO(e):SO(e)+" "+t},LO=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};var MO=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var a=n();if(a)return a}return t.href?"a":i.as||"div"},jO="object"==typeof global&&global&&global.Object===Object&&global,FO="object"==typeof self&&self&&self.Object===Object&&self,UO=jO||FO||Function("return this")(),VO=UO.Symbol,BO=Object.prototype,zO=BO.hasOwnProperty,qO=BO.toString,WO=VO?VO.toStringTag:void 0;var HO=function(e){var t=zO.call(e,WO),n=e[WO];try{e[WO]=void 0;var r=!0}catch(a){}var i=qO.call(e);return r&&(t?e[WO]=n:delete e[WO]),i},KO=Object.prototype.toString;var GO=function(e){return KO.call(e)},QO=VO?VO.toStringTag:void 0;var YO=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":QO&&QO in Object(e)?HO(e):GO(e)};var JO=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var XO=function(e){if(!JO(e))return!1;var t=YO(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},$O=UO["__core-js_shared__"],ZO=function(){var e=/[^.]+$/.exec($O&&$O.keys&&$O.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var eR=function(e){return!!ZO&&ZO in e},tR=Function.prototype.toString;var nR=function(e){if(null!=e){try{return tR.call(e)}catch(t){}try{return e+""}catch(t){}}return""},rR=/^\[object .+?Constructor\]$/,iR=Function.prototype,aR=Object.prototype,oR=iR.toString,sR=aR.hasOwnProperty,uR=RegExp("^"+oR.call(sR).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var cR=function(e){return!(!JO(e)||eR(e))&&(XO(e)?uR:rR).test(nR(e))};var lR=function(e,t){return null==e?void 0:e[t]};var fR=function(e,t){var n=lR(e,t);return cR(n)?n:void 0},hR=fR(Object,"create");var dR=function(){this.__data__=hR?hR(null):{},this.size=0};var pR=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},vR=Object.prototype.hasOwnProperty;var mR=function(e){var t=this.__data__;if(hR){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return vR.call(t,e)?t[e]:void 0},gR=Object.prototype.hasOwnProperty;var yR=function(e){var t=this.__data__;return hR?void 0!==t[e]:gR.call(t,e)};var kR=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hR&&void 0===t?"__lodash_hash_undefined__":t,this};function bR(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}bR.prototype.clear=dR,bR.prototype.delete=pR,bR.prototype.get=mR,bR.prototype.has=yR,bR.prototype.set=kR;var wR=bR;var xR=function(){this.__data__=[],this.size=0};var _R=function(e,t){return e===t||e!==e&&t!==t};var ER=function(e,t){for(var n=e.length;n--;)if(_R(e[n][0],t))return n;return-1},TR=Array.prototype.splice;var IR=function(e){var t=this.__data__,n=ER(t,e);return!(n<0)&&(n==t.length-1?t.pop():TR.call(t,n,1),--this.size,!0)};var SR=function(e){var t=this.__data__,n=ER(t,e);return n<0?void 0:t[n][1]};var CR=function(e){return ER(this.__data__,e)>-1};var AR=function(e,t){var n=this.__data__,r=ER(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function NR(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}NR.prototype.clear=xR,NR.prototype.delete=IR,NR.prototype.get=SR,NR.prototype.has=CR,NR.prototype.set=AR;var OR=NR,RR=fR(UO,"Map");var PR=function(){this.size=0,this.__data__={hash:new wR,map:new(RR||OR),string:new wR}};var DR=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var LR=function(e,t){var n=e.__data__;return DR(t)?n["string"==typeof t?"string":"hash"]:n.map};var MR=function(e){var t=LR(this,e).delete(e);return this.size-=t?1:0,t};var jR=function(e){return LR(this,e).get(e)};var FR=function(e){return LR(this,e).has(e)};var UR=function(e,t){var n=LR(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function VR(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}VR.prototype.clear=PR,VR.prototype.delete=MR,VR.prototype.get=jR,VR.prototype.has=FR,VR.prototype.set=UR;var BR=VR;var zR=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var qR=function(e){return this.__data__.has(e)};function WR(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new BR;++t<n;)this.add(e[t])}WR.prototype.add=WR.prototype.push=zR,WR.prototype.has=qR;var HR=WR;var KR=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var GR=function(e){return e!==e};var QR=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var YR=function(e,t,n){return t===t?QR(e,t,n):KR(e,GR,n)};var JR=function(e,t){return!!(null==e?0:e.length)&&YR(e,t,0)>-1};var XR=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var $R=function(e,t){return e.has(t)},ZR=fR(UO,"Set");var eP=function(){};var tP=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},nP=ZR&&1/tP(new ZR([,-0]))[1]==1/0?function(e){return new ZR(e)}:eP,rP=nP;var iP=function(e,t,n){var r=-1,i=JR,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=XR;else if(a>=200){var c=t?null:rP(e);if(c)return tP(c);o=!1,i=$R,u=new HR}else u=t?[]:s;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s};var aP=function(e){return e&&e.length?iP(e):[]},oP=Array.isArray;var sP=function(e,t){return function(n){return e(t(n))}},uP=sP(Object.getPrototypeOf,Object);var cP=function(e){return null!=e&&"object"==typeof e},lP=Function.prototype,fP=Object.prototype,hP=lP.toString,dP=fP.hasOwnProperty,pP=hP.call(Object);var vP=function(e){if(!cP(e)||"[object Object]"!=YO(e))return!1;var t=uP(e);if(null===t)return!0;var n=dP.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&hP.call(n)==pP};var mP=function(e){return"number"==typeof e||cP(e)&&"[object Number]"==YO(e)};var gP=function(e){return"string"==typeof e||!oP(e)&&cP(e)&&"[object String]"==YO(e)};var yP=function(e){return!0===e||!1===e||cP(e)&&"[object Boolean]"==YO(e)};var kP=function(e){return null==e};function bP(e,t,n,i){if(void 0===i&&(i={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(kP(n)||yP(n))return null;var a=gP(n),o=mP(n),s=XO(n),u=r.isValidElement(n),c=vP(n),l=a||o||oP(n);if(!s&&!u&&!c&&!l)return null;var f=i.defaultProps,h=void 0===f?{}:f,d=u&&n.props||c&&n||l&&t(n),p=i.overrideProps,v=void 0===p?{}:p;v=XO(v)?v(fr({},h,d)):v;var m=fr({},h,d,v);if(h.className||v.className||d.className){var g=TO(h.className,v.className,d.className);m.className=aP(g.split(" ")).join(" ")}if((h.style||v.style||d.style)&&(m.style=fr({},h.style,d.style,v.style)),kP(m.key)){var y=m.childKey,k=i.autoGenerateKey,b=void 0===k||k;kP(y)?b&&(a||o)&&(m.key=n):(m.key="function"===typeof y?y(m):y,delete m.childKey)}return u?r.cloneElement(n,m):"function"===typeof m.children?m.children(e,fr({},m,{children:void 0})):l||c?r.createElement(e,m):s?n(e,m,m.children):void 0}function wP(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return bP(e,t,n,r)}}var xP=wP("input",(function(e){return{type:e}})),_P=wP("label",(function(e){return{children:e}})),EP=wP("p",(function(e){return{children:e}}));function TP(e){var t=e.children,n=e.className,i=e.computer,a=e.color,o=e.floated,s=e.largeScreen,u=e.mobile,c=e.only,l=e.stretched,f=e.tablet,h=e.textAlign,d=e.verticalAlign,p=e.widescreen,v=e.width,m=TO(a,CO(l,"stretched"),OO(c,"only"),RO(h),AO(o,"floated"),PO(d),DO(i,"wide computer"),DO(s,"wide large screen"),DO(u,"wide mobile"),DO(f,"wide tablet"),DO(p,"wide widescreen"),DO(v,"wide"),"column",n),g=LO(TP,e),y=MO(TP,e);return r.createElement(y,fr({},g,{className:m}),t)}TP.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],TP.propTypes={},TP.create=wP(TP,(function(e){return{children:e}}));var IP=TP;function SP(e){var t=e.centered,n=e.children,i=e.className,a=e.color,o=e.columns,s=e.divided,u=e.only,c=e.reversed,l=e.stretched,f=e.textAlign,h=e.verticalAlign,d=TO(a,CO(t,"centered"),CO(s,"divided"),CO(l,"stretched"),OO(u,"only"),OO(c,"reversed"),RO(f),PO(h),DO(o,"column",!0),"row",i),p=LO(SP,e),v=MO(SP,e);return r.createElement(v,fr({},p,{className:d}),n)}SP.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],SP.propTypes={};var CP=SP;function AP(e){var t=e.celled,n=e.centered,i=e.children,a=e.className,o=e.columns,s=e.container,u=e.divided,c=e.doubling,l=e.inverted,f=e.padded,h=e.relaxed,d=e.reversed,p=e.stackable,v=e.stretched,m=e.textAlign,g=e.verticalAlign,y=TO("ui",CO(n,"centered"),CO(s,"container"),CO(c,"doubling"),CO(l,"inverted"),CO(p,"stackable"),CO(v,"stretched"),NO(t,"celled"),NO(u,"divided"),NO(f,"padded"),NO(h,"relaxed"),OO(d,"reversed"),RO(m),PO(g),DO(o,"column",!0),"grid",a),k=LO(AP,e),b=MO(AP,e);return r.createElement(b,fr({},k,{className:y}),i)}AP.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],AP.Column=IP,AP.Row=CP,AP.propTypes={};var NP=AP;var OP=function(e){return"symbol"==typeof e||cP(e)&&"[object Symbol]"==YO(e)},RP=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PP=/^\w*$/;var DP=function(e,t){if(oP(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!OP(e))||(PP.test(e)||!RP.test(e)||null!=t&&e in Object(t))};function LP(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(LP.Cache||BR),n}LP.Cache=BR;var MP=LP;var jP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FP=/\\(\\)?/g,UP=function(e){var t=MP(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(jP,(function(e,n,r,i){t.push(r?i.replace(FP,"$1"):n||e)})),t}));var VP=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},BP=VO?VO.prototype:void 0,zP=BP?BP.toString:void 0;var qP=function e(t){if("string"==typeof t)return t;if(oP(t))return VP(t,e)+"";if(OP(t))return zP?zP.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var WP=function(e){return null==e?"":qP(e)};var HP=function(e,t){return oP(e)?e:DP(e,t)?[e]:UP(WP(e))};var KP=function(e){if("string"==typeof e||OP(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var GP=function(e,t){for(var n=0,r=(t=HP(t,e)).length;null!=e&&n<r;)e=e[KP(t[n++])];return n&&n==r?e:void 0},QP=function(){try{var e=fR(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var YP=function(e,t,n){"__proto__"==t&&QP?QP(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},JP=Object.prototype.hasOwnProperty;var XP=function(e,t,n){var r=e[t];JP.call(e,t)&&_R(r,n)&&(void 0!==n||t in e)||YP(e,t,n)},$P=/^(?:0|[1-9]\d*)$/;var ZP=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&$P.test(e))&&e>-1&&e%1==0&&e<t};var eD=function(e,t,n,r){if(!JO(e))return e;for(var i=-1,a=(t=HP(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=KP(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=JO(l)?l:ZP(t[i+1])?[]:{})}XP(s,u,c),s=s[u]}return e};var tD=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=GP(e,o);n(s,o)&&eD(a,HP(o,e),s)}return a};var nD=function(e,t){return null!=e&&t in Object(e)};var rD=function(e){return cP(e)&&"[object Arguments]"==YO(e)},iD=Object.prototype,aD=iD.hasOwnProperty,oD=iD.propertyIsEnumerable,sD=rD(function(){return arguments}())?rD:function(e){return cP(e)&&aD.call(e,"callee")&&!oD.call(e,"callee")},uD=sD;var cD=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var lD=function(e,t,n){for(var r=-1,i=(t=HP(t,e)).length,a=!1;++r<i;){var o=KP(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&cD(i)&&ZP(o,i)&&(oP(e)||uD(e))};var fD=function(e,t){return null!=e&&lD(e,t,nD)};var hD=function(e,t){return tD(e,t,(function(t,n){return fD(e,n)}))};var dD=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},pD=VO?VO.isConcatSpreadable:void 0;var vD=function(e){return oP(e)||uD(e)||!!(pD&&e&&e[pD])};var mD=function e(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=vD),a||(a=[]);++o<s;){var u=t[o];n>0&&r(u)?n>1?e(u,n-1,r,i,a):dD(a,u):i||(a[a.length]=u)}return a};var gD=function(e){return(null==e?0:e.length)?mD(e,1):[]};var yD=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},kD=Math.max;var bD=function(e,t,n){return t=kD(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=kD(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),yD(e,this,s)}};var wD=function(e){return function(){return e}};var xD=function(e){return e},_D=QP?function(e,t){return QP(e,"toString",{configurable:!0,enumerable:!1,value:wD(t),writable:!0})}:xD,ED=Date.now;var TD=function(e){var t=0,n=0;return function(){var r=ED(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},ID=TD(_D);var SD=function(e){return ID(bD(e,void 0,gD),e+"")}((function(e,t){return null==e?{}:hD(e,t)}));var CD=function(e){return null!=e&&cD(e.length)&&!XO(e)},AD=/\s/;var ND=function(e){for(var t=e.length;t--&&AD.test(e.charAt(t)););return t},OD=/^\s+/;var RD=function(e){return e?e.slice(0,ND(e)+1).replace(OD,""):e},PD=/^[-+]0x[0-9a-f]+$/i,DD=/^0b[01]+$/i,LD=/^0o[0-7]+$/i,MD=parseInt;var jD=function(e){if("number"==typeof e)return e;if(OP(e))return NaN;if(JO(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=JO(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=RD(e);var n=DD.test(e);return n||LD.test(e)?MD(e.slice(2),n?2:8):PD.test(e)?NaN:+e},FD=1/0;var UD=function(e){return e?(e=jD(e))===FD||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var VD=function(e){var t=UD(e),n=t%1;return t===t?n?t-n:t:0};var BD=function(e,t){return VP(t,(function(t){return e[t]}))};var zD=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var qD=function(){return!1},WD="object"==typeof exports&&exports&&!exports.nodeType&&exports,HD=WD&&"object"==typeof module&&module&&!module.nodeType&&module,KD=HD&&HD.exports===WD?UO.Buffer:void 0,GD=(KD?KD.isBuffer:void 0)||qD,QD={};QD["[object Float32Array]"]=QD["[object Float64Array]"]=QD["[object Int8Array]"]=QD["[object Int16Array]"]=QD["[object Int32Array]"]=QD["[object Uint8Array]"]=QD["[object Uint8ClampedArray]"]=QD["[object Uint16Array]"]=QD["[object Uint32Array]"]=!0,QD["[object Arguments]"]=QD["[object Array]"]=QD["[object ArrayBuffer]"]=QD["[object Boolean]"]=QD["[object DataView]"]=QD["[object Date]"]=QD["[object Error]"]=QD["[object Function]"]=QD["[object Map]"]=QD["[object Number]"]=QD["[object Object]"]=QD["[object RegExp]"]=QD["[object Set]"]=QD["[object String]"]=QD["[object WeakMap]"]=!1;var YD=function(e){return cP(e)&&cD(e.length)&&!!QD[YO(e)]};var JD=function(e){return function(t){return e(t)}},XD="object"==typeof exports&&exports&&!exports.nodeType&&exports,$D=XD&&"object"==typeof module&&module&&!module.nodeType&&module,ZD=$D&&$D.exports===XD&&jO.process,eL=function(){try{var e=$D&&$D.require&&$D.require("util").types;return e||ZD&&ZD.binding&&ZD.binding("util")}catch(t){}}(),tL=eL&&eL.isTypedArray,nL=tL?JD(tL):YD,rL=Object.prototype.hasOwnProperty;var iL=function(e,t){var n=oP(e),r=!n&&uD(e),i=!n&&!r&&GD(e),a=!n&&!r&&!i&&nL(e),o=n||r||i||a,s=o?zD(e.length,String):[],u=s.length;for(var c in e)!t&&!rL.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ZP(c,u))||s.push(c);return s},aL=Object.prototype;var oL=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||aL)},sL=sP(Object.keys,Object),uL=Object.prototype.hasOwnProperty;var cL=function(e){if(!oL(e))return sL(e);var t=[];for(var n in Object(e))uL.call(e,n)&&"constructor"!=n&&t.push(n);return t};var lL=function(e){return CD(e)?iL(e):cL(e)};var fL=function(e){return null==e?[]:BD(e,lL(e))},hL=Math.max;var dL=function(e,t,n,r){e=CD(e)?e:fL(e),n=n&&!r?VD(n):0;var i=e.length;return n<0&&(n=hL(i+n,0)),gP(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&YR(e,t,n)>-1};var pL=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var vL=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}();var mL=function(e,t){return function(n,r){if(null==n)return n;if(!CD(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}((function(e,t){return e&&vL(e,t,lL)}));var gL=function(){this.__data__=new OR,this.size=0};var yL=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var kL=function(e){return this.__data__.get(e)};var bL=function(e){return this.__data__.has(e)};var wL=function(e,t){var n=this.__data__;if(n instanceof OR){var r=n.__data__;if(!RR||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new BR(r)}return n.set(e,t),this.size=n.size,this};function xL(e){var t=this.__data__=new OR(e);this.size=t.size}xL.prototype.clear=gL,xL.prototype.delete=yL,xL.prototype.get=kL,xL.prototype.has=bL,xL.prototype.set=wL;var _L=xL;var EL=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var TL=function(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=2&n?new HR:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var m=o?r(v,p,f,t,e,a):r(p,v,f,e,t,a);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!EL(t,(function(e,t){if(!$R(d,t)&&(p===e||i(p,e,n,r,a)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h},IL=UO.Uint8Array;var SL=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},CL=VO?VO.prototype:void 0,AL=CL?CL.valueOf:void 0;var NL=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new IL(e),new IL(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _R(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=SL;case"[object Set]":var u=1&r;if(s||(s=tP),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=TL(s(e),s(t),r,i,a,o);return o.delete(e),l;case"[object Symbol]":if(AL)return AL.call(e)==AL.call(t)}return!1};var OL=function(e,t,n){var r=t(e);return oP(e)?r:dD(r,n(e))};var RL=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var PL=function(){return[]},DL=Object.prototype.propertyIsEnumerable,LL=Object.getOwnPropertySymbols,ML=LL?function(e){return null==e?[]:(e=Object(e),RL(LL(e),(function(t){return DL.call(e,t)})))}:PL;var jL=function(e){return OL(e,lL,ML)},FL=Object.prototype.hasOwnProperty;var UL=function(e,t,n,r,i,a){var o=1&n,s=jL(e),u=s.length;if(u!=jL(t).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in t:FL.call(t,l)))return!1}var f=a.get(e),h=a.get(t);if(f&&h)return f==t&&h==e;var d=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<u;){var v=e[l=s[c]],m=t[l];if(r)var g=o?r(m,v,l,t,e,a):r(v,m,l,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=e.constructor,k=t.constructor;y==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof k&&k instanceof k||(d=!1)}return a.delete(e),a.delete(t),d},VL=fR(UO,"DataView"),BL=fR(UO,"Promise"),zL=fR(UO,"WeakMap"),qL="[object Map]",WL="[object Promise]",HL="[object Set]",KL="[object WeakMap]",GL="[object DataView]",QL=nR(VL),YL=nR(RR),JL=nR(BL),XL=nR(ZR),$L=nR(zL),ZL=YO;(VL&&ZL(new VL(new ArrayBuffer(1)))!=GL||RR&&ZL(new RR)!=qL||BL&&ZL(BL.resolve())!=WL||ZR&&ZL(new ZR)!=HL||zL&&ZL(new zL)!=KL)&&(ZL=function(e){var t=YO(e),n="[object Object]"==t?e.constructor:void 0,r=n?nR(n):"";if(r)switch(r){case QL:return GL;case YL:return qL;case JL:return WL;case XL:return HL;case $L:return KL}return t});var eM=ZL,tM="[object Arguments]",nM="[object Array]",rM="[object Object]",iM=Object.prototype.hasOwnProperty;var aM=function(e,t,n,r,i,a){var o=oP(e),s=oP(t),u=o?nM:eM(e),c=s?nM:eM(t),l=(u=u==tM?rM:u)==rM,f=(c=c==tM?rM:c)==rM,h=u==c;if(h&&GD(e)){if(!GD(t))return!1;o=!0,l=!1}if(h&&!l)return a||(a=new _L),o||nL(e)?TL(e,t,n,r,i,a):NL(e,t,u,n,r,i,a);if(!(1&n)){var d=l&&iM.call(e,"__wrapped__"),p=f&&iM.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return a||(a=new _L),i(v,m,n,r,a)}}return!!h&&(a||(a=new _L),UL(e,t,n,r,i,a))};var oM=function e(t,n,r,i,a){return t===n||(null==t||null==n||!cP(t)&&!cP(n)?t!==t&&n!==n:aM(t,n,r,i,e,a))};var sM=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],c=e[u],l=s[1];if(o&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new _L;if(r)var h=r(c,l,u,e,t,f);if(!(void 0===h?oM(l,c,3,r,f):h))return!1}}return!0};var uM=function(e){return e===e&&!JO(e)};var cM=function(e){for(var t=lL(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,uM(i)]}return t};var lM=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var fM=function(e){var t=cM(e);return 1==t.length&&t[0][2]?lM(t[0][0],t[0][1]):function(n){return n===e||sM(n,e,t)}};var hM=function(e,t,n){var r=null==e?void 0:GP(e,t);return void 0===r?n:r};var dM=function(e,t){return DP(e)&&uM(t)?lM(KP(e),t):function(n){var r=hM(n,e);return void 0===r&&r===t?fD(n,e):oM(t,r,3)}};var pM=function(e){return function(t){return null==t?void 0:t[e]}};var vM=function(e){return function(t){return GP(t,e)}};var mM=function(e){return DP(e)?pM(KP(e)):vM(e)};var gM=function(e){return"function"==typeof e?e:null==e?xD:"object"==typeof e?oP(e)?dM(e[0],e[1]):fM(e):mM(e)};var yM=function(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n};var kM=function(e,t,n){var r=oP(e)?pL:yM,i=arguments.length<3;return r(e,gM(t,4),n,i,mL)},bM=Object.prototype.hasOwnProperty;var wM=function(e){if(null==e)return!0;if(CD(e)&&(oP(e)||"string"==typeof e||"function"==typeof e.splice||GD(e)||nL(e)||uD(e)))return!e.length;var t=eM(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(oL(e))return!cL(e).length;for(var n in e)if(bM.call(e,n))return!1;return!0};var xM=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var _M=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var EM=function(e,t){return t.length<2?e:GP(e,_M(t,0,-1))};var TM=function(e,t){return ID(bD(e,t,xD),e+"")},IM=TM((function(e,t,n){t=HP(t,e);var r=null==(e=EM(e,t))?e:e[KP(xM(t))];return null==r?void 0:yD(r,e,n)})),SM=n(7441),CM=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)},AM=function(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")};var NM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}dr(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=a.findDOMNode(this);this.prevNode=e,CM(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=a.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,CM(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&CM(this.props.innerRef,t)},n.componentWillUnmount=function(){CM(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(r.Component),OM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;CM(r.ref,e),CM(i,e),t.currentNode=e},t}dr(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&CM(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return r.cloneElement(e,{ref:this.handleRefOverride})},t}(r.Component),RM=["children","innerRef"],PM=function(e){var t=e.children,n=e.innerRef,i=hr(e,RM),a=r.Children.only(t),o=SM.isForwardRef(a)?OM:NM,s=a&&i&&Object.keys(i).length>0?r.cloneElement(a,i):a;return r.createElement(o,{innerRef:n},s)},DM=n(9613),LM=n.n(DM),MM="object"===typeof document&&null!==document,jM="object"===typeof window&&null!==window&&window.self===window,FM=function e(){return kP(e.override)?MM&&jM:e.override},UM=Math.max,VM=Math.min;var BM=function(e,t,n){return e>=VM(t,n)&&e<UM(t,n)};var zM=function(e,t,n){return t=UD(t),void 0===n?(n=t,t=0):n=UD(n),e=jD(e),BM(e,t,n)};var qM=function(e){return e&&e.length?e[0]:void 0};var WM=function(e,t){var n;return mL(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};var HM=function(e,t,n){if(!JO(n))return!1;var r=typeof t;return!!("number"==r?CD(n)&&ZP(t,n.length):"string"==r&&t in n)&&_R(n[t],e)};var KM=function(e,t,n){var r=oP(e)?EL:WM;return n&&HM(e,t,n)&&(t=void 0),r(e,gM(t,3))},GM=function(e,t){if(KM([t,e],kP))return!1;if(t.target&&(IM(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return IM(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(KM([n,r],kP))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var a=qM(i),o=a.top,s=a.bottom,u=a.left,c=a.right;return!KM([o,s,u,c],kP)&&(zM(r,o,s+.001)&&zM(n,u,c+.001))},QM=n(6775),YM=n.n(QM),JM=QM.instance,XM=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};var $M=function(e){return void 0===e},ZM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(t=e.call.apply(e,[this].concat(r))||this).constructor,o=a.autoControlledProps,s=a.getAutoControlledStateFromProps,u=IM(x(t),"getInitialAutoControlledState",t.props)||{},c=o.reduce((function(e,n){return e[n]=function(e,t,n,r){void 0===r&&(r=!1);var i,a=t[e];if(void 0!==a)return a;if(r){var o=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==o)return o;if(n){var s=n[e];if(void 0!==s)return s}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}(n,t.props,u,!0),e}),{});return t.state=fr({},u,c,{autoControlledProps:o,getAutoControlledStateFromProps:s}),t}return dr(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!$M(e[n])&&(t[n]=e[n]),t}),{});if(r){var a=r(e,fr({},t,i),t);return fr({},i,a)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(r.Component);function ej(e){var t=e.children,n=e.className,i=e.content,a=e.size,o=TO(a,"icons",n),s=LO(ej,e),u=MO(ej,e);return r.createElement(u,fr({},s,{className:o}),XM(t)?i:t)}ej.handledProps=["as","children","className","content","size"],ej.propTypes={},ej.defaultProps={as:"i"};var tj=ej,nj=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():IM(t.props,"onClick",e,t.props)},t}dr(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return kP(n)?e["aria-hidden"]="true":e["aria-label"]=n,kP(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,i=e.circular,a=e.className,o=e.color,s=e.corner,u=e.disabled,c=e.fitted,l=e.flipped,f=e.inverted,h=e.link,d=e.loading,p=e.name,v=e.rotated,m=e.size,g=TO(o,p,m,CO(n,"bordered"),CO(i,"circular"),CO(u,"disabled"),CO(c,"fitted"),CO(f,"inverted"),CO(h,"link"),CO(d,"loading"),NO(s,"corner"),AO(l,"flipped"),AO(v,"rotated"),"icon",a),y=LO(t,this.props),k=MO(t,this.props),b=this.getIconAriaOptions();return r.createElement(k,fr({},y,b,{className:g,onClick:this.handleClick}))},t}(r.PureComponent);nj.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],nj.propTypes={},nj.defaultProps={as:"i"},nj.Group=tj,nj.create=wP(nj,(function(e){return{name:e}}));var rj=nj,ij=n(7854),aj=n.n(ij),oj=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){CM(t.props.innerRef,e)},t}dr(t,e);var n=t.prototype;return n.componentDidMount=function(){IM(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){IM(this.props,"onUnmount",null,this.props)},n.render=function(){if(!FM())return null;var e=this.props,t=e.children,n=e.mountNode,i=void 0===n?document.body:n;return(0,a.createPortal)(r.createElement(PM,{innerRef:this.handleRef},t),i)},t}(r.Component);oj.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],oj.propTypes={};var sj=oj,uj=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).contentRef=r.createRef(),t.triggerRef=r.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||GM(t.triggerRef.current,e)||r&&GM(t.contentRef.current,r)||GM(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&aj().getCode(e)===aj().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];IM.apply(void 0,[r,"props.onBlur",e].concat(o));var u=e.relatedTarget||document.activeElement,c=IM(t.contentRef.current,"contains",u);i&&!c&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,a=n.openOnTriggerClick,o=t.state.open,s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];IM.apply(void 0,[r,"props.onClick",e].concat(u)),o&&i?t.close(e):!o&&a&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];IM.apply(void 0,[r,"props.onFocus",e].concat(o)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,a=n.mouseLeaveDelay,o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];IM.apply(void 0,[r,"props.onMouseLeave",e].concat(s)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,a))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,a=n.openOnTriggerMouseEnter,o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];IM.apply(void 0,[r,"props.onMouseEnter",e].concat(s)),a&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){IM(t.props,"onOpen",e,fr({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=fr({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),IM(t.props,"onClose",e,fr({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=fr({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){IM(t.props,"onMount",null,t.props)},t.handleUnmount=function(){IM(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,CM(t.props.triggerRef,e)},t}dr(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,i=e.mountNode,a=e.trigger,o=this.state.open;return r.createElement(r.Fragment,null,o&&r.createElement(r.Fragment,null,r.createElement(sj,{innerRef:this.contentRef,mountNode:i,onMount:this.handleMount,onUnmount:this.handleUnmount},t),r.createElement(YM(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),r.createElement(YM(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),r.createElement(YM(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),r.createElement(YM(),{name:"click",on:this.handleDocumentClick,pool:n}),r.createElement(YM(),{name:"keydown",on:this.handleEscape,pool:n})),a&&r.createElement(PM,{innerRef:this.handleTriggerRef},r.cloneElement(a,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(ZM);uj.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],uj.propTypes={},uj.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},uj.autoControlledProps=["open"],uj.Inner=sj;var cj=uj;var lj=function(e,t){var n=-1,r=CD(e)?Array(e.length):[];return mL(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var fj=function(e,t){return(oP(e)?VP:lj)(e,gM(t,3))};var hj=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var dj=function(e){return"function"==typeof e?e:xD};var pj=function(e,t){return(oP(e)?hj:mL)(e,dj(t))},vj=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],mj=[].concat(vj,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),gj=["alt","height","src","srcSet","width","loading"],yj=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?mj:r,a=n.includeAria,o=void 0===a||a,s={},u={};return pj(e,(function(e,t){var n=o&&(/^aria-.*$/.test(t)||"role"===t);(dL(i,t)||n?s:u)[t]=e})),[s,u]};function kj(e){var t=e.blurring,n=e.className,i=e.children,a=e.content,o=e.dimmed,s=TO(CO(t,"blurring"),CO(o,"dimmed"),"dimmable",n),u=LO(kj,e),c=MO(kj,e);return r.createElement(c,fr({},u,{className:s}),XM(i)?a:i)}kj.handledProps=["as","blurring","children","className","content","dimmed"],kj.propTypes={};var bj=kj,wj=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).containerRef=(0,r.createRef)(),t.contentRef=(0,r.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;IM(t.props,"onClick",e,t.props),n&&n!==e.target&&GM(n,e)||IM(t.props,"onClickOutside",e,t.props)},t}dr(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,i=e.children,a=e.className,o=e.content,s=e.disabled,u=e.inverted,c=e.page,l=e.simple,f=e.verticalAlign,h=TO("ui",CO(n,"active transition visible"),CO(s,"disabled"),CO(u,"inverted"),CO(c,"page"),CO(l,"simple"),PO(f),"dimmer",a),d=LO(t,this.props),p=MO(t,this.props),v=XM(i)?o:i;return r.createElement(PM,{innerRef:this.containerRef},r.createElement(p,fr({},d,{className:h,onClick:this.handleClick}),v&&r.createElement("div",{className:"content",ref:this.contentRef},v)))},t}(r.Component);wj.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],wj.propTypes={};var xj=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){FM()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){FM()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return dr(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.page,a=LO(t,this.props);return i?r.createElement(cj,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},r.createElement(wj,fr({},a,{active:n,page:i}))):r.createElement(wj,fr({},a,{active:n,page:i}))},t}(r.Component);function _j(e){var t=e.children,n=e.className,i=e.content,a=e.size,o=TO("ui",a,n,"images"),s=LO(_j,e),u=MO(_j,e);return r.createElement(u,fr({},s,{className:o}),XM(t)?i:t)}xj.handledProps=["active","page"],xj.propTypes={},xj.Dimmable=bj,xj.Inner=wj,xj.create=wP(xj,(function(e){return{content:e}})),_j.handledProps=["as","children","className","content","size"],_j.propTypes={};var Ej=_j;function Tj(e){var t=e.avatar,n=e.bordered,i=e.centered,a=e.children,o=e.circular,s=e.className,u=e.content,c=e.dimmer,l=e.disabled,f=e.floated,h=e.fluid,d=e.hidden,p=e.href,v=e.inline,m=e.label,g=e.rounded,y=e.size,k=e.spaced,b=e.verticalAlign,w=e.wrapped,x=e.ui,_=TO(CO(x,"ui"),y,CO(t,"avatar"),CO(n,"bordered"),CO(o,"circular"),CO(i,"centered"),CO(l,"disabled"),CO(h,"fluid"),CO(d,"hidden"),CO(v,"inline"),CO(g,"rounded"),NO(k,"spaced"),AO(f,"floated"),PO(b),"image",s),E=LO(Tj,e),T=yj(E,{htmlProps:gj}),I=T[0],S=T[1],C=MO(Tj,e,(function(){if(!kP(c)||!kP(m)||!kP(w)||!XM(a))return"div"}));return XM(a)?XM(u)?"img"===C?r.createElement(C,fr({},S,I,{className:_})):r.createElement(C,fr({},S,{className:_,href:p}),xj.create(c,{autoGenerateKey:!1}),Oj.create(m,{autoGenerateKey:!1}),r.createElement("img",I)):r.createElement(C,fr({},E,{className:_}),u):r.createElement(C,fr({},E,{className:_}),a)}Tj.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],Tj.Group=Ej,Tj.propTypes={},Tj.defaultProps={as:"img",ui:!0},Tj.create=wP(Tj,(function(e){return{src:e}}));var Ij=Tj;function Sj(e){var t=e.children,n=e.className,i=e.content,a=TO("detail",n),o=LO(Sj,e),s=MO(Sj,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?i:t)}Sj.handledProps=["as","children","className","content"],Sj.propTypes={},Sj.create=wP(Sj,(function(e){return{content:e}}));var Cj=Sj;function Aj(e){var t=e.children,n=e.circular,i=e.className,a=e.color,o=e.content,s=e.size,u=e.tag,c=TO("ui",a,s,CO(n,"circular"),CO(u,"tag"),"labels",i),l=LO(Aj,e),f=MO(Aj,e);return r.createElement(f,fr({},l,{className:c}),XM(t)?o:t)}Aj.handledProps=["as","children","circular","className","color","content","size","tag"],Aj.propTypes={};var Nj=Aj,Oj=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){IM(e,"onClick",n),IM(t.props,"onRemove",n,t.props)}}},t}return dr(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.attached,a=e.basic,o=e.children,s=e.circular,u=e.className,c=e.color,l=e.content,f=e.corner,h=e.detail,d=e.empty,p=e.floating,v=e.horizontal,m=e.icon,g=e.image,y=e.onRemove,k=e.pointing,b=e.prompt,w=e.removeIcon,x=e.ribbon,_=e.size,E=e.tag,T=TO("ui",c,(!0===k?"pointing":("left"===k||"right"===k)&&k+" pointing")||("above"===k||"below"===k)&&"pointing "+k,_,CO(n,"active"),CO(a,"basic"),CO(s,"circular"),CO(d,"empty"),CO(p,"floating"),CO(v,"horizontal"),CO(!0===g,"image"),CO(b,"prompt"),CO(E,"tag"),NO(f,"corner"),NO(x,"ribbon"),AO(i,"attached"),"label",u),I=LO(t,this.props),S=MO(t,this.props);if(!XM(o))return r.createElement(S,fr({},I,{className:T,onClick:this.handleClick}),o);var C=$M(w)?"delete":w;return r.createElement(S,fr({className:T,onClick:this.handleClick},I),rj.create(m,{autoGenerateKey:!1}),"boolean"!==typeof g&&Ij.create(g,{autoGenerateKey:!1}),l,Cj.create(h,{autoGenerateKey:!1}),y&&rj.create(C,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(r.Component);function Rj(e){var t=e.children,n=e.className,i=e.content,a=e.hidden,o=e.visible,s=TO(CO(o,"visible"),CO(a,"hidden"),"content",n),u=LO(Rj,e),c=MO(Rj,e);return r.createElement(c,fr({},u,{className:s}),XM(t)?i:t)}Oj.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],Oj.propTypes={},Oj.Detail=Cj,Oj.Group=Nj,Oj.create=wP(Oj,(function(e){return{content:e}})),Rj.handledProps=["as","children","className","content","hidden","visible"],Rj.propTypes={};var Pj=Rj;function Dj(e){var t=e.attached,n=e.basic,i=e.buttons,a=e.children,o=e.className,s=e.color,u=e.compact,c=e.content,l=e.floated,f=e.fluid,h=e.icon,d=e.inverted,p=e.labeled,v=e.negative,m=e.positive,g=e.primary,y=e.secondary,k=e.size,b=e.toggle,w=e.vertical,x=e.widths,_=TO("ui",s,k,CO(n,"basic"),CO(u,"compact"),CO(f,"fluid"),CO(h,"icon"),CO(d,"inverted"),CO(p,"labeled"),CO(v,"negative"),CO(m,"positive"),CO(g,"primary"),CO(y,"secondary"),CO(b,"toggle"),CO(w,"vertical"),NO(t,"attached"),AO(l,"floated"),DO(x),"buttons",o),E=LO(Dj,e),T=MO(Dj,e);return kP(i)?r.createElement(T,fr({},E,{className:_}),XM(a)?c:a):r.createElement(T,fr({},E,{className:_}),fj(i,(function(e){return Uj.create(e)})))}Dj.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],Dj.propTypes={};var Lj=Dj;function Mj(e){var t=e.className,n=e.text,i=TO("or",t),a=LO(Mj,e),o=MO(Mj,e);return r.createElement(o,fr({},a,{className:i,"data-text":n}))}Mj.handledProps=["as","className","text"],Mj.propTypes={};var jj=Mj,Fj=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).ref=(0,r.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!kP(n)||!kP(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return kP(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(e){return IM(t.ref.current,"focus",e)},t.handleClick=function(e){t.props.disabled?e.preventDefault():IM(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,a=e.icon;return!0===a||a&&(n||XM(r)&&kP(i))},t}dr(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return kP(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,i=e.animated,a=e.attached,o=e.basic,s=e.children,u=e.circular,c=e.className,l=e.color,f=e.compact,h=e.content,d=e.disabled,p=e.floated,v=e.fluid,m=e.icon,g=e.inverted,y=e.label,k=e.labelPosition,b=e.loading,w=e.negative,x=e.positive,_=e.primary,E=e.secondary,T=e.size,I=e.toggle,S=e.type,C=TO(l,T,CO(n,"active"),CO(o,"basic"),CO(u,"circular"),CO(f,"compact"),CO(v,"fluid"),CO(this.hasIconClass(),"icon"),CO(g,"inverted"),CO(b,"loading"),CO(w,"negative"),CO(x,"positive"),CO(_,"primary"),CO(E,"secondary"),CO(I,"toggle"),NO(i,"animated"),NO(a,"attached")),A=TO(NO(k||!!y,"labeled")),N=TO(CO(d,"disabled"),AO(p,"floated")),O=LO(t,this.props),R=MO(t,this.props,this.computeElementType),P=this.computeTabIndex(R);if(!kP(y)){var D=TO("ui",C,"button",c),L=TO("ui",A,"button",c,N),M=Oj.create(y,{defaultProps:{basic:!0,pointing:"left"===k?"right":"left"},autoGenerateKey:!1});return r.createElement(R,fr({},O,{className:L,onClick:this.handleClick}),"left"===k&&M,r.createElement(PM,{innerRef:this.ref},r.createElement("button",{className:D,"aria-pressed":I?!!n:void 0,disabled:d,type:S,tabIndex:P},rj.create(m,{autoGenerateKey:!1})," ",h)),("right"===k||!k)&&M)}var j=TO("ui",C,N,A,"button",c),F=!XM(s),U=this.computeButtonAriaRole(R);return r.createElement(PM,{innerRef:this.ref},r.createElement(R,fr({},O,{className:j,"aria-pressed":I?!!n:void 0,disabled:d&&"button"===R||void 0,onClick:this.handleClick,role:U,type:S,tabIndex:P}),F&&s,!F&&rj.create(m,{autoGenerateKey:!1}),!F&&h))},t}(r.Component);Fj.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],Fj.propTypes={},Fj.defaultProps={as:"button"},Fj.Content=Pj,Fj.Group=Lj,Fj.Or=jj,Fj.create=wP(Fj,(function(e){return{content:e}}));var Uj=Fj,Vj=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonOverrides=function(e){return{onClick:function(n,r){IM(e,"onClick",n,r),IM(t.props,"onActionClick",n,r)}}},t}return dr(t,e),t.prototype.render=function(){var e=this,n=this.props,i=n.actions,a=n.children,o=n.className,s=n.content,u=TO("actions",o),c=LO(t,this.props),l=MO(t,this.props);return XM(a)?XM(s)?r.createElement(l,fr({},c,{className:u}),fj(i,(function(t){return Uj.create(t,{overrideProps:e.handleButtonOverrides})}))):r.createElement(l,fr({},c,{className:u}),s):r.createElement(l,fr({},c,{className:u}),a)},t}(r.Component);function Bj(e){var t=e.children,n=e.className,i=e.content,a=e.image,o=e.scrolling,s=TO(n,CO(a,"image"),CO(o,"scrolling"),"content"),u=LO(Bj,e),c=MO(Bj,e);return r.createElement(c,fr({},u,{className:s}),XM(t)?i:t)}Vj.handledProps=["actions","as","children","className","content","onActionClick"],Vj.propTypes={},Vj.create=wP(Vj,(function(e){return{actions:e}})),Bj.handledProps=["as","children","className","content","image","scrolling"],Bj.propTypes={},Bj.create=wP(Bj,(function(e){return{content:e}}));var zj=Bj;function qj(e){var t=e.children,n=e.className,i=e.content,a=TO("description",n),o=LO(qj,e),s=MO(qj,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?i:t)}qj.handledProps=["as","children","className","content"],qj.propTypes={};var Wj=qj,Hj=FM()?r.useLayoutEffect:r.useEffect,Kj=/\s+/;var Gj=new Map,Qj=function(e,t){var n=function(e){var t=[];return e?(e.forEach((function(e){"string"===typeof e.current&&e.current.split(Kj).forEach((function(e){t.push(e)}))})),t.filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))):[]}(t),r=function(e,t){return[t.filter((function(t){return-1===e.indexOf(t)})),e.filter((function(e){return-1===t.indexOf(e)}))]}(Gj.get(e)||[],n),i=r[0],a=r[1];e&&(i.forEach((function(t){return e.classList.add(t)})),a.forEach((function(t){return e.classList.remove(t)}))),Gj.set(e,n)},Yj=new function(){var e=this;this.add=function(t,n){if(e.nodes.has(t)){e.nodes.get(t).add(n)}else{var r=new Set;r.add(n),e.nodes.set(t,r)}},this.del=function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);1!==r.size?r.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map};function Jj(e){var t=e.blurring,n=e.children,i=e.className,a=e.centered,o=e.content,s=e.inverted,u=e.mountNode,c=e.scrolling,l=r.useRef(),f=TO("ui",CO(s,"inverted"),CO(!a,"top aligned"),"page modals dimmer transition visible active",i),h=TO("dimmable dimmed",CO(t,"blurring"),CO(c,"scrolling")),d=LO(Jj,e),p=MO(Jj,e);return function(e,t){var n=r.useRef(),i=r.useRef(!1);Hj((function(){if(n.current=t,i.current){var r=AM(e)?e.current:e;Yj.emit(r,Qj)}i.current=!0}),[t]),Hj((function(){var t=AM(e)?e.current:e;return Yj.add(t,n),Yj.emit(t,Qj),function(){Yj.del(t,n),Yj.emit(t,Qj)}}),[e])}(u,h),r.useEffect((function(){l.current&&l.current.style&&l.current.style.setProperty("display","flex","important")}),[]),r.createElement(PM,{innerRef:l},r.createElement(p,fr({},d,{className:f}),XM(n)?o:n))}Jj.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"],Jj.propTypes={},Jj.create=wP(Jj,(function(e){return{content:e}}));var Xj=Jj;function $j(e){var t=e.children,n=e.className,i=e.content,a=TO("header",n),o=LO($j,e),s=MO($j,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?i:t)}$j.handledProps=["as","children","className","content"],$j.propTypes={},$j.create=wP($j,(function(e){return{content:e}}));var Zj=$j,eF=function(e){function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).legacy=FM()&&!window.ActiveXObject&&"ActiveXObject"in window,n.ref=(0,r.createRef)(),n.dimmerRef=(0,r.createRef)(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return FM()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(e){return{onActionClick:function(t,r){IM(e,"onActionClick",t,r),IM(n.props,"onActionClick",t,n.props),n.handleClose(t)}}},n.handleClose=function(e){n.setState({open:!1}),IM(n.props,"onClose",e,fr({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDimmerClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!t||GM(n.ref.current,r)||GM(n.ref.current,e)||(n.setState({open:!1}),IM(n.props,"onClose",e,fr({},n.props,{open:!1})))},n.handleIconOverrides=function(e){return{onClick:function(t){IM(e,"onClick",t),n.handleClose(t)}}},n.handleOpen=function(e){IM(n.props,"onOpen",e,fr({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),JM.sub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),JM.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),IM(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),JM.unsub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),JM.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),IM(n.props,"onUnmount",e,n.props)},n.setPositionAndClassNames=function(){var e,t=n.props.centered,r={};if(n.ref.current){var i=n.ref.current.getBoundingClientRect(),a=function(e){var t=e.height+0,n=e.height+0,r=window.innerHeight;return r/2+-n/2+t+50<r}(i);e=!a;var o=n.legacy?function(e,t,n){var r=t&&e?-n.height/2:0;return{marginLeft:-n.width/2,marginTop:r}}(a,t,i):{};LM()(n.state.legacyStyles,o)||(r.legacyStyles=o),n.state.scrolling!==e&&(r.scrolling=e)}wM(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(e){var i=n.props,a=i.actions,o=i.basic,s=i.children,u=i.className,c=i.closeIcon,l=i.content,f=i.header,h=i.size,d=i.style,p=n.state,v=p.legacyStyles,m=p.scrolling,g=TO("ui",h,CO(o,"basic"),CO(n.legacy,"legacy"),CO(m,"scrolling"),"modal transition visible active",u),y=MO(t,n.props),k=!0===c?"close":c,b=rj.create(k,{overrideProps:n.handleIconOverrides});return r.createElement(PM,{innerRef:n.ref},r.createElement(y,fr({},e,{className:g,style:fr({},v,d)}),b,XM(s)?r.createElement(r.Fragment,null,Zj.create(f,{autoGenerateKey:!1}),zj.create(l,{autoGenerateKey:!1}),Vj.create(a,{overrideProps:n.handleActionsOverrides})):s))},n}dr(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.handlePortalUnmount()},n.render=function(){var e=this.props,n=e.centered,i=e.closeOnDocumentClick,a=e.dimmer,o=e.eventPool,s=e.trigger,u=this.state,c=u.open,l=u.scrolling,f=this.getMountNode();if(!FM())return(0,r.isValidElement)(s)?s:null;var h=LO(t,this.props),d=cj.handledProps,p=kM(h,(function(e,t,n){return dL(d,n)||(e[n]=t),e}),{}),v=SD(h,d);return r.createElement(cj,fr({closeOnDocumentClick:i},v,{trigger:s,eventPool:o,mountNode:f,open:c,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),r.createElement(PM,{innerRef:this.dimmerRef},Xj.create(vP(a)?a:{},{autoGenerateKey:!1,defaultProps:{blurring:"blurring"===a,inverted:"inverted"===a},overrideProps:{children:this.renderContent(p),centered:n,mountNode:f,scrolling:l}})))},t}(ZM);eF.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],eF.propTypes={},eF.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},eF.autoControlledProps=["open"],eF.Actions=Vj,eF.Content=zj,eF.Description=Wj,eF.Dimmer=Xj,eF.Header=Zj;var tF=eF,nF=function(e){var t=e.players;return(0,mN.jsxs)("div",{children:[(0,mN.jsx)("a",{style:{fontSize:28,fontWeight:"bold"},children:"\u6b63\u5728\u7b49\u5f85\u5b78\u751f\u52a0\u5165"}),(0,mN.jsx)(BN,{color:"dark",type:"grow",children:"Loading..."}),(0,mN.jsxs)("h1",{children:["\u5df2\u6709\xa0",(0,mN.jsx)("a",{className:"display-3",children:t.length}),"\xa0\u4f4d\u5b78\u751f\u52a0\u5165"]}),(0,mN.jsx)(vO,{children:t.map((function(e){return(0,mN.jsx)(bO,{children:e.name},e.id)}))})]})},rF=function(e){var t=e.imageSize,n=l((0,r.useState)(null),2),i=n[0],a=n[1],o=(0,r.useRef)(null),s=(0,r.useRef)(null),u=window.location.href.replace("lobby","join");return(0,r.useEffect)((function(){var e=function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wO.toDataURL(t);case 3:n=e.sent,a(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("QR code generation error:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();e(u)}),[]),(0,r.useEffect)((function(){if(i){var e=o.current,t=e.getContext("2d"),n=new Image;n.src=i,n.onload=function(){t.clearRect(0,0,e.width,e.height),t.drawImage(n,0,0)}}}),[i]),(0,mN.jsxs)("div",{className:"qr-code-container",children:[(0,mN.jsx)("canvas",{ref:o,width:t,height:t,style:{display:"none"}}),(0,mN.jsx)("img",{ref:s,src:i,alt:"QR Code",className:"qr-code-image",style:{width:t,height:t}})]})},iF=function(e){var t=xe().gameId,n=l((0,r.useState)([]),2),i=n[0],a=n[1],o=l((0,r.useState)(null),2),s=o[0],u=o[1],c=window.location.origin,f="".concat(c.replace("https://",""),"/Avatar-classroom/#/join-s/"),h="".concat(c,"/Avatar-classroom/#/join-s/"),d=l((0,r.useState)(!1),2),p=d[0],v=d[1];return(0,r.useEffect)((function(){t&&(xO(t,a),wN(t).then(u))}),[t]),(0,mN.jsxs)(NP,{children:[(0,mN.jsxs)(NP.Row,{centered:!0,columns:2,children:[(0,mN.jsxs)(NP.Column,{className:"mr-2",width:7,children:[(0,mN.jsx)(NP.Row,{children:(0,mN.jsx)(gN,{verticalCentered:!0,maxWidth:800,children:(0,mN.jsxs)("h2",{children:["\u52a0\u5165\u904a\u6232\u8acb\u524d\u5f80",(0,mN.jsx)("br",{}),(0,mN.jsx)("a",{href:h,rel:"noopener noreferrer",target:"_blank",children:f}),(0,mN.jsx)("br",{}),"\u4e26\u8f38\u5165\u623f\u9593\u4ee3\u78bc"]})})}),(0,mN.jsx)(NP.Row,{verticalAlign:"middle",children:(0,mN.jsxs)(gN,{verticalCentered:!0,maxWidth:800,children:[(0,mN.jsx)("br",{}),(0,mN.jsx)("h1",{className:_O,style:{fontSize:60},children:(0,mN.jsx)("strong",{children:s?s.shortCode:"___"})})]})})]}),(0,mN.jsxs)(NP.Column,{width:3,children:[(0,mN.jsxs)("h2",{children:["\u6216\u6383\u63cf QR code\xa0",(0,mN.jsx)(Yr,{outline:!0,color:"dark",onClick:function(){return v(!0)},children:"\u653e\u5927"})]}),(0,mN.jsxs)(tF,{basic:!0,open:p,onClose:function(){return v(!1)},children:[(0,mN.jsx)(Yr,{close:!0,color:"primary",onClick:function(){return v(!1)}}),(0,mN.jsx)(gN,{children:(0,mN.jsx)(rF,{imageSize:"700px"})})]}),(0,mN.jsx)(rF,{})]})]}),(0,mN.jsx)(NP.Row,{children:(0,mN.jsx)(gN,{verticalCentered:!0,maxWidth:800,children:(0,mN.jsx)(Ye,{to:"/host/".concat(t,"/questions/pending"),children:(0,mN.jsx)(Yr,{size:"lg",color:"primary",children:"\u958b\u59cb"})})})}),(0,mN.jsx)(NP.Row,{children:(0,mN.jsx)(gN,{verticalCentered:!0,maxWidth:800,children:(0,mN.jsx)(nF,{players:i})})})]})},aF=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"create",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.email,r=t.password;return this.auth.createUserWithEmailAndPassword(n,r).then((function(t){var n=t.user;return e._convertUser(n)})).catch((function(e){var t=e.code,n=e.message;"auth/weak-password"===t?alert("The password is too weak."):alert(n)}))}},{key:"login",value:function(e){var t=this,n=e.email,r=e.password;return this.auth.signInWithEmailAndPassword(n,r).then((function(e){var n=e.user;return t._convertUser(n)})).catch((function(e){var t=e.code,n=e.message;"auth/weak-password"===t?alert("The password is too weak."):alert(n)}))}},{key:"onCurrentUserChange",value:function(e){var t=this;this.auth.onAuthStateChanged((function(n){n&&e(t._convertUser(n))}))}},{key:"_convertUser",value:function(e){return{id:e.uid,email:e.email,name:e.displayName}}}]),n}(sN),oF=aF,sF=function(e){var t=e.email,n=e.password;return(new oF).create({email:t,password:n})},uF=function(e){var t=e.email,n=e.password;return(new oF).login({email:t,password:n})},cF=function(e,t){var n=t.email,r=t.password,i=t.authFn,a=t.successCallback;e.preventDefault(),i({email:n,password:r}).then((function(e){return a(e)}))},lF=function(e){var t=e.onUserChange,n=l((0,r.useState)(""),2),i=n[0],a=n[1],o=l((0,r.useState)(""),2),s=o[0],u=o[1];return(0,mN.jsxs)(Ar,{className:"mb-5",onSubmit:function(e){return cF(e,{email:i,password:s,authFn:sF,successCallback:t})},children:[(0,mN.jsxs)(Pr,{children:[(0,mN.jsx)(Br,{for:"email",children:"Email:"}),(0,mN.jsx)(Hr,{id:"email",name:"email",value:i,onChange:function(e){return a(e.target.value)}})]}),(0,mN.jsxs)(Pr,{children:[(0,mN.jsx)(Br,{children:"Password:"}),(0,mN.jsx)(Hr,{type:"password",name:"password",value:s,onChange:function(e){return u(e.target.value)}})]}),(0,mN.jsx)(Yr,{color:"primary",children:"Sign Up"})]})},fF=function(e){var t=e.onUserChange,n=l((0,r.useState)(""),2),i=n[0],a=n[1],o=l((0,r.useState)(""),2),s=o[0],u=o[1];return(0,mN.jsxs)(Ar,{className:"mb-5",onSubmit:function(e){return cF(e,{email:i,password:s,authFn:uF,successCallback:t})},children:[(0,mN.jsxs)(Pr,{children:[(0,mN.jsx)(Br,{for:"email",children:"Email:"}),(0,mN.jsx)(Hr,{id:"email",name:"email",value:i,onChange:function(e){return a(e.target.value)}})]}),(0,mN.jsxs)(Pr,{children:[(0,mN.jsx)(Br,{children:"Password:"}),(0,mN.jsx)(Hr,{type:"password",name:"password",value:s,onChange:function(e){return u(e.target.value)}})]}),(0,mN.jsx)(Yr,{color:"primary",children:"Login"})]})},hF=function(e){var t=l((0,r.useState)(!1),2),n=t[0],i=t[1],a=l((0,r.useState)(null),2),o=a[0],s=a[1],u=function(e){e.preventDefault(),i(!n)};return o?(0,mN.jsx)(Le,{to:"/games"}):n?(0,mN.jsxs)(gN,{maxWidth:500,verticalCentered:!0,children:[(0,mN.jsx)("h1",{children:"Login to Cahoots!"}),(0,mN.jsx)(fF,{onUserChange:s}),(0,mN.jsxs)("div",{children:["No account? ",(0,mN.jsx)("br",{}),(0,mN.jsx)(Yr,{color:"link",onClick:u,children:"Sign Up!"})]})]}):(0,mN.jsxs)(gN,{maxWidth:500,verticalCentered:!0,children:[(0,mN.jsx)("h1",{children:"Signup for Cahoots!"}),(0,mN.jsx)(lF,{onUserChange:s}),(0,mN.jsxs)("div",{children:["Have an account? ",(0,mN.jsx)("br",{}),(0,mN.jsx)(Yr,{color:"link",onClick:u,children:"Login"})]})]})},dF=function(){var e=new oF;return new Promise((function(t){return e.onCurrentUserChange(t)}))},pF=function(){var e=new bN;return dF().then((function(t){return t?e.list({ownerId:t.id}):null}))},vF=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1],i=l((0,r.useState)(null),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){pF().then(n)}),[]),a?(0,mN.jsx)(Le,{to:a}):(0,mN.jsxs)(pN,{style:{maxWidth:"500px"},children:[(0,mN.jsx)("h1",{children:"\u6211\u7684\u8ab2\u7a0b"}),(0,mN.jsxs)(vO,{children:[t.map((function(e){return(0,mN.jsx)(bO,{onClick:function(){return o("/games/".concat(e.id))},tag:"button",action:!0,children:e.name},e.id)})),(0,mN.jsx)(bO,{onClick:function(){return o("/games/create")},tag:"button",color:"info",action:!0,children:"\u5275\u5efa\u65b0\u8ab2\u7a0b"})]})]})},mF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bN,n=String(Math.floor(Math.random()*Math.floor(9999)));return t.create(Object.assign({shortCode:n},e))},gF=function(e){var t=l((0,r.useState)(null),2),n=t[0],i=t[1],a=l((0,r.useState)(""),2),o=a[0],s=a[1],u=l((0,r.useState)(null),2),c=u[0],f=u[1];return(0,r.useEffect)((function(){dF().then(i)}),[]),c?(0,mN.jsx)(Le,{to:"/games"}):(0,mN.jsxs)(pN,{style:{maxWidth:"500px"},children:[(0,mN.jsx)("h1",{children:"\u5275\u5efa\u60a8\u7684\u8ab2\u7a0b"}),(0,mN.jsxs)(Pr,{children:[(0,mN.jsx)(Br,{for:"name",children:"\u8ab2\u7a0b\u540d\u7a31:"}),(0,mN.jsx)(Hr,{id:"name",name:"name",value:o,onChange:function(e){return s(e.target.value)}})]}),(0,mN.jsx)(Yr,{color:"primary",onClick:function(){return e={name:o,ownerId:n.id},t=f,mF(e).then(t);var e,t},children:"\u78ba\u8a8d"})]})},yF=function(e){return(new uO).list(e)},kF=["className","cssModule","color","body","inverse","outline","tag","innerRef"],bF={tag:_r,inverse:mr().bool,color:mr().string,body:mr().bool,outline:mr().bool,className:mr().string,cssModule:mr().object,innerRef:mr().oneOfType([mr().object,mr().string,mr().func])},wF=function(e){var t=e.className,n=e.cssModule,i=e.color,a=e.body,o=e.inverse,s=e.outline,u=e.tag,c=e.innerRef,l=hr(e,kF),f=kr(yr()(t,"card",!!o&&"text-white",!!a&&"card-body",!!i&&(s?"border":"bg")+"-"+i),n);return r.createElement(u,fr({},l,{className:f,ref:c}))};wF.propTypes=bF,wF.defaultProps={tag:"div"};var xF=wF,_F=["className","cssModule","tag"],EF={tag:_r,className:mr().string,cssModule:mr().object},TF=function(e){var t=e.className,n=e.cssModule,i=e.tag,a=hr(e,_F),o=kr(yr()(t,"card-title"),n);return r.createElement(i,fr({},a,{className:o}))};TF.propTypes=EF,TF.defaultProps={tag:"div"};var IF=TF,SF=["className","cssModule","tag","size"],CF={tag:_r,size:mr().string,className:mr().string,cssModule:mr().object},AF=function(e){var t=e.className,n=e.cssModule,i=e.tag,a=e.size,o=hr(e,SF),s=kr(yr()(t,"input-group",a?"input-group-"+a:null),n);return r.createElement(i,fr({},o,{className:s}))};AF.propTypes=CF,AF.defaultProps={tag:"div"};var NF=AF,OF=["className","cssModule","tag"],RF={tag:_r,className:mr().string,cssModule:mr().object},PF=function(e){var t=e.className,n=e.cssModule,i=e.tag,a=hr(e,OF),o=kr(yr()(t,"input-group-text"),n);return r.createElement(i,fr({},a,{className:o}))};PF.propTypes=RF,PF.defaultProps={tag:"span"};var DF=PF,LF=["className","cssModule","tag","addonType","children"],MF={tag:_r,addonType:mr().oneOf(["prepend","append"]).isRequired,children:mr().node,className:mr().string,cssModule:mr().object},jF=function(e){var t=e.className,n=e.cssModule,i=e.tag,a=e.addonType,o=e.children,s=hr(e,LF),u=kr(yr()(t,"input-group-"+a),n);return"string"===typeof o?r.createElement(i,fr({},s,{className:u}),r.createElement(DF,{children:o})):r.createElement(i,fr({},s,{className:u,children:o}))};jF.propTypes=MF,jF.defaultProps={tag:"div"};var FF=jF,UF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new uO,n=Object.assign({},e);if("id"in n){var r=oO(n,"id");return t.update(r,n)}return t.create(n)},VF=function(){var e=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr.firestore(),e.prev=1,e.next=4,bw(Gk(r,"games",n,"questions",t));case 4:window.location.reload(),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("Error deleting question: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),BF=VF,zF="default",qF="saving",WF=function(e){var t=e.question,n=e.game,i=l((0,r.useState)(t),2),a=i[0],o=i[1],s=l((0,r.useState)(zF),2),u=s[0],c=s[1],f=function(e){o(Object.assign({},a,e))},h=function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(qF),e.prev=1,e.next=4,BF(a.id,n);case 4:c(zF),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error deleting question",e.t0),c(zF);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return(0,mN.jsx)("div",{children:(0,mN.jsxs)(xF,{body:!0,className:"mt-4 mb-4",children:[(0,mN.jsx)(IF,{children:(0,mN.jsx)(NF,{className:"mb-2",children:(0,mN.jsx)(Hr,{type:"textarea",placeholder:"\u8acb\u8f38\u5165\u5b8c\u6574\u984c\u76ee",value:a.text||"",onChange:function(e){return f({text:e.target.value})}})})}),["answerA","answerB","answerC","answerD"].map((function(e){return(0,mN.jsxs)(NF,{className:"mb-2",children:[(0,mN.jsx)(FF,{addonType:"prepend",children:(0,mN.jsx)(DF,{children:e})}),(0,mN.jsx)(Hr,{placeholder:"\u8acb\u8f38\u5165\u9078\u9805",value:e in a?a[e]:"",onChange:function(t){return f($e({},e,t.target.value))}})]},e)})),(0,mN.jsxs)(Pr,{children:[(0,mN.jsx)(Br,{for:"correctAnswerDropdown",children:"\u6b63\u78ba\u7b54\u6848"}),(0,mN.jsxs)(Hr,{type:"select",name:"correctAnswer",id:"correctAnswerDropdown","data-testid":"correctAnswerDropdown",value:a.correctAnswer||"\u9078\u64c7\u6b63\u78ba\u7b54\u6848",onChange:function(e){return f({correctAnswer:e.target.value})},children:[(0,mN.jsx)("option",{children:"A"}),(0,mN.jsx)("option",{children:"B"}),(0,mN.jsx)("option",{children:"C"}),(0,mN.jsx)("option",{children:"D"}),(0,mN.jsx)("option",{hidden:!0,children:"\u9078\u64c7\u6b63\u78ba\u7b54\u6848"})]})]}),u===qF?(0,mN.jsxs)(Yr,{disabled:!0,color:"primary",className:"mt-4",children:[(0,mN.jsx)(BN,{type:"grow",size:"sm",color:"info",className:"mr-2"}),"\u4fdd\u5b58\u4e2d..."]}):(0,mN.jsx)(Yr,{color:"primary",className:"mt-4",onClick:function(){c(qF),UF(a).then((function(){return c(zF)}))},children:"\u4fdd\u5b58"}),(0,mN.jsx)(Yr,{color:"danger",className:"mt-4",onClick:h,disabled:u===qF,children:u===qF?(0,mN.jsxs)(mN.Fragment,{children:[(0,mN.jsx)(BN,{type:"grow",size:"sm",color:"info",className:"mr-2"}),"\u522a\u9664\u4e2d..."]}):"\u522a\u9664\u984c\u76ee"})]})})},HF=function(e){var t=xe().gameId,n=l((0,r.useState)(null),2),i=n[0],a=n[1],o=l((0,r.useState)([]),2),s=o[0],u=o[1],c=l((0,r.useState)(!1),2),f=c[0],h=c[1],d=we(),p=function(){var e=ft(ct().mark((function e(){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!i){e.next=11;break}return e.prev=1,n=lr.firestore(),e.next=5,bw(Gk(n,"games",t));case 5:d("/games"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("\u522a\u9664\u904a\u6232\u6642\u767c\u751f\u932f\u8aa4",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){t&&null===i&&wN(t).then((function(e){return a(e),e})).then((function(e){return yF({gameId:e.id})})).then(u)}),[t,i]),i?(0,mN.jsxs)(gN,{maxWidth:500,children:[(0,mN.jsx)("h1",{className:"mb-4",children:i.name}),(0,mN.jsxs)(pN,{children:[s.length>0?(0,mN.jsx)(Ye,{to:"/lobby/".concat(t),children:(0,mN.jsx)(Yr,{color:"success",size:"lg",children:"\u958b\u59cb\u8ab2\u7a0b"})}):null,(0,mN.jsx)("br",{}),(0,mN.jsx)("br",{}),(0,mN.jsx)(Yr,{color:"primary",onClick:function(){return h(!f)},children:f?"\u7d50\u675f\u7de8\u8f2f":"\u7de8\u8f2f\u8ab2\u7a0b"}),(0,mN.jsx)("br",{}),(0,mN.jsx)("br",{}),(0,mN.jsx)(Yr,{style:{marginBottom:20},onClick:p,color:"danger",children:"\u522a\u9664\u8ab2\u7a0b"})]}),f&&(0,mN.jsxs)(pN,{children:[s.map((function(e){return(0,mN.jsx)(WF,{question:e,game:t},e.id)})),(0,mN.jsxs)(pN,{children:[(0,mN.jsx)(Yr,{onClick:function(){UF({gameId:t,order:s.length+1}).then((function(e){return u(s.concat([e]))}))},children:"\u65b0\u589e\u984c\u76ee"}),(0,mN.jsx)("br",{})]})]})]}):(0,mN.jsx)(gN,{maxWidth:500,children:"Loading..."})},KF=function(e){var t=new bN,n=new uO;return t.update(e,{state:"pendingQuestion"}),t.get(e).then((function(e){return"currentQuestion"in e?n.get(e.currentQuestion):void 0})).then((function(t){var r=t?t.order:0;return n.list({gameId:e,from:r,limit:1})})).then((function(n){var r=n[0];return r&&t.update(e,{currentQuestionId:r.id}),r}))},GF=function e(t){var n=t.endDate,r=t.intervalCallback,i=t.endedCallback;setTimeout((function(){var t=function(e){var t=(e-Date.now())/1e3;return t>0?t:0}(n);t>0?(r(t),e({endDate:n,intervalCallback:r,endedCallback:i})):i(t)}),1e3)},QF=function(e){var t=e.seconds,n=e.intervalCallback,r=e.endedCallback,i=new Date(Date.now()+1e3*t);GF({endDate:i,intervalCallback:n,endedCallback:r})},YF=function(e){e.parentUrl;var t=xe().gameId,n=l((0,r.useState)(3),2),i=n[0],a=n[1],o=l((0,r.useState)(null),2),s=o[0],u=o[1];(0,r.useEffect)((function(){t&&(QF({seconds:3,intervalCallback:a,endedCallback:a}),KF(t).then(u))}),[t]);var c="/host/"+t;return(0,mN.jsxs)(gN,{verticalCentered:!0,children:[(0,mN.jsx)("div",{style:{fontSize:25},children:"\u4e0b\u4e00\u984c..."}),(0,mN.jsx)("div",{className:"display-1 mt-4",children:Math.ceil(i)}),i<=0&&s?(0,mN.jsx)(Le,{to:"".concat(c,"/questions/current")}):null]})},JF=["className","cssModule","innerRef","tag"],XF={tag:_r,className:mr().string,cssModule:mr().object,innerRef:mr().oneOfType([mr().object,mr().string,mr().func])},$F=function(e){var t=e.className,n=e.cssModule,i=e.innerRef,a=e.tag,o=hr(e,JF),s=kr(yr()(t,"card-body"),n);return r.createElement(a,fr({},o,{className:s,ref:i}))};$F.propTypes=XF,$F.defaultProps={tag:"div"};var ZF=$F,eU=["className","cssModule","tag"],tU={tag:_r,className:mr().string,cssModule:mr().object},nU=function(e){var t=e.className,n=e.cssModule,i=e.tag,a=hr(e,eU),o=kr(yr()(t,"card-text"),n);return r.createElement(i,fr({},a,{className:o}))};nU.propTypes=tU,nU.defaultProps={tag:"p"};var rU=nU,iU=function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:new uO).get(e,t)},aU=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new bN,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new aO;return n.update(e,{state:"showingQuestionResults"}),r.list({gameId:e,questionId:t}).then((function(e){var t={A:[],B:[],C:[],D:[]},n=e.reduce((function(e,t){return(!e[t.playerName]||t.timestamp>e[t.playerName].timestamp)&&(e[t.playerName]=t),e}),{});return Object.values(n).forEach((function(e){t[e.choice]=t[e.choice].concat(e.playerName)})),t}))},oU=function(e){return(new uO).list({gameId:e}).then((function(e){return e.length}))},sU=function(e,t){return e.correctAnswer===t},uU=function(e){var t=e.result,n=e.className,r=e.question;return(0,mN.jsxs)("div",{className:n,children:[(0,mN.jsx)("h2",{className:"mb-4",children:r?r.text:null}),(0,mN.jsx)(AN,{children:Object.entries(t).map((function(e){var t=l(e,2),n=t[0],i=t[1];return(0,mN.jsx)(jN,{sm:12,md:6,className:"mb-4",children:(0,mN.jsx)(xF,{color:sU(r,n)?"success":null,inverse:!!sU(r,n)||null,children:(0,mN.jsxs)(ZF,{children:[(0,mN.jsxs)(IF,{children:[(0,mN.jsx)("strong",{className:"mr-2",style:{fontSize:20},children:n}),sU(r,n)?"\u2714\ufe0f":"\u274c"]}),(0,mN.jsx)(IF,{children:(0,mN.jsx)("strong",{style:{fontSize:17},children:r["answer".concat(n)]})}),(0,mN.jsx)(rU,{style:{fontSize:17},children:i.join(", ")})]})})})}))})]})},cU=function(e){e.parentUrl;var t=xe(),n=t.gameId,i=t.questionId,a=l((0,r.useState)({}),2),o=a[0],s=a[1],u=l((0,r.useState)(null),2),c=u[0],f=u[1],h=l((0,r.useState)(null),2),d=h[0],p=h[1];(0,r.useEffect)((function(){n&&i&&(iU(i,{gameId:n}).then(f),oU(n).then(p),aU(n,i).then(s))}),[n,i]);var v="/host/"+n;return(0,mN.jsxs)(gN,{verticalCentered:!0,children:[(0,mN.jsx)(uU,{className:"mb-4",result:o,question:c}),(0,mN.jsx)(pN,{children:c&&c.order>=d?(0,mN.jsx)(Ye,{to:"".concat(v,"/results/final"),children:(0,mN.jsx)(Yr,{color:"primary",children:"\u986f\u793a\u8ab2\u7a0b\u6700\u7d42\u7d50\u679c"})}):(0,mN.jsx)(Ye,{to:"".concat(v,"/questions/pending"),children:(0,mN.jsx)(Yr,{color:"primary",children:"\u4e0b\u4e00\u984c"})})})]})},lU=["className","cssModule","color","innerRef","pill","tag"],fU={color:mr().string,pill:mr().bool,tag:_r,innerRef:mr().oneOfType([mr().object,mr().func,mr().string]),children:mr().node,className:mr().string,cssModule:mr().object},hU=function(e){var t=e.className,n=e.cssModule,i=e.color,a=e.innerRef,o=e.pill,s=e.tag,u=hr(e,lU),c=kr(yr()(t,"badge","badge-"+i,!!o&&"badge-pill"),n);return u.href&&"span"===s&&(s="a"),r.createElement(s,fr({},u,{className:c,ref:a}))};hU.propTypes=fU,hU.defaultProps={color:"secondary",pill:!1,tag:"span"};var dU=hU,pU=new bN,vU=function(e){var t=new aO;return pU.update(e,{state:"draft"}),t.list({gameId:e}).then((function(e){return e.filter((function(e){return"isCorrect"in e&&!!e.isCorrect})).reduce((function(e,t){return t.playerName in e?e[t.playerName]+=1:e[t.playerName]=1,e}),{})}))},mU=function(e,t){var n=l(e,2)[1],r=l(t,2)[1];return n>r?-1:n<r?1:0},gU=function(e){var t=e.results,n=Object.entries(t);return n.sort(mU),(0,mN.jsx)(vO,{children:n.slice(0,5).map((function(e,t){var n=l(e,2),r=n[0],i=n[1];return t<=2?(0,mN.jsxs)(bO,{className:"d-flex justify-content-between",style:{fontSize:17},children:[r,(0,mN.jsx)(dU,{className:"ml-4 p-2",color:"success",children:i})]},r):(0,mN.jsxs)(bO,{className:"d-flex justify-content-between",children:[r,(0,mN.jsx)(dU,{className:"ml-4 p-2",children:i})]},r)}))})},yU=function(e){var t=xe().gameId,n=l((0,r.useState)({}),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){t&&vU(t).then(a)}),[t]),(0,mN.jsxs)(gN,{verticalCentered:!0,maxWidth:500,children:[(0,mN.jsx)("h1",{children:"\u8ab2\u7a0b\u7d50\u679c"}),(0,mN.jsx)(gU,{results:i}),(0,mN.jsx)("br",{}),(0,mN.jsx)(pN,{children:(0,mN.jsx)(Ye,{to:"/games",children:(0,mN.jsx)(Yr,{color:"primary",children:"\u56de\u984c\u76ee\u5217\u8868"})})}),(0,mN.jsx)("br",{}),(0,mN.jsx)(pN,{children:(0,mN.jsx)(Ye,{to:"/",children:(0,mN.jsx)(Yr,{color:"primary",children:"\u56de\u9996\u9801"})})})]})},kU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new bN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new uO;return t.update(e,{state:"showingQuestion"}),t.get(e).then((function(e){return n.get(e.currentQuestion)}))},bU=function(e){var t=e.question,n=e.className;return(0,mN.jsxs)("div",{className:n,children:[(0,mN.jsx)("h2",{className:"mb-4",style:{fontSize:24},children:t.text}),(0,mN.jsx)(AN,{children:["A","B","C","D"].map((function(e){return(0,mN.jsx)(jN,{sm:12,md:6,className:"mb-4",children:(0,mN.jsx)(xF,{children:(0,mN.jsxs)(ZF,{children:[(0,mN.jsx)(IF,{children:(0,mN.jsx)("strong",{style:{fontSize:20},children:e})}),(0,mN.jsx)(rU,{style:{fontSize:20},children:t["answer".concat(e)]})]})})},e)}))})]})},wU=function(e){var t=e.isVisible,n=e.linkTo;return t?(0,mN.jsx)(Yr,{color:"primary",onClick:function(){t&&(window.location.href=n)},children:"\u986f\u793a\u56de\u7b54\u7d50\u679c"}):null},xU=function(e){e.parentUrl;var t=xe().gameId,n=l((0,r.useState)(null),2),i=n[0],a=n[1],o=l((0,r.useState)(10),2),s=o[0],u=o[1];return(0,r.useEffect)((function(){t&&(QF({seconds:10,intervalCallback:u,endedCallback:u}),kU(t).then(a))}),[t]),(0,mN.jsx)(gN,{verticalCentered:!0,children:i?(0,mN.jsxs)("div",{children:[(0,mN.jsx)(bU,{question:i}),(0,mN.jsx)("div",{className:"mt-4",children:"\u5269\u9918\u6642\u9593:"}),(0,mN.jsx)("div",{className:"display-1",children:Math.ceil(s)}),(0,mN.jsx)(wU,{isVisible:s<=0,linkTo:"https://cxw0520.github.io/AC-Three/?GID=".concat(t,"&QID=").concat(i.id)})]}):(0,mN.jsx)("div",{children:"\u8acb\u7a0d\u7b49..."})})};function _U(e){var t=e.children,n=e.className,i=e.content,a=TO("header",n),o=LO(_U,e),s=MO(_U,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?i:t)}_U.handledProps=["as","children","className","content"],_U.propTypes={};var EU=_U;var TU=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),IU=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,SU=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var CU=function(e){return(e=WP(e))&&e.replace(IU,TU).replace(SU,"")},AU=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var NU=function(e){return e.match(AU)||[]},OU=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var RU=function(e){return OU.test(e)},PU="\\ud800-\\udfff",DU="\\u2700-\\u27bf",LU="a-z\\xdf-\\xf6\\xf8-\\xff",MU="A-Z\\xc0-\\xd6\\xd8-\\xde",jU="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",FU="["+jU+"]",UU="\\d+",VU="["+DU+"]",BU="["+LU+"]",zU="[^"+PU+jU+UU+DU+LU+MU+"]",qU="(?:\\ud83c[\\udde6-\\uddff]){2}",WU="[\\ud800-\\udbff][\\udc00-\\udfff]",HU="["+MU+"]",KU="(?:"+BU+"|"+zU+")",GU="(?:"+HU+"|"+zU+")",QU="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",YU="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",JU="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",XU="[\\ufe0e\\ufe0f]?",$U=XU+JU+("(?:\\u200d(?:"+["[^"+PU+"]",qU,WU].join("|")+")"+XU+JU+")*"),ZU="(?:"+[VU,qU,WU].join("|")+")"+$U,eV=RegExp([HU+"?"+BU+"+"+QU+"(?="+[FU,HU,"$"].join("|")+")",GU+"+"+YU+"(?="+[FU,HU+KU,"$"].join("|")+")",HU+"?"+KU+"+"+QU,HU+"+"+YU,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",UU,ZU].join("|"),"g");var tV=function(e){return e.match(eV)||[]};var nV=function(e,t,n){return e=WP(e),void 0===(t=n?void 0:t)?RU(e)?tV(e):NU(e):e.match(t)||[]},rV=RegExp("['\u2019]","g");var iV=function(e){return function(t){return pL(nV(CU(t).replace(rV,"")),e,"")}};var aV=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:_M(e,t,n)},oV=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var sV=function(e){return oV.test(e)};var uV=function(e){return e.split("")},cV="\\ud800-\\udfff",lV="["+cV+"]",fV="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",hV="\\ud83c[\\udffb-\\udfff]",dV="[^"+cV+"]",pV="(?:\\ud83c[\\udde6-\\uddff]){2}",vV="[\\ud800-\\udbff][\\udc00-\\udfff]",mV="(?:"+fV+"|"+hV+")"+"?",gV="[\\ufe0e\\ufe0f]?",yV=gV+mV+("(?:\\u200d(?:"+[dV,pV,vV].join("|")+")"+gV+mV+")*"),kV="(?:"+[dV+fV+"?",fV,pV,vV,lV].join("|")+")",bV=RegExp(hV+"(?="+hV+")|"+kV+yV,"g");var wV=function(e){return e.match(bV)||[]};var xV=function(e){return sV(e)?wV(e):uV(e)};var _V=function(e){return function(t){t=WP(t);var n=sV(t)?xV(t):void 0,r=n?n[0]:t.charAt(0),i=n?aV(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase"),EV=iV((function(e,t,n){return e+(n?" ":"")+_V(t)})),TV=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||IM(t.props,"onClick",e,t.props)},t}return dr(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.children,a=e.className,o=e.color,s=e.content,u=e.disabled,c=e.fitted,l=e.header,f=e.icon,h=e.link,d=e.name,p=e.onClick,v=e.position,m=TO(o,v,CO(n,"active"),CO(u,"disabled"),CO(!0===f||f&&!(d||s),"icon"),CO(l,"header"),CO(h,"link"),NO(c,"fitted"),"item",a),g=MO(t,this.props,(function(){if(p)return"a"})),y=LO(t,this.props);return XM(i)?r.createElement(g,fr({},y,{className:m,onClick:this.handleClick}),rj.create(f,{autoGenerateKey:!1}),XM(s)?EV(d):s):r.createElement(g,fr({},y,{className:m,onClick:this.handleClick}),i)},t}(r.Component);function IV(e){var t=e.children,n=e.className,i=e.content,a=e.position,o=TO(a,"menu",n),s=LO(IV,e),u=MO(IV,e);return r.createElement(u,fr({},s,{className:o}),XM(t)?i:t)}TV.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],TV.propTypes={},TV.create=wP(TV,(function(e){return{content:e,name:e}})),IV.handledProps=["as","children","className","content","position"],IV.propTypes={};var SV=IV,CV=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),IM(e,"onClick",n,r),IM(t.props,"onItemClick",n,r)}}},t}dr(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return fj(t,(function(t,r){return TV.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,i=e.borderless,a=e.children,o=e.className,s=e.color,u=e.compact,c=e.fixed,l=e.floated,f=e.fluid,h=e.icon,d=e.inverted,p=e.pagination,v=e.pointing,m=e.secondary,g=e.size,y=e.stackable,k=e.tabular,b=e.text,w=e.vertical,x=e.widths,_=TO("ui",s,g,CO(i,"borderless"),CO(u,"compact"),CO(f,"fluid"),CO(d,"inverted"),CO(p,"pagination"),CO(v,"pointing"),CO(m,"secondary"),CO(y,"stackable"),CO(b,"text"),CO(w,"vertical"),NO(n,"attached"),NO(l,"floated"),NO(h,"icon"),NO(k,"tabular"),AO(c,"fixed"),DO(x,"item"),o,"menu"),E=LO(t,this.props),T=MO(t,this.props);return r.createElement(T,fr({},E,{className:_}),XM(a)?this.renderItems():a)},t}(ZM);CV.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],CV.propTypes={},CV.autoControlledProps=["activeIndex"],CV.Header=EU,CV.Item=TV,CV.Menu=SV,CV.create=wP(CV,(function(e){return{items:e}}));var AV=CV;var NV=function(){var e=l(r.useState(null),2),t=e[0],n=e[1];return r.useEffect((function(){lr.auth().onAuthStateChanged((function(e){n(e)}))}),[]),(0,mN.jsxs)(AV,{size:"large",children:[(0,mN.jsx)(AV.Item,{as:Ye,to:"/",children:"Avatar Classroom"}),(0,mN.jsx)(AV.Menu,{position:"right",children:t?(0,mN.jsxs)(mN.Fragment,{children:[(0,mN.jsx)(AV.Item,{as:Ye,to:"/games",children:"\u6211\u7684\u8ab2\u7a0b"}),(0,mN.jsx)(AV.Item,{as:Ye,to:"/join-s",children:"\u5b78\u751f\u9023\u7d50"}),(0,mN.jsx)(AV.Item,{as:Ye,to:"/settings",children:"\u8a2d\u5b9a"}),(0,mN.jsx)(AV.Item,{onClick:function(){return lr.auth().signOut()},as:Ye,to:"/",children:"\u767b\u51fa"})]}):(0,mN.jsxs)(mN.Fragment,{children:[(0,mN.jsx)(AV.Item,{as:Ye,to:"/join-s",children:"\u5b78\u751f\u9023\u7d50"}),(0,mN.jsx)(AV.Item,{as:Ye,to:"/signin",children:"\u8a3b\u518a/\u767b\u5165"})]})})]})};function OV(e){var t=e.children,n=e.className,i=e.content,a=e.fluid,o=e.text,s=e.textAlign,u=TO("ui",CO(o,"text"),CO(a,"fluid"),RO(s),"container",n),c=LO(OV,e),l=MO(OV,e);return r.createElement(l,fr({},c,{className:u}),XM(t)?i:t)}OV.handledProps=["as","children","className","content","fluid","text","textAlign"],OV.propTypes={};var RV=OV;var PV=function(e,t,n){return null==e?e:eD(e,t,n)},DV=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).inputRef=(0,r.createRef)(),t.labelRef=(0,r.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,a=t.state.checked;return!n&&!i&&!(r&&a)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return kP(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,a=r.indeterminate,o=IM(t.inputRef.current,"contains",e.target),s=IM(t.labelRef.current,"contains",e.target),u=!s&&!o,c=!kP(n);s&&c||IM(t.props,"onClick",e,fr({},t.props,{checked:!i,indeterminate:!!a})),t.isClickFromMouse&&(t.isClickFromMouse=!1,s&&!c&&t.handleChange(e),u&&t.handleChange(e),s&&c&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(IM(t.props,"onChange",e,fr({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;IM(t.props,"onMouseDown",e,fr({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||IM(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,IM(t.props,"onMouseUp",e,fr({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;PV(t.inputRef,"current.indeterminate",!!e)},t}dr(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,i=e.disabled,a=e.label,o=e.id,s=e.name,u=e.radio,c=e.readOnly,l=e.slider,f=e.toggle,h=e.type,d=e.value,p=this.state,v=p.checked,m=p.indeterminate,g=TO("ui",CO(v,"checked"),CO(i,"disabled"),CO(m,"indeterminate"),CO(kP(a),"fitted"),CO(u,"radio"),CO(c,"read-only"),CO(l,"slider"),CO(f,"toggle"),"checkbox",n),y=LO(t,this.props),k=MO(t,this.props),b=yj(y,{htmlProps:vj}),w=b[0],x=b[1],_=_P(a,{defaultProps:{htmlFor:o},autoGenerateKey:!1})||r.createElement("label",{htmlFor:o});return r.createElement(k,fr({},x,{className:g,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),r.createElement(PM,{innerRef:this.inputRef},r.createElement("input",fr({},w,{checked:v,className:"hidden",disabled:i,id:o,name:s,readOnly:!0,tabIndex:this.computeTabIndex(),type:h,value:d}))),r.createElement(PM,{innerRef:this.labelRef},_))},t}(ZM);function LV(e){var t=e.slider,n=e.toggle,i=e.type,a=LO(LV,e),o=!(t||n)||void 0;return r.createElement(DV,fr({},a,{type:i,radio:o,slider:t,toggle:n}))}DV.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],DV.propTypes={},DV.defaultProps={type:"checkbox"},DV.autoControlledProps=["checked","indeterminate"],LV.handledProps=["slider","toggle","type"],LV.propTypes={},LV.defaultProps={type:"radio"};var MV=LV;function jV(e){var t=e.children,n=e.className,i=e.content,a=e.control,o=e.disabled,s=e.error,u=e.inline,c=e.label,l=e.required,f=e.type,h=e.width,d=e.id,p=TO(CO(o,"disabled"),CO(s,"error"),CO(u,"inline"),CO(l,"required"),DO(h,"wide"),"field",n),v=LO(jV,e),m=MO(jV,e),g=hM(s,"pointing","above"),y=Oj.create(s,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:g,id:d?d+"-error-message":void 0,role:"alert","aria-atomic":!0}}),k=("below"===g||"right"===g)&&y,b=("above"===g||"left"===g)&&y;if(kP(a))return kP(c)?r.createElement(m,fr({},v,{className:p,id:d}),XM(t)?i:t):r.createElement(m,fr({},v,{className:p,id:d}),k,_P(c,{autoGenerateKey:!1}),b);var w={"aria-describedby":d&&s?d+"-error-message":null,"aria-invalid":!!s||void 0},x=fr({},v,{content:i,children:t,disabled:o,required:l,type:f,id:d});return"input"!==a||"checkbox"!==f&&"radio"!==f?a===DV||a===MV?r.createElement(m,{className:p},k,(0,r.createElement)(a,fr({},w,x,{label:c})),b):r.createElement(m,{className:p},_P(c,{defaultProps:{htmlFor:d},autoGenerateKey:!1}),k,(0,r.createElement)(a,fr({},w,x)),b):r.createElement(m,{className:p},r.createElement("label",null,k,(0,r.createElement)(a,fr({},w,x))," ",c,b))}jV.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],jV.propTypes={};var FV=jV;function UV(e){var t=e.control,n=LO(UV,e),i=MO(UV,e);return r.createElement(i,fr({},n,{control:t}))}UV.handledProps=["as","control"],UV.propTypes={},UV.defaultProps={as:FV,control:Uj};var VV=UV;function BV(e){var t=e.control,n=LO(BV,e),i=MO(BV,e);return r.createElement(i,fr({},n,{control:t}))}BV.handledProps=["as","control"],BV.propTypes={},BV.defaultProps={as:FV,control:DV};var zV=BV;var qV=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i};var WV=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};var HV=function(e,t){var n=!0;return mL(e,(function(e,r,i){return n=!!t(e,r,i)})),n};var KV=function(e,t,n){var r=oP(e)?WV:HV;return n&&HM(e,t,n)&&(t=void 0),r(e,gM(t,3))};var GV=function(e,t,n,r){var i=-1,a=JR,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=VP(t,JD(n))),r?(a=XR,o=!1):t.length>=200&&(a=$R,o=!1,t=new HR(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else a(t,f,r)||u.push(l)}return u};var QV=function(e){return cP(e)&&CD(e)},YV=TM((function(e,t){return QV(e)?GV(e,t):[]})),JV=YV;var XV=function(e){return function(t,n,r){var i=Object(t);if(!CD(t)){var a=gM(n,3);t=lL(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}},$V=Math.max;var ZV=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:VD(n);return i<0&&(i=$V(r+i,0)),KR(e,gM(t,3),i)},eB=XV(ZV);var tB=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:VD(t),_M(e,0,(t=r-t)<0?0:t)):[]},nB=pM("length"),rB="\\ud800-\\udfff",iB="["+rB+"]",aB="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",oB="\\ud83c[\\udffb-\\udfff]",sB="[^"+rB+"]",uB="(?:\\ud83c[\\udde6-\\uddff]){2}",cB="[\\ud800-\\udbff][\\udc00-\\udfff]",lB="(?:"+aB+"|"+oB+")"+"?",fB="[\\ufe0e\\ufe0f]?",hB=fB+lB+("(?:\\u200d(?:"+[sB,uB,cB].join("|")+")"+fB+lB+")*"),dB="(?:"+[sB+aB+"?",aB,uB,cB,iB].join("|")+")",pB=RegExp(oB+"(?="+oB+")|"+dB+hB,"g");var vB=function(e){for(var t=pB.lastIndex=0;pB.test(e);)++t;return t};var mB=function(e){return sV(e)?vB(e):nB(e)};var gB=function(e){if(null==e)return 0;if(CD(e))return gP(e)?mB(e):e.length;var t=eM(e);return"[object Map]"==t||"[object Set]"==t?e.size:cL(e).length},yB=TM((function(e,t){return QV(e)?GV(e,mD(t,1,QV,!0)):[]})),kB=yB,bB=TM((function(e){return iP(mD(e,1,QV,!0))}));var wB=function(e,t){return oM(e,t)},xB=function(e){function t(){return e.apply(this,arguments)||this}return dr(t,e),t.prototype.render=function(){var e=this.props,n=e.className,i=e.name,a=TO(i,"flag",n),o=LO(t,this.props),s=MO(t,this.props);return r.createElement(s,fr({},o,{className:a}))},t}(r.PureComponent);xB.handledProps=["as","className","name"],xB.propTypes={},xB.defaultProps={as:"i"},xB.create=wP(xB,(function(e){return{name:e}}));var _B=xB;function EB(e){var t=e.className,n=TO("divider",t),i=LO(EB,e),a=MO(EB,e);return r.createElement(a,fr({},i,{className:n}))}EB.handledProps=["as","className"],EB.propTypes={};var TB=EB,IB=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){IM(t.props,"onClick",e,t.props)},t}return dr(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.children,a=e.className,o=e.content,s=e.disabled,u=e.description,c=e.flag,l=e.icon,f=e.image,h=e.label,d=e.selected,p=e.text,v=TO(CO(n,"active"),CO(s,"disabled"),CO(d,"selected"),"item",a),m=kP(l)?function(e,t){return KM(r.Children.toArray(e),{type:t})}(i,"DropdownMenu")&&"dropdown":l,g=LO(t,this.props),y=MO(t,this.props),k={role:"option","aria-disabled":s,"aria-checked":n,"aria-selected":d};if(!XM(i))return r.createElement(y,fr({},g,k,{className:v,onClick:this.handleClick}),i);var b=_B.create(c,{autoGenerateKey:!1}),w=rj.create(m,{autoGenerateKey:!1}),x=Ij.create(f,{autoGenerateKey:!1}),_=Oj.create(h,{autoGenerateKey:!1}),E=bP("span",(function(e){return{children:e}}),u,{defaultProps:{className:"description"},autoGenerateKey:!1}),T=bP("span",(function(e){return{children:e}}),XM(o)?p:o,{defaultProps:{className:"text"},autoGenerateKey:!1});return r.createElement(y,fr({},g,k,{className:v,onClick:this.handleClick}),x,w,b,_,E,T)},t}(r.Component);IB.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],IB.propTypes={},IB.create=wP(IB,(function(e){return e}));var SB=IB;function CB(e){var t=e.children,n=e.className,i=e.content,a=e.icon,o=TO("header",n),s=LO(CB,e),u=MO(CB,e);return XM(t)?r.createElement(u,fr({},s,{className:o}),rj.create(a,{autoGenerateKey:!1}),i):r.createElement(u,fr({},s,{className:o}),t)}CB.handledProps=["as","children","className","content","icon"],CB.propTypes={},CB.create=wP(CB,(function(e){return{content:e}}));var AB=CB;function NB(e){var t=e.children,n=e.className,i=e.content,a=e.direction,o=e.open,s=e.scrolling,u=TO(a,CO(o,"visible"),CO(s,"scrolling"),"menu transition",n),c=LO(NB,e),l=MO(NB,e);return r.createElement(l,fr({},c,{className:u}),XM(t)?i:t)}NB.handledProps=["as","children","className","content","direction","open","scrolling"],NB.propTypes={};var OB=NB,RB=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=hM(e,"target.value");IM(t.props,"onChange",e,fr({},t.props,{value:n}))},t}return dr(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,i=e.className,a=e.tabIndex,o=e.type,s=e.value,u=TO("search",i),c=LO(t,this.props);return r.createElement("input",fr({},c,{"aria-autocomplete":"list",autoComplete:n,className:u,onChange:this.handleChange,tabIndex:a,type:o,value:s}))},t}(r.Component);RB.handledProps=["as","autoComplete","className","tabIndex","type","value"],RB.propTypes={},RB.defaultProps={autoComplete:"off",type:"text"},RB.create=wP(RB,(function(e){return{type:e}}));var PB=RB;function DB(e){var t=e.children,n=e.className,i=e.content,a=TO("divider",n),o=LO(DB,e),s=MO(DB,e);return r.createElement(s,fr({"aria-atomic":!0,"aria-live":"polite",role:"alert"},o,{className:a}),XM(t)?i:t)}DB.handledProps=["as","children","className","content"],DB.propTypes={},DB.create=wP(DB,(function(e){return{content:e}}));var LB=DB,MB=/[\\^$.*+?()[\]{}|]/g,jB=RegExp(MB.source);var FB=function(e){return(e=WP(e))&&jB.test(e)?e.replace(MB,"\\$&"):e};var UB=function(e,t){var n=[];return mL(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};var VB=function(e,t){return(oP(e)?RL:UB)(e,gM(t,3))};function BB(e){var t=e.additionLabel,n=e.additionPosition,i=e.allowAdditions,a=e.deburr,o=e.multiple,s=e.options,u=e.search,c=e.searchQuery,l=e.value,f=s;if(o&&(f=VB(f,(function(e){return!dL(l,e.value)}))),u&&c)if(XO(u))f=u(f,c);else{var h=a?CU(c):c,d=new RegExp(FB(h),"i");f=VB(f,(function(e){return d.test(a?CU(e.text):e.text)}))}if(i&&u&&c&&!KM(f,{text:c})){var p={key:"addition",text:[r.isValidElement(t)?r.cloneElement(t,{key:"addition-label"}):t||"",r.createElement("b",{key:"addition-query"},c)],value:c,className:"addition","data-additional":!0};"top"===n?f.unshift(p):f.push(p)}return f}function zB(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,a=e.deburr,o=e.multiple,s=e.options,u=e.search,c=e.searchQuery,l=e.selectedIndex,f=e.value,h=BB({value:f,options:s,searchQuery:c,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:a,multiple:o,search:u}),d=kM(h,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!l||l<0){var p=d[0];t=o?p:ZV(h,["value",f])||d[0]}else if(o)t=eB(d,(function(e){return e>=l})),l>=h.length-1&&(t=d[d.length-1]);else{var v=ZV(h,["value",f]);t=dL(d,v)?v:void 0}return(!t||t<0)&&(t=d[0]),t}BB.handledProps=[];var qB=function(e,t){return kP(e)?t:e},WB=function(e){return e?e.map((function(e){return SD(e,["key","value"])})):e};function HB(e){var t=e.flag,n=e.image,i=e.text;return XO(i)?i:{content:r.createElement(r.Fragment,null,_B.create(t),Ij.create(n),i)}}var KB=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).searchRef=(0,r.createRef)(),t.sizerRef=(0,r.createRef)(),t.ref=(0,r.createRef)(),t.handleChange=function(e,n){IM(t.props,"onChange",e,fr({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;($M(r)?!i:r)&&t.close(e,eP)},t.closeOnEscape=function(e){t.props.closeOnEscape&&aj().getCode(e)===aj().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,a=r.selectOnNavigation;if(t.state.open){var o=((n={})[aj().ArrowDown]=1,n[aj().ArrowUp]=-1,n)[aj().getCode(e)];if(void 0!==o){e.preventDefault();var s=t.getSelectedIndexAfterMove(o);!i&&a&&t.makeSelectedItemActive(e,s),t.setState({selectedIndex:s})}}},t.openOnSpace=function(e){var n,r,i,a=t.state.focus&&!t.state.open&&aj().getCode(e)===aj().Spacebar,o="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);a&&(o&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var a=aj().getCode(e);a!==aj().ArrowDown&&a!==aj().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,a=r.value,o=t.props.multiple,s=t.getSelectedItem(n),u=hM(s,"value"),c=hM(s,"disabled");if(kP(u)||!i||c)return a;var l=o?bB(a,[u]):u;return(o?!!kB(l,a).length:l!==a)&&(t.setState({value:l}),t.handleChange(e,l),s["data-additional"]&&IM(t.props,"onAddItem",e,fr({},t.props,{value:u}))),a},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,a=r.selectedIndex;if(i&&(aj().getCode(e)===aj().Enter||!n&&aj().getCode(e)===aj().Spacebar)){e.preventDefault();var o=gB(BB({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==o){var s=t.makeSelectedItemActive(e,a);t.setState({selectedIndex:zB({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:a,value:s,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&IM(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,a=t.state,o=a.searchQuery,s=a.value;if(aj().getCode(e)===aj().Backspace&&!o&&i&&r&&!wM(s)){e.preventDefault();var u=tB(s);t.setState({value:u}),t.handleChange(e,u)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&GM(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,IM(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,a=t.state,o=a.open,s=a.searchQuery;if(IM(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);o?IM(t.searchRef.current,"focus"):s.length>=r||1===r?t.open(e):IM(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();IM(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,a=r.search,o=t.state.value,s=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var u=n["data-additional"],c=i?bB(t.state.value,[s]):s;(i?!!kB(c,o).length:c!==o)&&(t.setState({value:c}),t.handleChange(e,c)),t.clearSearchQuery(),IM(a?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),u&&IM(t.props,"onAddItem",e,fr({},t.props,{value:s}))}},t.handleFocus=function(e){t.state.focus||(IM(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=hM(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,a=r.multiple,o=r.selectOnBlur;t.isMouseDown||(IM(t.props,"onBlur",e,t.props),o&&!a&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,a=t.state.open,o=r;IM(t.props,"onSearchChange",e,fr({},t.props,{searchQuery:o})),t.setState({searchQuery:o,selectedIndex:0}),!a&&o.length>=i?t.open():a&&1!==i&&o.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),IM(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=BB({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return hM(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return eB(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,a=e.multiple,o={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===o.role&&(o["aria-multiselectable"]=a),o},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),IM(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=JV(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=BB({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!KV(r,"disabled")){var i=r.length-1,a=n+e;return!t.props.wrapSelection&&(a>i||a<0)?a=n:a>i?a=0:a<0&&(a=i),r[a].disabled?t.getSelectedIndexAfterMove(e,a):a}},t.handleIconOverrides=function(e){var n=t.props.clearable;return{className:TO(n&&t.hasValue()&&"clear",e.className),onClick:function(n){IM(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return kP(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:kP(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){IM(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!wM(n):!kP(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,a=n.top-r,o=i<0&&a>i;!o!==!t.state.upward&&t.setState({upward:o})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,a=r.search;i||(a&&IM(t.searchRef.current,"focus"),IM(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(IM(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,a=n.search,o=n.text,s=t.state,u=s.searchQuery,c=s.selectedIndex,l=s.value,f=s.open,h=t.hasValue(),d=TO(i&&!h&&"default","text",a&&u&&"filtered"),p=i;return o?p=o:f&&!r?e=t.getSelectedItem(c):h&&(e=t.getItemByValue(l)),LB.create(e?HB(e):p,{defaultProps:{className:d}})},t.renderSearchInput=function(){var e=t.props,n=e.search,i=e.searchInput,a=t.state.searchQuery;return n&&r.createElement(PM,{innerRef:t.searchRef},PB.create(i,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:a},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,i=e.multiple;return n&&i&&r.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,a=i.selectedLabel,o=i.value;if(n&&!wM(o)){var s=fj(o,t.getItemByValue);return fj(qV(s),(function(e,n){var i={active:e.value===a,as:"a",key:qB(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return Oj.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,i=e.multiple,a=e.search,o=e.noResultsMessage,s=t.state,u=s.open,c=s.selectedIndex,l=s.value;if(n&&!u)return null;var f=BB({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==o&&a&&wM(f))return r.createElement("div",{className:"message"},o);var h=i?function(e){return dL(l,e)}:function(e){return e===l};return fj(f,(function(e,n){return SB.create(fr({active:h(e.value),selected:c===n},e,{key:qB(e.key,e.value),style:fr({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,i=e.direction,a=e.header,o=t.state.open,s=t.getDropdownMenuAriaOptions();if(!XM(n)){var u=r.Children.only(n),c=TO(i,CO(o,"visible"),u.props.className);return(0,r.cloneElement)(u,fr({className:c},s))}return r.createElement(OB,fr({},s,{direction:i,open:o}),AB.create(a,{autoGenerateKey:!1}),t.renderOptions())},t}dr(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!LM()(n.__value,t.value)||!wB(WB(e.options),WB(n.__options)))&&(r.selectedIndex=zB({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!LM()(e,this.props)||!LM()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,a=n.openOnFocus,o=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var s=!o||o&&1===i&&!this.state.open;a&&s&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,i=e.button,a=e.className,o=e.compact,s=e.disabled,u=e.error,c=e.fluid,l=e.floating,f=e.icon,h=e.inline,d=e.item,p=e.labeled,v=e.loading,m=e.multiple,g=e.pointing,y=e.search,k=e.selection,b=e.scrolling,w=e.simple,x=e.trigger,_=this.state,E=_.focus,T=_.open,I=_.upward,S=TO("ui",CO(T,"active visible"),CO(s,"disabled"),CO(u,"error"),CO(v,"loading"),CO(n,"basic"),CO(i,"button"),CO(o,"compact"),CO(c,"fluid"),CO(l,"floating"),CO(h,"inline"),CO(p,"labeled"),CO(d,"item"),CO(m,"multiple"),CO(y,"search"),CO(k,"selection"),CO(w,"simple"),CO(b,"scrolling"),CO(I,"upward"),NO(g,"pointing"),"dropdown",a),C=LO(t,this.props),A=MO(t,this.props),N=this.getDropdownAriaOptions(A,this.props);return r.createElement(PM,{innerRef:this.ref},r.createElement(A,fr({},C,N,{className:S,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),x||this.renderText(),rj.create(f,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),T&&r.createElement(YM(),{name:"keydown",on:this.closeOnEscape}),T&&r.createElement(YM(),{name:"click",on:this.closeOnDocumentClick}),E&&r.createElement(YM(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(ZM);function GB(e){var t=e.control,n=LO(GB,e),i=MO(GB,e);return r.createElement(i,fr({},n,{control:t}))}KB.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],KB.propTypes={},KB.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:HB,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},KB.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],KB.Divider=TB,KB.Header=AB,KB.Item=SB,KB.Menu=OB,KB.SearchInput=PB,KB.Text=LB,GB.handledProps=["as","control"],GB.propTypes={},GB.defaultProps={as:FV,control:KB};var QB=GB;function YB(e){var t=e.children,n=e.className,i=e.grouped,a=e.inline,o=e.unstackable,s=e.widths,u=TO(CO(i,"grouped"),CO(a,"inline"),CO(o,"unstackable"),DO(s,null,!0),"fields",n),c=LO(YB,e),l=MO(YB,e);return r.createElement(l,fr({},c,{className:u}),t)}YB.handledProps=["as","children","className","grouped","inline","unstackable","widths"],YB.propTypes={};var JB=YB,XB=function(e){function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).inputRef=(0,r.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return kP(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return kP(r)?t?-1:void 0:r},n.focus=function(e){return n.inputRef.current.focus(e)},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=hM(e,"target.value");IM(n.props,"onChange",e,fr({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return fr({},t,e.props,{ref:function(t){CM(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,a=n.computeTabIndex(),o=LO(t,n.props),s=yj(o),u=s[0],c=s[1];return[fr({},u,{disabled:r,type:i,tabIndex:a,onChange:n.handleChange,ref:n.inputRef}),c]},n}return dr(t,e),t.prototype.render=function(){var e=this,n=this.props,i=n.action,a=n.actionPosition,o=n.children,s=n.className,u=n.disabled,c=n.error,l=n.fluid,f=n.focus,h=n.icon,d=n.iconPosition,p=n.input,v=n.inverted,m=n.label,g=n.labelPosition,y=n.loading,k=n.size,b=n.transparent,w=n.type,x=TO("ui",k,CO(u,"disabled"),CO(c,"error"),CO(l,"fluid"),CO(f,"focus"),CO(v,"inverted"),CO(y,"loading"),CO(b,"transparent"),AO(a,"action")||CO(i,"action"),AO(d,"icon")||CO(h||y,"icon"),AO(g,"labeled")||CO(m,"labeled"),"input",s),_=MO(t,this.props),E=this.partitionProps(),T=E[0],I=E[1];if(!XM(o)){var S=fj(r.Children.toArray(o),(function(t){return"input"!==t.type?t:(0,r.cloneElement)(t,e.handleChildOverrides(t,T))}));return r.createElement(_,fr({},I,{className:x}),S)}var C=Uj.create(i,{autoGenerateKey:!1}),A=Oj.create(m,{defaultProps:{className:TO("label",dL(g,"corner")&&g)},autoGenerateKey:!1});return r.createElement(_,fr({},I,{className:x}),"left"===a&&C,"right"!==g&&A,xP(p||w,{defaultProps:T,autoGenerateKey:!1}),rj.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==a&&C,"right"===g&&A)},t}(r.Component);XB.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],XB.propTypes={},XB.defaultProps={type:"text"},XB.create=wP(XB,(function(e){return{type:e}}));var $B=XB;function ZB(e){var t=e.control,n=LO(ZB,e),i=MO(ZB,e);return r.createElement(i,fr({},n,{control:t}))}ZB.handledProps=["as","control"],ZB.propTypes={},ZB.defaultProps={as:FV,control:$B};var ez=ZB;function tz(e){var t=e.control,n=LO(tz,e),i=MO(tz,e);return r.createElement(i,fr({},n,{control:t}))}tz.handledProps=["as","control"],tz.propTypes={},tz.defaultProps={as:FV,control:MV};var nz=tz;function rz(e){return r.createElement(KB,fr({},e,{selection:!0}))}rz.handledProps=["options"],rz.propTypes={},rz.Divider=KB.Divider,rz.Header=KB.Header,rz.Item=KB.Item,rz.Menu=KB.Menu;var iz=rz;function az(e){var t=e.control,n=e.options,i=LO(az,e),a=MO(az,e);return r.createElement(a,fr({},i,{control:t,options:n}))}az.handledProps=["as","control","options"],az.propTypes={},az.defaultProps={as:FV,control:iz};var oz=az,sz=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).ref=(0,r.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=hM(e,"target.value");IM(t.props,"onChange",e,fr({},t.props,{value:n}))},t.handleInput=function(e){var n=hM(e,"target.value");IM(t.props,"onInput",e,fr({},t.props,{value:n}))},t}return dr(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,i=e.value,a=LO(t,this.props),o=MO(t,this.props);return r.createElement(PM,{innerRef:this.ref},r.createElement(o,fr({},a,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:i})))},t}(r.Component);sz.handledProps=["as","onChange","onInput","rows","value"],sz.propTypes={},sz.defaultProps={as:"textarea",rows:3};var uz=sz;function cz(e){var t=e.control,n=LO(cz,e),i=MO(cz,e);return r.createElement(i,fr({},n,{control:t}))}cz.handledProps=["as","control"],cz.propTypes={},cz.defaultProps={as:FV,control:uz};var lz=cz,fz=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&IM(e,"preventDefault");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];IM.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))},t}return dr(t,e),t.prototype.render=function(){var e=this.props,n=e.action,i=e.children,a=e.className,o=e.error,s=e.inverted,u=e.loading,c=e.reply,l=e.size,f=e.success,h=e.unstackable,d=e.warning,p=e.widths,v=TO("ui",l,CO(o,"error"),CO(s,"inverted"),CO(u,"loading"),CO(c,"reply"),CO(f,"success"),CO(h,"unstackable"),CO(d,"warning"),DO(p,null,!0),"form",a),m=LO(t,this.props),g=MO(t,this.props);return r.createElement(g,fr({},m,{action:n,className:v,onSubmit:this.handleSubmit}),i)},t}(r.Component);fz.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],fz.propTypes={},fz.defaultProps={as:"form"},fz.Field=FV,fz.Button=VV,fz.Checkbox=zV,fz.Dropdown=QB,fz.Group=JB,fz.Input=ez,fz.Radio=nz,fz.Select=oz,fz.TextArea=lz;var hz=fz;function dz(e){var t=e.children,n=e.className,i=e.content,a=TO("content",n),o=LO(dz,e),s=MO(dz,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?i:t)}dz.handledProps=["as","children","className","content"],dz.propTypes={};var pz=dz;function vz(e){var t=e.children,n=e.className,i=e.content,a=TO("header",n),o=LO(vz,e),s=MO(vz,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?i:t)}vz.handledProps=["as","children","className","content"],vz.propTypes={},vz.create=wP(vz,(function(e){return{content:e}}));var mz=vz;function gz(e){var t=e.children,n=e.className,i=e.content,a=TO("content",n),o=LO(gz,e),s=MO(gz,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?i:t)}gz.handledProps=["as","children","className","content"],gz.propTypes={},gz.defaultProps={as:"li"},gz.create=wP(gz,(function(e){return{content:e}}));var yz=gz;function kz(e){var t=e.children,n=e.className,i=e.items,a=TO("list",n),o=LO(kz,e),s=MO(kz,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?fj(i,yz.create):t)}kz.handledProps=["as","children","className","items"],kz.propTypes={},kz.defaultProps={as:"ul"},kz.create=wP(kz,(function(e){return{items:e}}));var bz=kz,wz=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return dr(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,i=e.children,a=e.className,o=e.color,s=e.compact,u=e.content,c=e.error,l=e.floating,f=e.header,h=e.hidden,d=e.icon,p=e.info,v=e.list,m=e.negative,g=e.onDismiss,y=e.positive,k=e.size,b=e.success,w=e.visible,x=e.warning,_=TO("ui",o,k,CO(s,"compact"),CO(c,"error"),CO(l,"floating"),CO(h,"hidden"),CO(d,"icon"),CO(p,"info"),CO(m,"negative"),CO(y,"positive"),CO(b,"success"),CO(w,"visible"),CO(x,"warning"),NO(n,"attached"),"message",a),E=g&&r.createElement(rj,{name:"close",onClick:this.handleDismiss}),T=LO(t,this.props),I=MO(t,this.props);return XM(i)?r.createElement(I,fr({},T,{className:_}),E,rj.create(d,{autoGenerateKey:!1}),(!kP(f)||!kP(u)||!kP(v))&&r.createElement(pz,null,mz.create(f,{autoGenerateKey:!1}),bz.create(v,{autoGenerateKey:!1}),EP(u,{autoGenerateKey:!1}))):r.createElement(I,fr({},T,{className:_}),E,i)},t}(r.Component);wz.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],wz.propTypes={},wz.Content=pz,wz.Header=mz,wz.List=bz,wz.Item=yz;var xz=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xz(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Ez;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ez=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(T(Error)),Tz=function(e){try{return _z.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Iz=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Sz=function(){try{return Iz()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Tz(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}};function Cz(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var Az=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),Nz.prototype.create),a}return g(n)}(T(Error)),Nz=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Oz,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Az(n,a,t)}}]),e}();var Oz=/\{\$([^}]+)}/g;function Rz(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Pz(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Dz(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Lz=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=S(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Mz),void 0===r.error&&(r.error=Mz),void 0===r.complete&&(r.complete=Mz);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Mz(){}function jz(e){return e&&e._delegate?e._delegate:e}function Fz(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Uz,Vz=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Uz||(Uz={}));var Bz,zz={debug:Uz.DEBUG,verbose:Uz.VERBOSE,info:Uz.INFO,warn:Uz.WARN,error:Uz.ERROR,silent:Uz.SILENT},qz=Uz.INFO,Wz=$e($e($e($e($e({},Uz.DEBUG,"log"),Uz.VERBOSE,"log"),Uz.INFO,"info"),Uz.WARN,"warn"),Uz.ERROR,"error"),Hz=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Wz[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Kz=function(){function e(t){d(this,e),this.name=t,this._logLevel=qz,this._logHandler=Hz,this._userLogHandler=null,Vz.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Uz))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?zz[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Uz.DEBUG].concat(t)),this._logHandler.apply(this,[this,Uz.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Uz.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Uz.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Uz.INFO].concat(t)),this._logHandler.apply(this,[this,Uz.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Uz.WARN].concat(t)),this._logHandler.apply(this,[this,Uz.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Uz.ERROR].concat(t)),this._logHandler.apply(this,[this,Uz.ERROR].concat(t))}}]),e}();function Gz(){return $e({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Qz=Gz,Yz=new Nz("auth","Firebase",Gz()),Jz=new Kz("@firebase/auth");function Xz(e){if(Jz.logLevel<=Uz.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jz.warn.apply(Jz,["Auth (".concat(Tn,"): ").concat(e)].concat(n))}}function $z(e){if(Jz.logLevel<=Uz.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jz.error.apply(Jz,["Auth (".concat(Tn,"): ").concat(e)].concat(n))}}function Zz(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw nq.apply(void 0,[e].concat(n))}function eq(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nq.apply(void 0,[e].concat(n))}function tq(e,t,n){var r=Object.assign(Object.assign({},Qz()),$e({},t,n));return new Nz("auth","Firebase",r).create(t,{appName:e.name})}function nq(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return Yz.create.apply(Yz,[e].concat(n))}function rq(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw nq.apply(void 0,[t].concat(r))}}function iq(e){var t="INTERNAL ASSERTION FAILED: "+e;throw $z(t),new Error(t)}function aq(e,t){e||iq(t)}function oq(){return"http:"===sq()||"https:"===sq()}function sq(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function uq(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(oq()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var cq=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,aq(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cz())||"object"===typeof navigator&&"ReactNative"===navigator.product}return g(e,[{key:"get",value:function(){return uq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function lq(e,t){aq(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var fq=function(){function e(){d(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void iq("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void iq("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void iq("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),hq=($e($e($e($e($e($e($e($e($e($e(Bz={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),"MISSING_CUSTOM_TOKEN","internal-error"),"INVALID_IDENTIFIER","invalid-email"),"MISSING_CONTINUE_URI","internal-error"),"INVALID_PASSWORD","wrong-password"),"MISSING_PASSWORD","missing-password"),"EMAIL_EXISTS","email-already-in-use"),"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),"INVALID_IDP_RESPONSE","invalid-credential"),"INVALID_PENDING_TOKEN","invalid-credential"),$e($e($e($e($e($e($e($e($e($e(Bz,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),"MISSING_REQ_TYPE","internal-error"),"EMAIL_NOT_FOUND","user-not-found"),"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),"EXPIRED_OOB_CODE","expired-action-code"),"INVALID_OOB_CODE","invalid-action-code"),"MISSING_OOB_CODE","internal-error"),"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),"INVALID_ID_TOKEN","invalid-user-token"),"TOKEN_EXPIRED","user-token-expired"),$e($e($e($e($e($e($e($e($e($e(Bz,"USER_NOT_FOUND","user-token-expired"),"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),"INVALID_CODE","invalid-verification-code"),"INVALID_SESSION_INFO","invalid-verification-id"),"INVALID_TEMPORARY_PROOF","invalid-credential"),"MISSING_SESSION_INFO","missing-verification-id"),"SESSION_EXPIRED","code-expired"),"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),$e($e($e($e($e($e($e($e($e($e(Bz,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),$e($e($e($e($e($e(Bz,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),"MISSING_CLIENT_TYPE","missing-client-type"),"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),"INVALID_REQ_TYPE","invalid-req-type")),dq=new cq(3e4,6e4);function pq(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function vq(e,t,n,r){return mq.apply(this,arguments)}function mq(){return mq=ft(ct().mark((function e(t,n,r,i){var a,o=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",gq(t,a,ft(ct().mark((function e(){var a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Rz(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",fq.fetch()(wq(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),mq.apply(this,arguments)}function gq(e,t,n){return yq.apply(this,arguments)}function yq(){return yq=ft(ct().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},hq),n),e.prev=2,a=new xq(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw _q(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw _q(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw _q(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw _q(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw tq(t,p,d);case 34:Zz(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Az)){e.next=41;break}throw e.t0;case 41:Zz(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),yq.apply(this,arguments)}function kq(e,t,n,r){return bq.apply(this,arguments)}function bq(){return bq=ft(ct().mark((function e(t,n,r,i){var a,o,s=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,vq(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Zz(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),bq.apply(this,arguments)}function wq(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?lq(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var xq=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(eq(n.auth,"network-request-failed"))}),dq.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function _q(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=eq(e,t,r);return i.customData._tokenResponse=n,i}function Eq(e,t){return Tq.apply(this,arguments)}function Tq(){return(Tq=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vq(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iq(e,t){return Sq.apply(this,arguments)}function Sq(){return(Sq=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vq(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cq(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Aq(){return Aq=ft(ct().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=jz(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,rq((a=Oq(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Cq(Nq(a.auth_time)),issuedAtTime:Cq(Nq(a.iat)),expirationTime:Cq(Nq(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Aq.apply(this,arguments)}function Nq(e){return 1e3*Number(e)}function Oq(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return $z("JWT malformed, contained fewer than 3 sections"),null;try{var a=Tz(r);return a?JSON.parse(a):($z("Failed to decode base64 JWT payload"),null)}catch(o){return $z("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Rq(e,t){return Pq.apply(this,arguments)}function Pq(){return Pq=ft(ct().mark((function e(t,n){var r=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Az&&Dq(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pq.apply(this,arguments)}function Dq(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Lq=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ft(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Mq=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Cq(this.lastLoginAt),this.creationTime=Cq(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function jq(e){return Fq.apply(this,arguments)}function Fq(){return Fq=ft(ct().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Rq(t,Iq(r,{idToken:i}));case 6:rq(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Fz(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Vq(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mq(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Fq.apply(this,arguments)}function Uq(){return(Uq=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jz(t),e.next=3,jq(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vq(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function Bq(e,t){return zq.apply(this,arguments)}function zq(){return(zq=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gq(t,{},ft(ct().mark((function e(){var r,i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rz({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=wq(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",fq.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qq=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){rq(e.idToken,"internal-error"),rq("undefined"!==typeof e.idToken,"internal-error"),rq("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Oq(e);return rq(t,"internal-error"),rq("undefined"!==typeof t.exp,"internal-error"),rq("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ft(ct().mark((function e(t){var n,r=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],rq(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ft(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bq(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return iq("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(rq("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(rq("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(rq("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Wq(e,t){rq("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Hq=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Fz(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new Mq(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rq(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(rq(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Aq.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Uq.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(rq(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){rq(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ft(ct().mark((function e(t){var n,r,i=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,jq(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Rq(this,Eq(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;rq(k&&_,t,"internal-error");var E=qq.fromJSON(this.name,_);rq("string"===typeof k,t,"internal-error"),Wq(f,t.name),Wq(h,t.name),rq("boolean"===typeof b,t,"internal-error"),rq("boolean"===typeof w,t,"internal-error"),Wq(d,t.name),Wq(p,t.name),Wq(v,t.name),Wq(m,t.name),Wq(g,t.name),Wq(y,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(T.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=ft(ct().mark((function t(n,r){var i,a,o,s=arguments;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new qq).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,jq(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Kq=new Map;function Gq(e){aq(e instanceof Function,"Expected a class definition");var t=Kq.get(e);return t?(aq(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Kq.set(e,t),t)}var Qq=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Qq.type="NONE";var Yq=Qq;function Jq(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Xq=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Jq(this.userKey,a.apiKey,o),this.fullPersistenceKey=Jq("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Hq._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ft(ct().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Gq(Yq),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Gq(Yq),s=Jq(i,n.config.apiKey,n.name),u=null,c=S(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Hq._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function $q(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zq(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iW(t))return"Blackberry";if(aW(t))return"Webos";if(eW(t))return"Safari";if((t.includes("chrome/")||tW(t))&&!t.includes("edge/"))return"Chrome";if(rW(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Zq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cz();return/firefox\//i.test(e)}function eW(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cz()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cz();return/crios\//i.test(e)}function nW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cz();return/iemobile/i.test(e)}function rW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cz();return/android/i.test(e)}function iW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cz();return/blackberry/i.test(e)}function aW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cz();return/webos/i.test(e)}function oW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cz();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function sW(){return function(){var e=Cz();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function uW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cz();return oW(e)||rW(e)||aW(e)||iW(e)||/windows phone/i.test(e)||nW(e)}function cW(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=$q(Cz());break;case"Worker":t="".concat($q(Cz()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Tn,"/").concat(r)}function lW(e,t){return fW.apply(this,arguments)}function fW(){return(fW=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vq(t,"GET","/v2/recaptchaConfig",pq(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hW(e){return void 0!==e&&void 0!==e.enterprise}var dW=g((function e(t){if(d(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function pW(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=eq("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function vW(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var mW=function(){function e(t){d(this,e),this.type="recaptcha-enterprise",this.auth=wW(t)}return g(e,[{key:"verify",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;hW(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=ft(ct().mark((function e(n,r){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lW(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new dW(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&hW(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));pW("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gW(e,t,n){return yW.apply(this,arguments)}function yW(){return yW=ft(ct().mark((function e(t,n,r){var i,a,o,s,u=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new mW(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),yW.apply(this,arguments)}var kW=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ft(ct().mark((function e(t){var n,r,i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=S(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=S(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bW=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xW(this),this.idTokenSubscription=new xW(this),this.beforeStateQueue=new kW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Gq(t)),this._initializationPromise=this.queue(ft(ct().mark((function r(){var i,a;return ct().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Xq.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ft(ct().mark((function e(t){var n,r,i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return rq(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jq(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?jz(t):null)&&rq(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ft(ct().mark((function e(t){var n,r=this,i=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&rq(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ft(ct().mark((function n(){return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Gq(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=ft(ct().mark((function e(){var t,n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lW(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new dW(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new mW(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Nz("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return rq(n=t&&Gq(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Xq.create(this,[Gq(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ft(ct().mark((function e(t){var n=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return rq(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return rq(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cW(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$e({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ft(ct().mark((function e(){var t,n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Xz("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wW(e){return jz(e)}var xW=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Lz(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return rq(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var _W=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return iq("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return iq("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return iq("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return iq("not implemented")}}]),e}();function EW(e,t){return TW.apply(this,arguments)}function TW(){return(TW=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vq(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IW(e,t){return SW.apply(this,arguments)}function SW(){return(SW=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kq(t,"POST","/v1/accounts:signInWithPassword",pq(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CW(e,t){return AW.apply(this,arguments)}function AW(){return(AW=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kq(t,"POST","/v1/accounts:signInWithEmailLink",pq(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NW(e,t){return OW.apply(this,arguments)}function OW(){return(OW=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kq(t,"POST","/v1/accounts:signInWithEmailLink",pq(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var RW=function(e){k(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ft(ct().mark((function e(t){var n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,gW(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",IW(t,i));case 11:return e.abrupt("return",IW(t,r).catch(function(){var e=ft(ct().mark((function e(n){var i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,gW(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",IW(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",CW(t,{email:this._email,oobCode:this._password}));case 13:Zz(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",EW(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",NW(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Zz(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(_W);function PW(e,t){return DW.apply(this,arguments)}function DW(){return(DW=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kq(t,"POST","/v1/accounts:signInWithIdp",pq(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LW=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return PW(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,PW(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,PW(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rz(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zz("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Fz(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(_W);function MW(e,t){return jW.apply(this,arguments)}function jW(){return(jW=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vq(t,"POST","/v1/accounts:sendVerificationCode",pq(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FW(){return(FW=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kq(t,"POST","/v1/accounts:signInWithPhoneNumber",pq(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UW(){return(UW=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kq(t,"POST","/v1/accounts:signInWithPhoneNumber",pq(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw _q(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var VW=$e({},"USER_NOT_FOUND","user-not-found");function BW(){return(BW=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",kq(t,"POST","/v1/accounts:signInWithPhoneNumber",pq(t,r),VW));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zW=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return FW.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return UW.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return BW.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(_W);var qW=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=Pz(Dz(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);rq(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Pz(Dz(e)).link,n=t?Pz(Dz(t)).deep_link_id:null,r=Pz(Dz(e)).deep_link_id;return(r?Pz(Dz(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Qy){return null}}}]),e}();var WW=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return RW._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qW.parseLink(t);return rq(n,"argument-error"),RW._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();WW.PROVIDER_ID="password",WW.EMAIL_PASSWORD_SIGN_IN_METHOD="password",WW.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var HW=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),KW=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(HW),GW=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return LW._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Qy){return null}}}]),n}(KW);GW.FACEBOOK_SIGN_IN_METHOD="facebook.com",GW.PROVIDER_ID="facebook.com";var QW=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return LW._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Qy){return null}}}]),n}(KW);QW.GOOGLE_SIGN_IN_METHOD="google.com",QW.PROVIDER_ID="google.com";var YW=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return LW._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Qy){return null}}}]),n}(KW);YW.GITHUB_SIGN_IN_METHOD="github.com",YW.PROVIDER_ID="github.com";var JW=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return LW._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Qy){return null}}}]),n}(KW);JW.TWITTER_SIGN_IN_METHOD="twitter.com",JW.PROVIDER_ID="twitter.com";var XW=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ft(ct().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Hq._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=$W(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ft(ct().mark((function t(n,r,i){var a;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=$W(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function $W(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var ZW=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Az);function eH(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ZW._fromErrorAndOperation(e,n,t,r);throw n}))}function tH(e,t){return nH.apply(this,arguments)}function nH(){return nH=ft(ct().mark((function e(t,n){var r,i,a=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Rq,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",XW._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),nH.apply(this,arguments)}function rH(e,t){return iH.apply(this,arguments)}function iH(){return iH=ft(ct().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Rq(t,eH(i,a,n,t),r);case 6:return rq((o=e.sent).idToken,i,"internal-error"),rq(s=Oq(o.idToken),i,"internal-error"),u=s.sub,rq(t.uid===u,i,"user-mismatch"),e.abrupt("return",XW._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Zz(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),iH.apply(this,arguments)}function aH(e,t){return oH.apply(this,arguments)}function oH(){return oH=ft(ct().mark((function e(t,n){var r,i,a,o,s=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,eH(t,i,n);case 4:return a=e.sent,e.next=7,XW._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),oH.apply(this,arguments)}function sH(e,t){return vq(e,"POST","/v2/accounts/mfaEnrollment:start",pq(e,t))}function uH(e,t){return vq(e,"POST","/v2/accounts/mfaEnrollment:finalize",pq(e,t))}new WeakMap;var cH="__sak",lH=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(cH,"1"),this.storage.removeItem(cH),Promise.resolve(!0)):Promise.resolve(!1)}catch(Qy){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fH=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Cz();return eW(e)||oW(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=uW(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);sW()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ft(ct().mark((function e(t,r){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jr(b(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ft(ct().mark((function e(t){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jr(b(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jr(b(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(lH);fH.type="LOCAL";var hH=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(lH);hH.type="SESSION";function dH(e){return Promise.all(e.map(function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var pH=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ft(ct().mark((function e(t){var n,r,i,a,o,s,u,c;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,dH(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function vH(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pH.receivers=[];var mH=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ft(ct().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=vH("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function gH(){return window}function yH(){return"undefined"!==typeof gH().WorkerGlobalScope&&"function"===typeof gH().importScripts}function kH(){return bH.apply(this,arguments)}function bH(){return(bH=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wH(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var xH="firebaseLocalStorageDb",_H="firebaseLocalStorage",EH="fbase_key",TH=function(){function e(t){d(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function IH(e,t){return e.transaction([_H],t?"readwrite":"readonly").objectStore(_H)}function SH(){var e=indexedDB.deleteDatabase(xH);return new TH(e).toPromise()}function CH(){var e=indexedDB.open(xH,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(_H,{keyPath:EH})}catch(r){n(r)}})),e.addEventListener("success",ft(ct().mark((function n(){var r;return ct().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(_H)){n.next=12;break}return r.close(),n.next=5,SH();case 5:return n.t0=t,n.next=8,CH();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function AH(e,t,n){return NH.apply(this,arguments)}function NH(){return NH=ft(ct().mark((function e(t,n,r){var i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=IH(t,!0).put($e($e({},EH,n),"value",r)),e.abrupt("return",new TH(i).toPromise());case 2:case"end":return e.stop()}}),e)}))),NH.apply(this,arguments)}function OH(e,t){return RH.apply(this,arguments)}function RH(){return RH=ft(ct().mark((function e(t,n){var r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=IH(t,!1).get(n),e.next=3,new TH(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),RH.apply(this,arguments)}function PH(e,t){var n=IH(e,!0).delete(t);return new TH(n).toPromise()}var DH=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,CH();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yH()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ft(ct().mark((function e(){var t=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=pH._getInstance(yH()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ft(ct().mark((function e(n,r){var i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ft(ct().mark((function e(t,n){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ft(ct().mark((function e(){var t,n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kH();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new mH(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wH()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,CH();case 5:return t=e.sent,e.next=8,AH(t,cH,"1");case 8:return e.next=10,PH(t,cH);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ft(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ft(ct().mark((function e(t,n){var r=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return AH(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return OH(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ft(ct().mark((function e(t){var n=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ft(ct().mark((function e(){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return PH(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ft(ct().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=IH(e,!1).getAll();return new TH(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=S(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ft(ct().mark((function t(){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();DH.type="LOCAL";function LH(e,t){return vq(e,"POST","/v2/accounts/mfaSignIn:start",pq(e,t))}function MH(e,t){return vq(e,"POST","/v2/accounts/mfaSignIn:finalize",pq(e,t))}vW("rcb"),new cq(3e4,6e4);var jH="recaptcha";function FH(e,t,n){return UH.apply(this,arguments)}function UH(){return UH=ft(ct().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,rq("string"===typeof a,t,"argument-error"),rq(r.type===jH,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return rq("enroll"===s.type,t,"internal-error"),e.next=13,sH(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return rq("signin"===s.type,t,"internal-error"),rq(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,LH(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,MW(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),UH.apply(this,arguments)}var VH=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=wW(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return FH(this.auth,e,jz(t))}}],[{key:"credential",value:function(e,t){return zW._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?zW._fromTokenResponse(n,r):null}}]),e}();VH.PROVIDER_ID="phone",VH.PHONE_SIGN_IN_METHOD="phone";var BH=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return PW(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return PW(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return PW(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(_W);function zH(e){return aH(e.auth,new BH(e),e.bypassAuthState)}function qH(e){var t=e.auth,n=e.user;return rq(n,t,"internal-error"),rH(n,new BH(e),e.bypassAuthState)}function WH(e){return HH.apply(this,arguments)}function HH(){return(HH=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,rq(r=t.user,n,"internal-error"),e.abrupt("return",tH(r,new BH(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var KH=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ft(ct().mark((function t(n,r){return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ft(ct().mark((function e(t){var n,r,i,a,o,s,u;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zH;case"linkViaPopup":case"linkViaRedirect":return WH;case"reauthViaPopup":case"reauthViaRedirect":return qH;default:Zz(this.auth,"internal-error")}}},{key:"resolve",value:function(e){aq(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){aq(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),GH=new cq(2e3,1e4);var QH=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(s),s}return g(n,[{key:"executeNotNull",value:function(){var e=ft(ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return rq(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ft(ct().mark((function e(){var t,n=this;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aq(1===this.filter.length,"Popup operations only handle one event"),t=vH(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(eq(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(eq(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(eq(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,GH.get())}()}}]),n}(KH);QH.currentPopupAction=null;new Map;new cq(3e4,6e4);new cq(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);encodeURIComponent("fac");var YH=function(){function e(t){d(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return iq("unexpected MultiFactorSessionType")}}}]),e}(),JH=function(e){k(n,e);var t=_(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return vq(e,"POST","/v2/accounts/mfaEnrollment:finalize",pq(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return vq(e,"POST","/v2/accounts/mfaSignIn:finalize",pq(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(YH),XH=function(){function e(){d(this,e)}return g(e,null,[{key:"assertion",value:function(e){return JH._fromCredential(e)}}]),e}();XH.FACTOR_ID="phone";var $H=function(){function e(){d(this,e)}return g(e,null,[{key:"assertionForEnrollment",value:function(e,t){return ZH._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return ZH._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=ft(ct().mark((function e(t){var n,r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rq("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},vq(i,"POST","/v2/accounts/mfaEnrollment:start",pq(i,a));case 4:return r=e.sent,e.abrupt("return",eK._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();$H.FACTOR_ID="totp";var ZH=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return g(n,[{key:"_finalizeEnroll",value:function(){var e=ft(ct().mark((function e(t,n,r){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rq("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",uH(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=ft(ct().mark((function e(t,n){var r;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rq(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",MH(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(YH),eK=function(){function e(t,n,r,i,a,o,s){d(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(tK(e)||tK(t))&&(r=!0),r&&(tK(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),tK(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function tK(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var nK="@firebase/auth",rK="0.23.2",iK=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ft(ct().mark((function e(t){var n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){rq(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();!function(e){var t;null===(t=Sz())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");!function(e){yn(new vt("auth",(function(t,n){var r=n.options,i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),s=i.options,u=s.apiKey,c=s.authDomain;rq(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});var l={apiKey:u,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cW(e)},f=new bW(i,a,o,l);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gq);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(f,r),f}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),yn(new vt("auth-internal",(function(e){return function(e){return new iK(e)}(wW(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),On(nK,rK,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),On(nK,rK,"esm2017")}("Browser");var aK=function(){var e=l(r.useState("register"),2),t=e[0],n=e[1],i=l(r.useState(""),2),a=i[0],o=i[1],s=l(r.useState(""),2),u=s[0],c=s[1],f=we(),h=l(r.useState(""),2),d=h[0],p=h[1],v=l(r.useState(!1),2),m=v[0],g=v[1];return(0,mN.jsxs)(RV,{children:[(0,mN.jsxs)(AV,{widths:"2",children:[(0,mN.jsx)(AV.Item,{active:"register"===t,onClick:function(){p(""),n("register")},children:"\u8a3b\u518a"}),(0,mN.jsx)(AV.Item,{active:"signin"===t,onClick:function(){p(""),n("signin")},children:"\u767b\u5165"})]}),(0,mN.jsxs)(hz,{onSubmit:function(){g(!0),"register"===t?lr.auth().createUserWithEmailAndPassword(a,u).then((function(){f("/"),g(!1)})).catch((function(e){switch(e.code){case"auth/email-already-in-use":p("\u4fe1\u7bb1\u5df2\u5b58\u5728");break;case"auth/invalid-email":p("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/weak-password":p("\u5bc6\u78bc\u5f37\u5ea6\u4e0d\u8db3")}})):"signin"===t&&lr.auth().signInWithEmailAndPassword(a,u).then((function(){f("/"),g(!1)})).catch((function(e){var t=e.code;switch(console.log(t),t){case"auth/invalid-email":p("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/internal-error":p("\u6b64\u4fe1\u7bb1\u5c1a\u672a\u8a3b\u518a \u6216 \u5bc6\u78bc\u932f\u8aa4"),g(!1)}}))},children:[(0,mN.jsx)(hz.Input,{label:"\u4fe1\u7bb1",value:a,onChange:function(e){return o(e.target.value)},placeholder:"\u8acb\u8f38\u5165\u4fe1\u7bb1"}),(0,mN.jsx)(hz.Input,{label:"\u5bc6\u78bc",value:u,onChange:function(e){return c(e.target.value)},placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",type:"password"}),d&&(0,mN.jsx)(wz,{negative:!0,children:d}),(0,mN.jsxs)(hz.Button,{loading:m,children:["register"===t&&"\u8a3b\u518a","signin"===t&&"\u767b\u5165"]})]})]})};function oK(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function sK(){return sK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sK.apply(this,arguments)}var uK={exports:{}};!function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(O){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=y.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=y,u(x,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(uK);var cK=uK.exports,lK=function(e){var t=e.paths,n=e.id,i=e.strokeWidth,a=e.strokeColor,o=e.command,s=void 0===o?hK:o;if(1===t.length){var u=t[0],c=u.x,l=u.y,f=i/2;return r.createElement("circle",{key:n,id:n,cx:c,cy:l,r:f,stroke:a,fill:a})}var h=t.reduce((function(e,t,n,r){return 0===n?"M "+t.x+","+t.y:e+" "+s(t,n,r)}),"");return r.createElement("path",{key:n,id:n,d:h,fill:"none",strokeLinecap:"round",stroke:a,strokeWidth:i})},fK=function(e){var t=e.current,n=e.next,r=e.previous,i=e.reverse,a=function(e,t){var n=t.x-e.x,r=t.y-e.y;return{length:Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),angle:Math.atan2(r,n)}}(r||t,n||t),o=a.angle+(i?Math.PI:0),s=.2*a.length;return[t.x+Math.cos(o)*s,t.y+Math.sin(o)*s]},hK=function(e,t,n){var r=null,i=null;switch(t){case 0:var a=fK({current:e});r=a[0],i=a[1];break;case 1:var o=fK({current:n[t-1],next:e});r=o[0],i=o[1];break;default:var s=fK({current:n[t-1],previous:n[t-2],next:e});r=s[0],i=s[1]}var u=fK({current:e,previous:n[t-1],next:n[t+1],reverse:!0});return"C "+r+","+i+" "+u[0]+","+u[1]+" "+e.x+", "+e.y},dK=function(e){var t=e.id,n=e.paths;return r.createElement(r.Fragment,null,n.map((function(e,n){return r.createElement(lK,{key:t+"__"+n,paths:e.paths,id:t+"__"+n,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,command:hK})})))},pK=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){r.width>0&&t(r),n("Image not found")})),r.addEventListener("error",(function(e){return n(e)})),r.src=e,r.setAttribute("crossorigin","anonymous")}))};function vK(e){var t,n=null==(t=e.firstChild)?void 0:t.cloneNode(!0),r=e.offsetWidth,i=e.offsetHeight;return n.setAttribute("viewBox","0 0 "+r+" "+i),n.setAttribute("width",r.toString()),n.setAttribute("height",i.toString()),{svgCanvas:n,width:r,height:i}}var mK=r.forwardRef((function(e,t){var n=e.paths,i=e.isDrawing,a=e.onPointerDown,o=e.onPointerMove,s=e.onPointerUp,u=e.id,c=void 0===u?"react-sketch-canvas":u,l=e.width,f=void 0===l?"100%":l,h=e.height,d=void 0===h?"100%":h,p=e.className,v=void 0===p?"react-sketch-canvas":p,m=e.canvasColor,g=void 0===m?"red":m,y=e.backgroundImage,k=void 0===y?"":y,b=e.exportWithBackgroundImage,w=void 0!==b&&b,x=e.preserveBackgroundImageAspectRatio,_=void 0===x?"none":x,E=e.allowOnlyPointerType,T=void 0===E?"all":E,I=e.style,S=void 0===I?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:I,C=e.svgStyle,A=void 0===C?{}:C,N=r.useRef(null),O=function(e){var t,n,r,i=null==(t=N.current)?void 0:t.getBoundingClientRect(),a=null!=(n=window.scrollX)?n:0,o=null!=(r=window.scrollY)?r:0;return i?{x:e.pageX-i.left-a,y:e.pageY-i.top-o}:{x:0,y:0}},R=function(e){"mouse"===e.pointerType&&0!==e.button||"all"!==T&&e.pointerType!==T||s()};r.useImperativeHandle(t,(function(){return{exportImage:function(e){return new Promise(function(){var t=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){oK(a,r,i,o,s,"next",e)}function s(e){oK(a,r,i,o,s,"throw",e)}o(void 0)}))}}(cK.mark((function t(n,r){var i,a,o,s,u,c,l,f;return cK.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=N.current){t.next=4;break}throw Error("Canvas not rendered yet");case 4:return a=vK(i),o=a.svgCanvas,s=a.width,u=a.height,c="data:image/svg+xml;base64,"+btoa(o.outerHTML),t.next=8,pK(c);case 8:if(t.t0=t.sent,l=[t.t0],!w){t.next=21;break}return t.prev=11,t.next=14,pK(k);case 14:f=t.sent,l.push(f),t.next=21;break;case 18:t.prev=18,t.t1=t.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(l).then((function(t){var r=document.createElement("canvas");r.setAttribute("width",s.toString()),r.setAttribute("height",u.toString());var i=r.getContext("2d");if(!i)throw Error("Canvas not rendered yet");t.reverse().forEach((function(e){i.drawImage(e,0,0)})),n(r.toDataURL("image/"+e))})).catch((function(e){throw e})),t.next=27;break;case 24:t.prev=24,t.t2=t.catch(0),r(t.t2);case 27:case"end":return t.stop()}}),t,null,[[0,24],[11,18]])})));return function(e,n){return t.apply(this,arguments)}}())},exportSvg:function(){return new Promise((function(e,t){try{var n,r=null!=(n=N.current)?n:null;if(null!==r){var i,a,o=vK(r).svgCanvas;if(w)return void e(o.outerHTML);null==(i=o.querySelector("#"+c+"__background"))||i.remove(),null==(a=o.querySelector("#"+c+"__canvas-background"))||a.setAttribute("fill",g),e(o.outerHTML)}t(new Error("Canvas not loaded"))}catch(s){t(s)}}))}}})),r.useEffect((function(){return document.addEventListener("pointerup",R),function(){document.removeEventListener("pointerup",R)}}),[R]);var P=n.filter((function(e){return!e.drawMode})),D=0,L=n.reduce((function(e,t){return t.drawMode?(void 0===e[D]&&(e[D]=[]),e[D].push(t),e):(D+=1,e)}),[[]]);return r.createElement("div",{role:"presentation",ref:N,className:v,style:sK({touchAction:"none",width:f,height:d},S),"touch-action":"none",onPointerDown:function(e){if(("all"===T||e.pointerType===T)&&("mouse"!==e.pointerType||0===e.button)){var t=O(e);a(t)}},onPointerMove:function(e){if(i&&("all"===T||e.pointerType===T)){var t=O(e);o(t)}},onPointerUp:R},r.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:sK({width:"100%",height:"100%"},A),id:c},r.createElement("g",{id:c+"__eraser-stroke-group",display:"none"},r.createElement("rect",{id:c+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),P.map((function(e,t){return r.createElement(lK,{key:c+"__eraser-"+t,id:c+"__eraser-"+t,paths:e.paths,strokeColor:"#000000",strokeWidth:e.strokeWidth})}))),r.createElement("defs",null,k&&r.createElement("pattern",{id:c+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},r.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:k,preserveAspectRatio:_})),P.map((function(e,t){return r.createElement("mask",{id:c+"__eraser-mask-"+t,key:c+"__eraser-mask-"+t,maskUnits:"userSpaceOnUse"},r.createElement("use",{href:"#"+c+"__mask-background"}),Array.from({length:P.length-t},(function(e,n){return n+t})).map((function(e){return r.createElement("use",{key:e.toString(),href:"#"+c+"__eraser-"+e.toString()})})))}))),r.createElement("g",{id:c+"__canvas-background-group"},r.createElement("rect",{id:c+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:k?"url(#"+c+"__background)":g})),L.map((function(e,t){return r.createElement("g",{id:c+"__stroke-group-"+t,key:c+"__stroke-group-"+t,mask:"url(#"+c+"__eraser-mask-"+t+")"},r.createElement(dK,{id:c,paths:e}))}))))})),gK=r.forwardRef((function(e,t){var n=e.id,i=void 0===n?"react-sketch-canvas":n,a=e.width,o=void 0===a?"100%":a,s=e.height,u=void 0===s?"100%":s,c=e.className,l=void 0===c?"":c,f=e.canvasColor,h=void 0===f?"white":f,d=e.strokeColor,p=void 0===d?"red":d,v=e.backgroundImage,m=void 0===v?"":v,g=e.exportWithBackgroundImage,y=void 0!==g&&g,k=e.preserveBackgroundImageAspectRatio,b=void 0===k?"none":k,w=e.strokeWidth,x=void 0===w?4:w,_=e.eraserWidth,E=void 0===_?8:_,T=e.allowOnlyPointerType,I=void 0===T?"all":T,S=e.style,C=void 0===S?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:S,A=e.svgStyle,N=void 0===A?{}:A,O=e.onChange,R=void 0===O?function(e){}:O,P=e.onStroke,D=void 0===P?function(e,t){}:P,L=e.withTimestamp,M=void 0!==L&&L,j=r.createRef(),F=r.useState(!0),U=F[0],V=F[1],B=r.useState(!1),z=B[0],q=B[1],W=r.useState([]),H=W[0],K=W[1],G=r.useState([]),Q=G[0],Y=G[1],J=r.useState([]),X=J[0],$=J[1],Z=r.useCallback((function(){var e,t,n=null!=(e=null==(t=X.slice(-1))?void 0:t[0])?e:null;null!==n?D(n,!n.drawMode):console.warn("No stroke found!")}),[z]);r.useEffect((function(){Z()}),[z]),r.useEffect((function(){R(X)}),[X]),r.useImperativeHandle(t,(function(){return{eraseMode:function(e){V(!e)},clearCanvas:function(){K([].concat(X)),$([])},undo:function(){if(0!==H.length)return $([].concat(H)),void K([]);Y((function(e){return[].concat(e,X.slice(-1))})),$((function(e){return e.slice(0,-1)}))},redo:function(){0!==Q.length&&($((function(e){return[].concat(e,Q.slice(-1))})),Y((function(e){return e.slice(0,-1)})))},exportImage:function(e){var t,n=null==(t=j.current)?void 0:t.exportImage;if(n)return n(e);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise((function(e,t){var n,r=null==(n=j.current)?void 0:n.exportSvg;r?r().then((function(t){e(t)})).catch((function(e){t(e)})):t(Error("Export function called before canvas loaded"))}))},exportPaths:function(){return new Promise((function(e,t){try{e(X)}catch(n){t(n)}}))},loadPaths:function(e){$((function(t){return[].concat(t,e)}))},getSketchingTime:function(){return new Promise((function(e,t){M||t(new Error("Set 'withTimestamp' prop to get sketching time"));try{e(X.reduce((function(e,t){var n,r,i=null!=(n=t.startTimestamp)?n:0;return e+((null!=(r=t.endTimestamp)?r:0)-i)}),0))}catch(n){t(n)}}))},resetCanvas:function(){K([]),Y([]),$([])}}}));return r.createElement(mK,{ref:j,id:i,width:o,height:u,className:l,canvasColor:h,backgroundImage:m,exportWithBackgroundImage:y,preserveBackgroundImageAspectRatio:b,allowOnlyPointerType:I,style:C,svgStyle:N,paths:X,isDrawing:z,onPointerDown:function(e){q(!0),Y([]);var t={drawMode:U,strokeColor:U?p:"#000000",strokeWidth:U?x:E,paths:[e]};M&&(t=sK({},t,{startTimestamp:Date.now(),endTimestamp:0})),$((function(e){return[].concat(e,[t])}))},onPointerMove:function(e){if(z){var t=X.slice(-1)[0],n=sK({},t,{paths:[].concat(t.paths,[e])});$((function(e){return[].concat(e.slice(0,-1),[n])}))}},onPointerUp:function(){var e,t;if(z&&(q(!1),M)){var n=null!=(e=null==(t=X.slice(-1))?void 0:t[0])?e:null;if(null!==n){var r=sK({},n,{endTimestamp:Date.now()});$((function(e){return[].concat(e.slice(0,-1),[r])}))}}}})})),yK=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},kK={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(yK(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new bK;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},bK=function(e){k(n,e);var t=_(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(T(Error)),wK=function(e){return function(e){var t=yK(e);return kK.encodeByteArray(t,!0)}(e).replace(/\./g,"")},xK=function(e){try{return kK.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var _K=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},EK=function(){try{return _K()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&xK(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},TK=function(e){var t=function(e){var t,n;return null===(n=null===(t=EK())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}};function IK(){var e,t=null===(e=EK())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}var SK=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),CK.prototype.create),a}return g(n)}(T(Error)),CK=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(AK,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new SK(n,a,t)}}]),e}();var AK=/\{\$([^}]+)}/g;function NK(e){return e&&e._delegate?e._delegate:e}var OK,RK="firebasestorage.googleapis.com",PK="storageBucket",DK=function(e){k(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,LK(e),"Firebase Storage: ".concat(r," (").concat(LK(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(x(i),n.prototype),i}return g(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return LK(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(SK);function LK(e){return"storage/"+e}function MK(){return new DK(OK.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function jK(){return new DK(OK.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FK(){return new DK(OK.CANCELED,"User canceled the upload/download.")}function UK(){return new DK(OK.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VK(e){return new DK(OK.INVALID_ARGUMENT,e)}function BK(){return new DK(OK.APP_DELETED,"The Firebase app was deleted.")}function zK(e,t){return new DK(OK.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function qK(e){throw new DK(OK.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(OK||(OK={}));var WK,HK=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return g(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new DK(OK.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===RK?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new DK(OK.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),KK=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return g(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function GK(e){return"string"===typeof e||e instanceof String}function QK(e){return YK()&&e instanceof Blob}function YK(){return"undefined"!==typeof Blob&&!IK()}function JK(e,t,n,r){if(r<t)throw VK("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw VK("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function XK(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function $K(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function ZK(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(WK||(WK={}));var eG=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return g(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=MK();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?BK():FK());else i(jK())}};this.canceled_?t(0,new tG(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new tG(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===WK.NO_ERROR,a=r.getStatus();if(!n||ZK(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===WK.ABORT;t(!1,new tG(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new tG(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),tG=g((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function nG(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function rG(){for(var e=nG(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(YK())return new Blob(n);throw new DK(OK.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function iG(e){if("undefined"===typeof atob)throw t="base-64",new DK(OK.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var aG={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},oG=g((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function sG(e,t){switch(e){case aG.RAW:return new oG(uG(t));case aG.BASE64:case aG.BASE64URL:return new oG(cG(e,t));case aG.DATA_URL:return new oG(function(e){var t=new lG(e);return t.base64?cG(aG.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw zK(aG.DATA_URL,"Malformed data URL.")}return uG(t)}(t.rest)}(t),new lG(t).contentType)}throw MK()}function uG(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function cG(e,t){switch(e){case aG.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw zK(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case aG.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw zK(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=iG(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw zK(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var lG=g((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw zK(aG.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var fG=function(){function e(t,n){d(this,e);var r=0,i="";QK(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return g(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(QK(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(YK()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(rG.apply(null,i))}var a=n.map((function(e){return GK(e)?sG(aG.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function hG(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function dG(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function pG(e,t){return t}var vG=g((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||pG})),mG=null;function gG(){if(mG)return mG;var e=[];e.push(new vG("bucket")),e.push(new vG("generation")),e.push(new vG("metageneration")),e.push(new vG("name","fullPath",!0));var t=new vG("name");t.xform=function(e,t){return function(e){return!GK(e)||e.length<2?e:dG(e)}(t)},e.push(t);var n=new vG("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new vG("timeCreated")),e.push(new vG("updated")),e.push(new vG("md5Hash",null,!0)),e.push(new vG("cacheControl",null,!0)),e.push(new vG("contentDisposition",null,!0)),e.push(new vG("contentEncoding",null,!0)),e.push(new vG("contentLanguage",null,!0)),e.push(new vG("contentType",null,!0)),e.push(new vG("metadata","customMetadata",!0)),mG=e}function yG(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new HK(n,r);return t._makeStorageReference(i)}})}(r,e),r}function kG(e,t,n){var r=hG(t);return null===r?null:yG(e,r,n)}function bG(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var wG=g((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function xG(e){if(!e)throw MK()}function _G(e,t){return function(n,r){var i=kG(e,r,t);return xG(null!==i),i}}function EG(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new DK(OK.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new DK(OK.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new DK(OK.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new DK(OK.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function TG(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function IG(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=TG(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bG(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=fG.getBlob(c,r,l);if(null===f)throw UK();var h={name:u.fullPath},d=XK(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new wG(d,"POST",_G(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=EG(t),v}var SG=null,CG=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=WK.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=WK.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=WK.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return g(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw qK("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw qK("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw qK("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw qK("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw qK("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),AG=function(e){k(n,e);var t=_(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(CG);function NG(){return SG?SG():new AG}var OG=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof HK?n:HK.makeFromUrl(n,t.host)}return g(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new HK(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return dG(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new HK(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new DK(OK.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function RG(e,t,n){e._throwIfRoot("uploadBytes");var r=IG(e.storage,e._location,gG(),new fG(t,!0),n);return e.storage.makeRequestWithTokens(r,NG).then((function(t){return{metadata:t,ref:e}}))}function PG(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new HK(e._location.bucket,n);return new OG(e.storage,r)}function DG(e,t){if(e instanceof FG){var n=e;if(null==n._bucket)throw new DK(OK.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PK+"' property when initializing the app?");var r=new OG(n,n._bucket);return null!=t?DG(r,t):r}return void 0!==t?PG(e,t):e}function LG(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof FG)return new OG(e,t);throw VK("To use ref(service, url), the first argument must be a Storage instance.")}return DG(e,t)}function MG(e,t){var n=null===t||void 0===t?void 0:t[PK];return null==n?null:HK.makeFromBucketSpec(n,e)}function jG(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[wK(JSON.stringify({alg:"none",type:"JWT"})),wK(JSON.stringify(a)),""].join(".")}(i,e.app.options.projectId))}var FG=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=RK,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?HK.makeFromBucketSpec(i,this._host):MG(this._host,this.app.options)}return g(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=HK.makeFromBucketSpec(this._url,e):this._bucket=MG(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){JK("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){JK("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ft(ct().mark((function e(){var t,n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ft(ct().mark((function e(){var t,n;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new OG(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new KK(BK());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=$K(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new eG(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=ft(ct().mark((function e(t,n){var r,i,a,o;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),UG="@firebase/storage",VG="0.11.2",BG="storage";function zG(e,t,n){return RG(e=NK(e),t,n)}function qG(e,t,n){jG(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function WG(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new FG(r,i,a,n,Tn)}yn(new vt(BG,WG,"PUBLIC").setMultipleInstances(!0)),On(UG,VG,""),On(UG,VG,"esm2017");var HG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn(),t=arguments.length>1?arguments[1]:void 0,n=kn(e=NK(e),BG).getImmediate({identifier:t}),r=TK("storage");return r&&qG.apply(void 0,[n].concat(h(r))),n}();function KG(e){var t=e.fieldName,n=e.type,r=void 0===n?"text":n,i=e.canvasProps,a=e.setCanvasProps,o=e.displayName,s="validation".concat(t);return(0,mN.jsxs)("div",{className:"p-0 col-10",children:[(0,mN.jsx)("label",{htmlFor:s,className:"form-label",children:o}),(0,mN.jsx)("input",{name:t,type:r,className:"form-control",id:s,value:i[t],onChange:function(e){var n=e.target;a((function(e){return Bt(Bt({},e),{},$e({},t,n.value))}))},min:1,max:30})]})}var GG=function(){var e=l(r.useState(""),2),t=e[0],n=e[1],i=l(r.useState(null),2),a=i[0],o=i[1];r.useEffect((function(){var e=window.location.href.lastIndexOf("=")+1,t=window.location.href.substring(e);n(t);var r,i,a=window.location.href.lastIndexOf("/")+1,s=window.location.href.substring(a),u=(r=HG,i="svgs/".concat(s+".svg"),LG(r=NK(r),i));o(u)}),[]);var s=l(r.useState({className:"react-sketch-canvas",width:"100%",height:"450PX",backgroundImage:"https://upload.wikimedia.org/wikipedia/commons/7/70/Graph_paper_scan_1600x1000_%286509259561%29.jpg",preserveBackgroundImageAspectRatio:"none",strokeWidth:4,eraserWidth:5,strokeColor:"#000000",canvasColor:"#FFFFFF",style:{borderRight:"1px solid #CCC"},svgStyle:{},exportWithBackgroundImage:!1,withTimestamp:!0,allowOnlyPointerType:"all",withViewBox:!1}),2),u=s[0],c=s[1],f=r.createRef(),h=l(r.useState(""),2),d=h[0],p=h[1],v=l(r.useState("outline-"),2),m=v[0],g=v[1],y=l(r.useState(""),2),k=(y[0],y[1],l(r.useState(""),2)),b=(k[0],k[1]),w=l(r.useState([]),2),x=(w[0],w[1]),_=l(r.useState({stroke:null,isEraser:null}),2),E=(_[0],_[1]),T=l(r.useState("png"),2),I=(T[0],T[1],l((0,r.useState)(!1),2)),S=I[0],C=I[1],A=function(){var e=ft(ct().mark((function e(){var t,n,r,i;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null===(t=f.current)||void 0===t?void 0:t.exportSvg)){e.next=10;break}return e.next=4,n();case 4:r=e.sent,b(r),C(!0),r=r.replace('<rect id="react-sketch-canvas__mask-background" x="0" y="0" width="100%" height="100%" fill="white"></rect></g><defs></defs><g id="react-sketch-canvas__canvas-background-group"><rect id="react-sketch-canvas__canvas-background" x="0" y="0" width="100%" height="100%" fill="#FFFFFF"></rect>',""),i=new Blob([r],{type:"image/svg+xml"}),zG(a,i).then((function(e){console.log("SVG upload to Firebase succeed")})).catch((function(e){console.error("SVG upload to Firebase failed",e)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e,t,n,r,i){return(0,mN.jsx)("button",{className:"btn btn-".concat(r).concat(n," ").concat(i," mb-3 btn-lg"),type:"button",onClick:t,children:e},e)},O=[["\u756b\u7b46",function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.eraseMode;t&&(p(""),g("outline-"),t(!1))},"primary",d,""],["\u6a61\u76ae\u64e6",function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.eraseMode;t&&(p("outline-"),g(""),t(!0))},"primary",m,"mr-3"]],R=[["\u5fa9\u539f",function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.undo;t&&t()},"secondary","outline-",""],["\u53d6\u6d88\u5fa9\u539f",function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.redo;t&&t()},"secondary","outline-",""],["\u6e05\u9664\u5168\u90e8",function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.clearCanvas;t&&t()},"secondary","outline-",""],["\u91cd\u7f6e",function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.resetCanvas;t&&t()},"secondary","outline-","mr-3"]],P=[["\u5b8c\u6210",A,"success","","mr-3"]],D=[["\u4e0b\u4e00\u6b65",function(){S?window.location.href="/Avatar-classroom/#".concat(t):alert("\u8acb\u5148\u756b\u5716\u4e26\u6309\u5b8c\u6210")},"success","","mr-3"]];return(0,mN.jsx)("main",{className:"container-fluid p-2 justify-content-center",children:(0,mN.jsx)("div",{className:"row",children:(0,mN.jsxs)("section",{className:"col-12",children:[(0,mN.jsx)("div",{class:"row justify-content-center",children:(0,mN.jsx)("h1",{children:"\u756b\u51fa\u4f60\u7684\u865b\u64ec\u5316\u8eab"})}),(0,mN.jsx)("section",{className:"row no-gutters canvas-area m-1 p-0",children:(0,mN.jsx)("div",{className:"col-12 canvas p-0",children:(0,mN.jsx)(gK,Bt({ref:f,onChange:function(e){x(e)},onStroke:function(e,t){return E({stroke:e,isEraser:t})}},u))})}),(0,mN.jsx)("form",{className:"d-flex flex-column align-items-center",children:(0,mN.jsxs)("div",{class:"row justify-content-center",children:[(0,mN.jsx)("div",{className:"col-12 panel d-flex flex-column align-items-center mt-2",children:(0,mN.jsx)("div",{class:"btn-group",role:"group","aria-label":"buttonsWithHandlers",children:R.map((function(e){var t=l(e,5),n=t[0],r=t[1],i=t[2],a=t[3],o=t[4];return N(n,r,i,a,o)}))})}),(0,mN.jsx)("div",{className:"col-12 panel d-flex flex-column align-items-center",children:(0,mN.jsxs)("div",{children:[(0,mN.jsx)("div",{class:"btn-group",role:"group","aria-label":"buttonsPenEraser",children:O.map((function(e){var t=l(e,5),n=t[0],r=t[1],i=t[2],a=t[3],o=t[4];return N(n,r,i,a,o)}))}),(0,mN.jsx)("div",{class:"btn-group",role:"group","aria-label":"buttonsDone",children:P.map((function(e){var t=l(e,5),n=t[0],r=t[1],i=t[2],a=t[3],o=t[4];return N(n,r,i,a,o)}))}),(0,mN.jsx)("div",{class:"btn-group",role:"group","aria-label":"buttonsNext",children:D.map((function(e){var t=l(e,5),n=t[0],r=t[1],i=t[2],a=t[3],o=t[4];return N(n,r,i,a,o)}))})]})}),(0,mN.jsx)("div",{className:"col-10 d-flex flex-column align-items-center",children:[["strokeWidth","range","\u756b\u7b46\u7c97\u7d30"],["eraserWidth","range","\u6a61\u76ae\u64e6\u7c97\u7d30"]].map((function(e){var t=l(e,3),n=t[0],r=t[1],i=t[2];return(0,mN.jsx)(KG,{fieldName:n,displayName:i,type:r,canvasProps:u,setCanvasProps:c},n)}))})]})})]})})})};function QG(e){var t=e.children,n=e.className,i=e.content,a=TO("sub header",n),o=LO(QG,e),s=MO(QG,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?i:t)}QG.handledProps=["as","children","className","content"],QG.propTypes={},QG.create=wP(QG,(function(e){return{content:e}}));var YG=QG;function JG(e){var t=e.children,n=e.className,i=e.content,a=TO("content",n),o=LO(JG,e),s=MO(JG,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?i:t)}JG.handledProps=["as","children","className","content"],JG.propTypes={};var XG=JG;function $G(e){var t=e.attached,n=e.block,i=e.children,a=e.className,o=e.color,s=e.content,u=e.disabled,c=e.dividing,l=e.floated,f=e.icon,h=e.image,d=e.inverted,p=e.size,v=e.sub,m=e.subheader,g=e.textAlign,y=TO("ui",o,p,CO(n,"block"),CO(u,"disabled"),CO(c,"dividing"),AO(l,"floated"),CO(!0===f,"icon"),CO(!0===h,"image"),CO(d,"inverted"),CO(v,"sub"),NO(t,"attached"),RO(g),"header",a),k=LO($G,e),b=MO($G,e);if(!XM(i))return r.createElement(b,fr({},k,{className:y}),i);var w=rj.create(f,{autoGenerateKey:!1}),x=Ij.create(h,{autoGenerateKey:!1}),_=YG.create(m,{autoGenerateKey:!1});return w||x?r.createElement(b,fr({},k,{className:y}),w||x,(s||_)&&r.createElement(XG,null,s,_)):r.createElement(b,fr({},k,{className:y}),s,_)}$G.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],$G.propTypes={},$G.Content=XG,$G.Subheader=YG;var ZG=$G;function eQ(e){var t=e.children,n=e.className,i=e.compact,a=e.content,o=e.horizontal,s=e.piled,u=e.raised,c=e.size,l=e.stacked,f=TO("ui",c,CO(i,"compact"),CO(o,"horizontal"),CO(s,"piled"),CO(u,"raised"),CO(l,"stacked"),"segments",n),h=LO(eQ,e),d=MO(eQ,e);return r.createElement(d,fr({},h,{className:f}),XM(t)?a:t)}eQ.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],eQ.propTypes={};var tQ=eQ;function nQ(e){var t=e.children,n=e.className,i=e.content,a=TO("inline",n),o=LO(nQ,e),s=MO(nQ,e);return r.createElement(s,fr({},o,{className:a}),XM(t)?i:t)}nQ.handledProps=["as","children","className","content"],nQ.propTypes={};var rQ=nQ;function iQ(e){var t=e.attached,n=e.basic,i=e.children,a=e.circular,o=e.className,s=e.clearing,u=e.color,c=e.compact,l=e.content,f=e.disabled,h=e.floated,d=e.inverted,p=e.loading,v=e.placeholder,m=e.padded,g=e.piled,y=e.raised,k=e.secondary,b=e.size,w=e.stacked,x=e.tertiary,_=e.textAlign,E=e.vertical,T=TO("ui",u,b,CO(n,"basic"),CO(a,"circular"),CO(s,"clearing"),CO(c,"compact"),CO(f,"disabled"),CO(d,"inverted"),CO(p,"loading"),CO(v,"placeholder"),CO(g,"piled"),CO(y,"raised"),CO(k,"secondary"),CO(w,"stacked"),CO(x,"tertiary"),CO(E,"vertical"),NO(t,"attached"),NO(m,"padded"),RO(_),AO(h,"floated"),"segment",o),I=LO(iQ,e),S=MO(iQ,e);return r.createElement(S,fr({},I,{className:T}),XM(i)?l:i)}iQ.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],iQ.Group=tQ,iQ.Inline=rQ,iQ.propTypes={};var aQ=iQ;var oQ=function(e){var t=e.user,n=l(r.useState(!1),2),i=n[0],a=n[1],o=l(r.useState(!1),2),s=o[0],u=o[1],c=l(r.useState(""),2),f=c[0],h=c[1],d=l(r.useState(!1),2),p=d[0],v=d[1],m=l(r.useState(""),2),g=m[0],y=m[1],k=l(r.useState(""),2),b=k[0],w=k[1];return(0,mN.jsxs)(RV,{children:[(0,mN.jsxs)(mN.Fragment,{children:[(0,mN.jsx)(ZG,{children:"\u6211\u7684\u6a94\u6848"}),(0,mN.jsxs)(ZG,{size:"small",children:["\u4f7f\u7528\u8005\u540d\u7a31",(0,mN.jsx)(Uj,{floated:"right",onClick:function(){return a(!0)},children:"\u4fee\u6539"})]}),(0,mN.jsx)(aQ,{vertical:!0,children:t.displayName}),(0,mN.jsxs)(tF,{basic:!0,open:i,size:"mini",children:[(0,mN.jsx)(tF.Header,{children:"\u4fee\u6539\u4f7f\u7528\u8005\u540d\u7a31"}),(0,mN.jsx)(tF.Content,{children:(0,mN.jsx)($B,{placeholder:"\u8f38\u5165\u65b0\u7684\u4f7f\u7528\u8005\u540d\u7a31",value:f,onChange:function(e){return h(e.target.value)},fluid:!0})}),(0,mN.jsxs)(tF.Actions,{children:[(0,mN.jsx)(Uj,{onClick:function(){return a(!1)},children:"\u53d6\u6d88"}),(0,mN.jsx)(Uj,{onClick:function(){v(!0),t.updateProfile({displayName:f}).then((function(){h(""),a(!1),v(!1)}))},loading:p,children:"\u4fee\u6539"})]})]})]}),(0,mN.jsxs)(mN.Fragment,{children:[(0,mN.jsxs)(ZG,{size:"small",children:["\u4fee\u6539\u5bc6\u78bc",(0,mN.jsx)(Uj,{floated:"right",onClick:function(){return u(!0)},children:"\u4fee\u6539"})]}),(0,mN.jsx)(aQ,{vertical:!0,children:"********"}),(0,mN.jsxs)(tF,{basic:!0,size:"mini",open:s,children:[(0,mN.jsx)(tF.Header,{children:"\u4fee\u6539\u4f7f\u7528\u8005\u5bc6\u78bc"}),(0,mN.jsxs)(tF.Content,{children:[(0,mN.jsx)(tF.Header,{size:"small",children:"\u76ee\u524d\u5bc6\u78bc"}),(0,mN.jsx)($B,{placeholder:"\u8f38\u5165\u820a\u5bc6\u78bc",value:g,onChange:function(e){return y(e.target.value)},fluid:!0}),(0,mN.jsx)(ZG,{}),(0,mN.jsx)(tF.Header,{size:"small",children:"\u65b0\u5bc6\u78bc"}),(0,mN.jsx)($B,{placeholder:"\u8f38\u5165\u65b0\u5bc6\u78bc",value:b,onChange:function(e){return w(e.target.value)},fluid:!0})]}),(0,mN.jsxs)(tF.Actions,{children:[(0,mN.jsx)(Uj,{onClick:function(){return u(!1)},children:"\u53d6\u6d88"}),(0,mN.jsx)(Uj,{onClick:function(){v(!0);var e=lr.auth.EmailAuthProvider.credential(t.email,g);t.reauthenticateWithCredential(e).then((function(){t.updatePassword(b).then((function(){u(!1),y(""),w(""),v(!1)}))}))},loading:p,children:"\u4fee\u6539"})]})]})]})]})},sQ="styles_hero_heading__SlFPn",uQ="styles_small_note__DhjVq",cQ={videobox:"RwdYoutube_videobox__oRNS6"};function lQ(e){var t=e.src;return(0,mN.jsx)("div",{className:cQ.videobox,children:(0,mN.jsx)("iframe",{frameBorder:"0",src:t,allowFullScreen:"true",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"})})}var fQ=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1];return r.useEffect((function(){lr.auth().onAuthStateChanged((function(e){n(e)}))})),(0,mN.jsxs)(RV,{style:{width:"100%",height:"100vh"},children:[(0,mN.jsx)(NP,{centered:!0,style:{marginTop:"100px"},children:(0,mN.jsx)("div",{style:{fontWeight:"bold",fontSize:50,color:"#152544"},children:"Avatar"})}),(0,mN.jsx)(NP,{centered:!0,style:{marginTop:"60px"},children:(0,mN.jsx)("div",{style:{fontWeight:"bold",fontSize:50,color:"#152544"},children:"Classroom"})}),(0,mN.jsx)(NP,{centered:!0,style:{marginTop:"60px"},children:(0,mN.jsx)("div",{style:{fontSize:30},children:"\u70ba\u60a8\u63d0\u4f9b\u4e00\u500b\u5168\u65b0"})}),(0,mN.jsx)(NP,{centered:!0,style:{marginTop:"40px"},children:(0,mN.jsx)("div",{style:{fontSize:30},children:"\u6559\u5b78\u6e2c\u9a57\u6a21\u5f0f"})}),(0,mN.jsx)(NP,{centered:!0,style:{marginTop:"40px"},children:(0,mN.jsx)("div",{style:{fontSize:30},children:"\u8acb\u642d\u914d webcam \u4f7f\u7528"})}),t?(0,mN.jsx)(mN.Fragment,{}):(0,mN.jsx)(NP,{centered:!0,style:{marginTop:"40px"},children:(0,mN.jsx)(Uj,{color:"positive",size:"large",as:Ye,to:"/signin",children:"\u7acb\u5373\u8a3b\u518a/\u767b\u5165"})}),(0,mN.jsx)(NP,{centered:!0,style:{marginTop:"40px"},children:(0,mN.jsx)(NP.Column,{width:12,children:(0,mN.jsx)(lQ,{src:"https://www.youtube.com/embed/tiz7wmd3hVI?si=ahy36OFD6OKGsMiv;autoplay=1&mute=1",controls:!0,width:"100%"})})}),(0,mN.jsx)("br",{}),(0,mN.jsxs)(NP,{style:{marginTop:"120px"},children:[(0,mN.jsxs)(NP.Column,{floated:"left",width:10,children:[(0,mN.jsx)("div",{className:uQ,children:"\u88fd\u4f5c\u4eba\u540d\u55ae"}),(0,mN.jsx)("div",{className:uQ,children:"\u5433\u627f\u8ed2\xa0\u9673\u82e1\u929c\xa0\u891a\u5e1b\u8aed\xa0\u6d2a\u9e92\u7965"})]}),(0,mN.jsxs)(NP.Column,{floated:"right",width:6,children:[(0,mN.jsx)("div",{className:uQ,style:{textAlign:"right"},children:"In Memory of"}),(0,mN.jsx)("div",{className:uQ,style:{textAlign:"right"},children:"\u6d2a\u9e92\u7965"})]})]})]})},hQ=function(e){return(new bN).list({shortCode:String(e),state:yN.STATE_WAITING_FOR_PLAYERS})};var dQ=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1];return t.length>1?(0,mN.jsx)(gN,{maxWidth:500,verticalCentered:!0,children:(0,mN.jsx)(vO,{children:t.map((function(e){return(0,mN.jsx)(Ye,{to:"/join/".concat(e.id),children:(0,mN.jsx)(bO,{tag:"button",action:!0,children:e.name})},e.id)}))})}):1===t.length?(0,mN.jsx)(Le,{to:"/join/".concat(t[0].id)}):(0,mN.jsxs)(gN,{maxWidth:500,verticalCentered:!0,children:[(0,mN.jsx)("h1",{className:sQ,children:"Avatar Classroom"}),(0,mN.jsxs)(Ar,{className:"mb-5",onSubmit:function(e){e.preventDefault(),hQ(a).then(n)},children:[(0,mN.jsxs)(Pr,{children:[(0,mN.jsx)(Br,{for:"shortCode",children:"\u623f\u9593\u4ee3\u78bc:"}),(0,mN.jsx)(Hr,{id:"shortCode",type:"number",value:a,onChange:function(e){return o(e.target.value)}})]}),(0,mN.jsx)(Yr,{color:"primary",disabled:!a,type:"submit",children:"\u52a0\u5165\u623f\u9593"})]}),(0,mN.jsxs)("aside",{hidden:!0,children:["Want to create your own quiz?\xa0",(0,mN.jsx)(Ye,{to:"/login",children:"Sign Up"})]})]})};var pQ=function(){var e=l(r.useState(null),2),t=e[0],n=e[1];return r.useEffect((function(){lr.auth().onAuthStateChanged((function(e){n(e)}))})),(0,mN.jsxs)(Ke,{children:[(0,mN.jsx)(NV,{}),(0,mN.jsx)("div",{className:"App",children:(0,mN.jsxs)(Fe,{children:[(0,mN.jsx)(Me,{path:"/login",element:(0,mN.jsx)(hF,{})},hF.id),(0,mN.jsx)(Me,{path:"/",exact:!0,element:(0,mN.jsx)(fQ,{})},fQ.id),(0,mN.jsx)(Me,{path:"/signin",exact:!0,element:(0,mN.jsx)(aK,{})},aK.id),(0,mN.jsx)(Me,{path:"/join-s",exact:!0,element:(0,mN.jsx)(dQ,{})}),(0,mN.jsx)(Me,{path:"/lobby/:gameId",element:(0,mN.jsx)(iF,{})},iF.id),(0,mN.jsx)(Me,{path:"/play/:gameId/as/:playerId",element:(0,mN.jsx)(fO,{})},fO.id),(0,mN.jsx)(Me,{path:"/join/:gameId",element:(0,mN.jsx)(_N,{})},_N.id),(0,mN.jsx)(Me,{path:"/games/create",element:(0,mN.jsx)(gF,{})},gF.id),(0,mN.jsx)(Me,{path:"/games/:gameId",element:(0,mN.jsx)(HF,{})},HF.id),(0,mN.jsx)(Me,{path:"/games",exact:!0,element:(0,mN.jsx)(vF,{})},vF.id),(0,mN.jsx)(Me,{path:"/draw",exact:!0,element:(0,mN.jsx)(GG,{})},GG.id),(0,mN.jsx)(Me,{path:"/settings",exact:!0,element:(0,mN.jsx)(oQ,{user:t})},oQ.id),(0,mN.jsx)(Me,{path:"/host/:gameId/questions/pending",element:(0,mN.jsx)(YF,{})},YF.id),(0,mN.jsx)(Me,{path:"/host/:gameId/questions/current",element:(0,mN.jsx)(xU,{})},xU.id),(0,mN.jsx)(Me,{path:"/host/:gameId/results/final",element:(0,mN.jsx)(yU,{})},yU.id),(0,mN.jsx)(Me,{path:"/host/:gameId/results/:questionId",element:(0,mN.jsx)(cU,{})},cU.id)]})})]})};a.render((0,mN.jsx)(pQ,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.087383ce.js.map