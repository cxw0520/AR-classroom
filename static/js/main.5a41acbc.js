/*! For license information please see main.5a41acbc.js.LICENSE.txt */
(()=>{var e={6630:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2618);n(2007);var i=n(2791);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){s(this,e),l(this,"handlers",void 0),this.handlers=t.slice(0)}return c(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var o=this.handlers[i];-1===t.indexOf(o)&&n.push(o)}return new e(n)}}]),e}();function m(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function g(e){return Array.isArray(e)?e:[e]}function v(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===o(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var y=function(){function e(t,n){s(this,e),l(this,"handlerSets",void 0),l(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return c(e,[{key:"addHandlers",value:function(t,n){var r=m(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=m(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();l(y,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new y(e,r)}));var w=function(){function e(t){var n=this;s(this,e),l(this,"handlers",new Map),l(this,"pools",new Map),l(this,"target",void 0),l(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return c(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,y.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),b=new(function(){function e(){var t=this;s(this,e),l(this,"targets",new Map),l(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=v(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new w(r);return t.targets.set(r,i),i})),l(this,"removeTarget",(function(e){t.targets.delete(v(e))}))}return c(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,s=n.pool,a=void 0===s?"default":s;this.getTarget(o).addHandlers(a,e,g(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,s=n.pool,a=void 0===s?"default":s,c=this.getTarget(o,!1);c&&(c.removeHandlers(a,e,g(t)),c.hasHandlers()||this.removeTarget(o))}}}]),e}()),_=function(e){function t(){return s(this,t),f(this,h(t).apply(this,arguments))}return u(t,i.PureComponent),c(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;b.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;b.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();l(_,"defaultProps",{pool:"default",target:"document"}),_.propTypes={},t.instance=b,t.default=_},6775:(e,t,n)=>{"use strict";var r;r=n(6630),e.exports=r.default,e.exports.instance=r.instance},1694:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var s=i.apply(null,n);s&&e.push(s)}else if("object"===o)for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},951:e=>{"use strict";var t={single_source_shortest_paths:function(e,n,r){var i={},o={};o[n]=0;var s,a,c,l,u,h,d,f=t.PriorityQueue.make();for(f.push(n,0);!f.empty();)for(c in a=(s=f.pop()).value,l=s.cost,u=e[a]||{})u.hasOwnProperty(c)&&(h=l+u[c],d=o[c],("undefined"===typeof o[c]||d>h)&&(o[c]=h,f.push(c,h),i[c]=a));if("undefined"!==typeof r&&"undefined"===typeof o[r]){var p=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var i=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,i={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=e.sorter||r.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},8354:(e,t,n)=>{"use strict";var r=n(4836);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(3812));e.exports=t.default},3812:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},2910:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},153:e=>{"use strict";e.exports=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319&&n>r+1){var o=e.charCodeAt(r+1);o>=56320&&o<=57343&&(i=1024*(i-55296)+o-56320+65536,r+=1)}i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<55296||i>=57344&&i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):i>=65536&&i<=1114111?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},2618:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},7854:e=>{"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var o=i+65;n[o]=[String.fromCharCode(o+32),String.fromCharCode(o)]}var s={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};s.Spacebar=s[" "],s.Digit0=s[0],s.Digit1=s[1],s.Digit2=s[2],s.Digit3=s[3],s.Digit4=s[4],s.Digit5=s[5],s.Digit6=s[6],s.Digit7=s[7],s.Digit8=s[8],s.Digit9=s[9],s.Tilde=s["~"],s.GraveAccent=s["`"],s.ExclamationPoint=s["!"],s.AtSign=s["@"],s.PoundSign=s["#"],s.PercentSign=s["%"],s.Caret=s["^"],s.Ampersand=s["&"],s.PlusSign=s["+"],s.MinusSign=s["-"],s.EqualsSign=s["="],s.DivisionSign=s["/"],s.MultiplicationSign=s["*"],s.Comma=s[","],s.Decimal=s["."],s.Colon=s[":"],s.Semicolon=s[";"],s.Pipe=s["|"],s.BackSlash=s["\\"],s.QuestionMark=s["?"],s.SingleQuote=s["'"],s.DoubleQuote=s['"'],s.LeftCurlyBrace=s["{"],s.RightCurlyBrace=s["}"],s.LeftParenthesis=s["("],s.RightParenthesis=s[")"],s.LeftAngleBracket=s["<"],s.RightAngleBracket=s[">"],s.LeftSquareBracket=s["["],s.RightSquareBracket=s["]"],e.exports=s},1725:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(a[l]=o[l]);if(t){s=t(o);for(var u=0;u<s.length;u++)r.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},888:(e,t,n)=>{"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},741:(e,t,n)=>{const r=n(6887),i=n(5054),o=n(416),s=n(9413);function a(e,t,n,o,s){const a=[].slice.call(arguments,1),c=a.length,l="function"===typeof a[c-1];if(!l&&!r())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=t,t=o=void 0):2!==c||t.getContext||(o=n,n=t,t=void 0),new Promise((function(r,s){try{const s=i.create(n,o);r(e(s,t,o))}catch(a){s(a)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(s=n,n=t,t=o=void 0):3===c&&(t.getContext&&"undefined"===typeof s?(s=o,o=void 0):(s=o,o=n,n=t,t=void 0));try{const r=i.create(n,o);s(null,e(r,t,o))}catch(u){s(u)}}t.create=i.create,t.toCanvas=a.bind(null,o.render),t.toDataURL=a.bind(null,o.renderToDataURL),t.toString=a.bind(null,(function(e,t,n){return s.render(e,n)}))},6887:e=>{e.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},3234:(e,t,n)=>{const r=n(2338).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7];for(let r=1;r<t-1;r++)o[r]=o[r-1]-i;return o.push(6),o.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),i=r.length;for(let t=0;t<i;t++)for(let e=0;e<i;e++)0===t&&0===e||0===t&&e===i-1||t===i-1&&0===e||n.push([r[t],r[e]]);return n}},8295:(e,t,n)=>{const r=n(1337),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=r.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=o},5673:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return 1===(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1===(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},2988:e=>{function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},639:(e,t,n)=>{const r=n(153),i=n(1337);function o(e){this.mode=i.BYTE,"string"===typeof e&&(e=r(e)),this.data=new Uint8Array(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=o},3180:(e,t,n)=>{const r=n(8955),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}}},8955:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&"undefined"!==typeof e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(r){return n}}},8947:(e,t,n)=>{const r=n(2338).getSymbolSize;t.getPositions=function(e){const t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},7435:(e,t,n)=>{const r=n(2338),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){const n=e.bit<<3|t;let o=n<<10;for(;r.getBCHDigit(o)-i>=0;)o^=1335<<r.getBCHDigit(o)-i;return 21522^(n<<10|o)}},1239:(e,t)=>{const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(let t=255;t<512;t++)n[t]=n[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},8588:(e,t,n)=>{const r=n(1337),i=n(2338);function o(e){this.mode=r.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=o},6823:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,r=3,i=40,o=10;function s(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2===0;case t.Patterns.PATTERN001:return n%2===0;case t.Patterns.PATTERN010:return r%3===0;case t.Patterns.PATTERN011:return(n+r)%3===0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2===0;case t.Patterns.PATTERN101:return n*r%2+n*r%3===0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2===0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let r=0,i=0,o=0,s=null,a=null;for(let c=0;c<t;c++){i=o=0,s=a=null;for(let l=0;l<t;l++){let t=e.get(c,l);t===s?i++:(i>=5&&(r+=n+(i-5)),s=t,i=1),t=e.get(l,c),t===a?o++:(o>=5&&(r+=n+(o-5)),a=t,o=1)}i>=5&&(r+=n+(i-5)),o>=5&&(r+=n+(o-5))}return r},t.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){const t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);4!==t&&0!==t||n++}return n*r},t.getPenaltyN3=function(e){const t=e.size;let n=0,r=0,o=0;for(let i=0;i<t;i++){r=o=0;for(let s=0;s<t;s++)r=r<<1&2047|e.get(i,s),s>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|e.get(s,i),s>=10&&(1488===o||93===o)&&n++}return n*i},t.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*o},t.applyMask=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,s(e,i,r))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let i=0,o=1/0;for(let s=0;s<r;s++){n(s),t.applyMask(s,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),r<o&&(o=r,i=s)}return i}},1337:(e,t,n)=>{const r=n(8402),i=n(8650);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(r){return n}}},320:(e,t,n)=>{const r=n(1337);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},9203:(e,t,n)=>{const r=n(1239);t.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)n[i+o]^=r.mul(e[i],t[o]);return n},t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const e=n[0];for(let o=0;o<t.length;o++)n[o]^=r.mul(t[o],e);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},t.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let i=0;i<e;i++)n=t.mul(n,new Uint8Array([1,r.exp(i)]));return n}},5054:(e,t,n)=>{const r=n(2338),i=n(8955),o=n(5673),s=n(2988),a=n(3234),c=n(8947),l=n(6823),u=n(3180),h=n(220),d=n(1265),f=n(7435),p=n(1337),m=n(2179);function g(e,t,n){const r=e.size,i=f.getEncodedBits(t,n);let o,s;for(o=0;o<15;o++)s=1===(i>>o&1),o<6?e.set(o,8,s,!0):o<8?e.set(o+1,8,s,!0):e.set(r-15+o,8,s,!0),o<8?e.set(8,r-o-1,s,!0):o<9?e.set(8,15-o-1+1,s,!0):e.set(8,15-o-1,s,!0);e.set(r-8,8,1,!0)}function v(e,t,n){const i=new o;n.forEach((function(t){i.put(t.mode.bit,4),i.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(i)}));const s=8*(r.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t));for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const a=(s-i.getLengthInBits())/8;for(let r=0;r<a;r++)i.put(r%2?17:236,8);return function(e,t,n){const i=r.getSymbolTotalCodewords(t),o=u.getTotalCodewordsCount(t,n),s=i-o,a=u.getBlocksCount(t,n),c=i%a,l=a-c,d=Math.floor(i/a),f=Math.floor(s/a),p=f+1,m=d-f,g=new h(m);let v=0;const y=new Array(a),w=new Array(a);let b=0;const _=new Uint8Array(e.buffer);for(let r=0;r<a;r++){const e=r<l?f:p;y[r]=_.slice(v,v+e),w[r]=g.encode(y[r]),v+=e,b=Math.max(b,e)}const E=new Uint8Array(i);let T,I,S=0;for(T=0;T<b;T++)for(I=0;I<a;I++)T<y[I].length&&(E[S++]=y[I][T]);for(T=0;T<m;T++)for(I=0;I<a;I++)E[S++]=w[I][T];return E}(i,e,t)}function y(e,t,n,i){let o;if(Array.isArray(e))o=m.fromArray(e);else{if("string"!==typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=m.rawSplit(e);r=d.getBestVersionForData(t,n)}o=m.fromString(e,r||40)}}const u=d.getBestVersionForData(o,n);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<u)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+u+".\n")}else t=u;const h=v(t,n,o),f=r.getSymbolSize(t),p=new s(f);return function(e,t){const n=e.size,r=c.getPositions(t);for(let i=0;i<r.length;i++){const t=r[i][0],o=r[i][1];for(let r=-1;r<=7;r++)if(!(t+r<=-1||n<=t+r))for(let i=-1;i<=7;i++)o+i<=-1||n<=o+i||(r>=0&&r<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===r||6===r)||r>=2&&r<=4&&i>=2&&i<=4?e.set(t+r,o+i,!0,!0):e.set(t+r,o+i,!1,!0))}}(p,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2===0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(p),function(e,t){const n=a.getPositions(t);for(let r=0;r<n.length;r++){const t=n[r][0],i=n[r][1];for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)-2===n||2===n||-2===r||2===r||0===n&&0===r?e.set(t+n,i+r,!0,!0):e.set(t+n,i+r,!1,!0)}}(p,t),g(p,n,0),t>=7&&function(e,t){const n=e.size,r=d.getEncodedBits(t);let i,o,s;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+n-8-3,s=1===(r>>a&1),e.set(i,o,s,!0),e.set(o,i,s,!0)}(p,t),function(e,t){const n=e.size;let r=-1,i=n-1,o=7,s=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!e.isReserved(i,a-n)){let r=!1;s<t.length&&(r=1===(t[s]>>>o&1)),e.set(i,a-n,r),o--,-1===o&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}(p,h),isNaN(i)&&(i=l.getBestMask(p,g.bind(null,p,n))),l.applyMask(i,p),g(p,n,i),{modules:p,version:t,errorCorrectionLevel:n,maskPattern:i,segments:o}}t.create=function(e,t){if("undefined"===typeof e||""===e)throw new Error("No input text");let n,o,s=i.M;return"undefined"!==typeof t&&(s=i.from(t.errorCorrectionLevel,i.M),n=d.from(t.version),o=l.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),y(e,n,s,o)}},220:(e,t,n)=>{const r=n(9203);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){const e=new Uint8Array(this.degree);return e.set(n,i),e}return n},e.exports=i},8650:(e,t)=>{const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+r+"$"),s=new RegExp("^"+n+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return o.test(e)},t.testNumeric=function(e){return s.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},2179:(e,t,n)=>{const r=n(1337),i=n(320),o=n(8295),s=n(639),a=n(8588),c=n(8650),l=n(2338),u=n(951);function h(e){return unescape(encodeURIComponent(e)).length}function d(e,t,n){const r=[];let i;for(;null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function f(e){const t=d(c.NUMERIC,r.NUMERIC,e),n=d(c.ALPHANUMERIC,r.ALPHANUMERIC,e);let i,o;l.isKanjiModeEnabled()?(i=d(c.BYTE,r.BYTE,e),o=d(c.KANJI,r.KANJI,e)):(i=d(c.BYTE_KANJI,r.BYTE,e),o=[]);return t.concat(n,i,o).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function p(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return o.getBitsLength(e);case r.KANJI:return a.getBitsLength(e);case r.BYTE:return s.getBitsLength(e)}}function m(e,t){let n;const c=r.getBestModeForData(e);if(n=r.from(t,c),n!==r.BYTE&&n.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(c));switch(n!==r.KANJI||l.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new o(e);case r.KANJI:return new a(e);case r.BYTE:return new s(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"===typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e}),[])},t.fromString=function(e,n){const i=function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:h(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:h(i.data)}])}}return t}(f(e,l.isKanjiModeEnabled())),o=function(e,t){const n={},i={start:{}};let o=["start"];for(let s=0;s<e.length;s++){const a=e[s],c=[];for(let e=0;e<a.length;e++){const l=a[e],u=""+s+e;c.push(u),n[u]={node:l,lastCount:0},i[u]={};for(let e=0;e<o.length;e++){const s=o[e];n[s]&&n[s].node.mode===l.mode?(i[s][u]=p(n[s].lastCount+l.length,l.mode)-p(n[s].lastCount,l.mode),n[s].lastCount+=l.length):(n[s]&&(n[s].lastCount=l.length),i[s][u]=p(l.length,l.mode)+4+r.getCharCountIndicator(l.mode,t))}}o=c}for(let r=0;r<o.length;r++)i[o[r]].end=0;return{map:i,table:n}}(i,n),s=u.find_path(o.map,"start","end"),a=[];for(let t=1;t<s.length-1;t++)a.push(o.table[s[t]].node);return t.fromArray(function(e){return e.reduce((function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(a))},t.rawSplit=function(e){return t.fromArray(f(e,l.isKanjiModeEnabled()))}},2338:(e,t)=>{let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!==typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return"undefined"!==typeof n},t.toSJIS=function(e){return n(e)}},8402:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},1265:(e,t,n)=>{const r=n(2338),i=n(3180),o=n(8955),s=n(1337),a=n(8402),c=r.getBCHDigit(7973);function l(e,t){return s.getCharCountIndicator(e,t)+4}function u(e,t){let n=0;return e.forEach((function(e){const r=l(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!a.isValid(e))throw new Error("Invalid QR Code version");"undefined"===typeof n&&(n=s.BYTE);const o=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===s.MIXED)return o;const c=o-l(n,e);switch(n){case s.NUMERIC:return Math.floor(c/10*3);case s.ALPHANUMERIC:return Math.floor(c/11*2);case s.KANJI:return Math.floor(c/13);case s.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,n){let r;const i=o.from(n,o.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(u(e,r)<=t.getCapacity(r,n,s.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(let i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;r.getBCHDigit(t)-c>=0;)t^=7973<<r.getBCHDigit(t)-c;return e<<12|t}},416:(e,t,n)=>{const r=n(3605);t.render=function(e,t,n){let i=n,o=t;"undefined"!==typeof i||t&&t.getContext||(i=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);const s=r.getImageWidth(e.modules.size,i),a=o.getContext("2d"),c=a.createImageData(s,s);return r.qrToImageData(c.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(a,o,s),a.putImageData(c,0,0),o},t.renderToDataURL=function(e,n,r){let i=r;"undefined"!==typeof i||n&&n.getContext||(i=n,n=void 0),i||(i={});const o=t.render(e,n,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}},9413:(e,t,n)=>{const r=n(3605);function i(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function o(e,t,n){let r=e+t;return"undefined"!==typeof n&&(r+=" "+n),r}t.render=function(e,t,n){const s=r.getOptions(t),a=e.modules.size,c=e.modules.data,l=a+2*s.margin,u=s.color.light.a?"<path "+i(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+i(s.color.dark,"stroke")+' d="'+function(e,t,n){let r="",i=0,s=!1,a=0;for(let c=0;c<e.length;c++){const l=Math.floor(c%t),u=Math.floor(c/t);l||s||(s=!0),e[c]?(a++,c>0&&l>0&&e[c-1]||(r+=s?o("M",l+n,.5+u+n):o("m",i,0),i=0,s=!1),l+1<t&&e[c+1]||(r+=o("h",a),a=0)):i++}return r}(c,a,s.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+u+h+"</svg>\n";return"function"===typeof n&&n(null,f),f}},3605:(e,t)=>{function n(e){if("number"===typeof e&&(e=e.toString()),"string"!==typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t="undefined"===typeof e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const i=n.modules.size,o=n.modules.data,s=t.getScale(i,r),a=Math.floor((i+2*r.margin)*s),c=r.margin*s,l=[r.color.light,r.color.dark];for(let t=0;t<a;t++)for(let n=0;n<a;n++){let u=4*(t*a+n),h=r.color.light;if(t>=c&&n>=c&&t<a-c&&n<a-c){h=l[o[Math.floor((t-c)/s)*i+Math.floor((n-c)/s)]?1:0]}e[u++]=h.r,e[u++]=h.g,e[u++]=h.b,e[u]=h.a}}},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(1725),o=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function a(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var c=!1,l=null,u=!1,h=null,d={onError:function(e){c=!0,l=e}};function f(e,t,n,r,i,o,s,u,h){c=!1,l=null,a.apply(d,arguments)}var p=null,m=null,g=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,a,d,p){if(f.apply(this,arguments),c){if(!c)throw Error(s(198));var m=l;c=!1,l=null,u||(u=!0,h=m)}}(r,t,void 0,e),e.currentTarget=null}var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;y.hasOwnProperty("ReactCurrentDispatcher")||(y.ReactCurrentDispatcher={current:null}),y.hasOwnProperty("ReactCurrentBatchConfig")||(y.ReactCurrentBatchConfig={suspense:null});var w=/^(.*)[\\\/]/,b="function"===typeof Symbol&&Symbol.for,_=b?Symbol.for("react.element"):60103,E=b?Symbol.for("react.portal"):60106,T=b?Symbol.for("react.fragment"):60107,I=b?Symbol.for("react.strict_mode"):60108,S=b?Symbol.for("react.profiler"):60114,k=b?Symbol.for("react.provider"):60109,C=b?Symbol.for("react.context"):60110,x=b?Symbol.for("react.concurrent_mode"):60111,N=b?Symbol.for("react.forward_ref"):60112,A=b?Symbol.for("react.suspense"):60113,O=b?Symbol.for("react.suspense_list"):60120,P=b?Symbol.for("react.memo"):60115,R=b?Symbol.for("react.lazy"):60116,D=b?Symbol.for("react.block"):60121,L="function"===typeof Symbol&&Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return"Context.Consumer";case k:return"Context.Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return j(e.type);case D:return j(e.render);case R:if(e=1===e._status?e._result:null)return j(e)}return null}function U(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=j(e.type);n=null,r&&(n=j(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(w,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var F=null,V={};function B(){if(F)for(var e in V){var t=V[e],n=F.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!q[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in q[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,c=r;if(W.hasOwnProperty(c))throw Error(s(99,c));W[c]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&z(l[i],a,c);i=!0}else o.registrationName?(z(o.registrationName,a,c),i=!0):i=!1;if(!i)throw Error(s(98,r,e))}}}}function z(e,t,n){if(H[e])throw Error(s(100,e));H[e]=t,K[e]=t.eventTypes[n].dependencies}var q=[],W={},H={},K={};function G(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!V.hasOwnProperty(t)||V[t]!==r){if(V[t])throw Error(s(102,t));V[t]=r,n=!0}}n&&B()}var Q=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Y=null,J=null,X=null;function $(e){if(e=m(e)){if("function"!==typeof Y)throw Error(s(280));var t=e.stateNode;t&&(t=p(t),Y(e.stateNode,e.type,t))}}function Z(e){J?X?X.push(e):X=[e]:J=e}function ee(){if(J){var e=J,t=X;if(X=J=null,$(e),t)for(e=0;e<t.length;e++)$(t[e])}}function te(e,t){return e(t)}function ne(e,t,n,r,i){return e(t,n,r,i)}function re(){}var ie=te,oe=!1,se=!1;function ae(){null===J&&null===X||(re(),ee())}function ce(e,t,n){if(se)return e(t,n);se=!0;try{return ie(e,t,n)}finally{se=!1,ae()}}var le=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ue=Object.prototype.hasOwnProperty,he={},de={};function fe(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){pe[e]=new fe(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];pe[t]=new fe(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){pe[e]=new fe(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){pe[e]=new fe(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){pe[e]=new fe(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){pe[e]=new fe(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){pe[e]=new fe(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){pe[e]=new fe(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){pe[e]=new fe(e,5,!1,e.toLowerCase(),null,!1)}));var me=/[\-:]([a-z])/g;function ge(e){return e[1].toUpperCase()}function ve(e,t,n,r){var i=pe.hasOwnProperty(t)?pe[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ue.call(de,e)||!ue.call(he,e)&&(le.test(e)?de[e]=!0:(he[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=we(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ie(e,t){null!=(t=t.checked)&&ve(e,"checked",t,!1)}function Se(e,t){Ie(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function xe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Pe(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(me,ge);pe[t]=new fe(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(me,ge);pe[t]=new fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(me,ge);pe[t]=new fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){pe[e]=new fe(e,1,!1,e.toLowerCase(),null,!1)})),pe.xlinkHref=new fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){pe[e]=new fe(e,1,!1,e.toLowerCase(),null,!0)}));var De="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,Fe,Ve=(Fe=function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Fe(e,t)}))}:Fe);function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},We={},He={};function Ke(e){if(We[e])return We[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return We[e]=n[t];return e}Q&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ge=Ke("animationend"),Qe=Ke("animationiteration"),Ye=Ke("animationstart"),Je=Ke("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$e=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=$e.get(e);return void 0===t&&(t=new Map,$e.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(s(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var st=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ct(e){if(null!==e&&(st=it(st,e)),e=st,st=null,e){if(ot(e,at),st)throw Error(s(95));if(u)throw e=h,u=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!Q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ht=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ht.length&&ht.push(e)}function ft(e,t,n,r){if(ht.length){var i=ht.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Rn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var a=null,c=0;c<q.length;c++){var l=q[c];l&&(l=l.extractEvents(r,t,o,i,s))&&(a=it(a,l))}ct(a)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var gt,vt,yt,wt=!1,bt=[],_t=null,Et=null,Tt=null,It=new Map,St=new Map,kt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),xt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Nt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Nt(t,n,r,i,o),null!==t&&(null!==(t=Dn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Pt(e){var t=Rn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Dn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){Rt(e)&&n.delete(t)}function Lt(){for(wt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Dn(e.blockedOn))&&gt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&Rt(_t)&&(_t=null),null!==Et&&Rt(Et)&&(Et=null),null!==Tt&&Rt(Tt)&&(Tt=null),It.forEach(Dt),St.forEach(Dt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,wt||(wt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function jt(e){function t(t){return Mt(t,e)}if(0<bt.length){Mt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Mt(_t,e),null!==Et&&Mt(Et,e),null!==Tt&&Mt(Tt,e),It.forEach(t),St.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Pt(n),null===n.blockedOn&&kt.shift()}var Ut={},Ft=new Map,Vt=new Map,Bt=["abort","abort",Ge,"animationEnd",Qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Je,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Vt.set(r,t),Ft.set(r,o),Ut[i]=o}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Bt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<qt.length;Wt++)Vt.set(qt[Wt],0);var Ht=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Gt=!0;function Qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Vt.get(t);switch(void 0===r?2:r){case 0:r=Jt.bind(null,t,1,e);break;case 1:r=Xt.bind(null,t,1,e);break;default:r=$t.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Jt(e,t,n,r){oe||re();var i=$t,o=oe;oe=!0;try{ne(i,e,t,n,r)}finally{(oe=o)||ae()}}function Xt(e,t,n,r){Kt(Ht,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){if(Gt)if(0<bt.length&&-1<Ct.indexOf(e))e=Nt(null,e,t,n,r),bt.push(e);else{var i=Zt(e,t,n,r);if(null===i)At(e,r);else if(-1<Ct.indexOf(e))e=Nt(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Ot(_t,e,t,n,r,i),!0;case"dragenter":return Et=Ot(Et,e,t,n,r,i),!0;case"mouseover":return Tt=Ot(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return It.set(o,Ot(It.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,St.set(o,Ot(St.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=ft(e,r,null,t);try{ce(pt,e)}finally{dt(e)}}}}function Zt(e,t,n,r){if(null!==(n=Rn(n=lt(r)))){var i=et(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{ce(pt,e)}finally{dt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var on=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(e,t){if(t){if(on[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cn=De;function ln(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=K[t];for(var r=0;r<t.length;r++)mt(t[r],e,n)}function un(){}function hn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=hn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=hn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn="$",yn="/$",wn="$?",bn="$!",_n=null,En=null;function Tn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function In(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sn="function"===typeof setTimeout?setTimeout:void 0,kn="function"===typeof clearTimeout?clearTimeout:void 0;function Cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function xn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===vn||n===bn||n===wn){if(0===t)return e;t--}else n===yn&&t++}e=e.previousSibling}return null}var Nn=Math.random().toString(36).slice(2),An="__reactInternalInstance$"+Nn,On="__reactEventHandlers$"+Nn,Pn="__reactContainere$"+Nn;function Rn(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[An]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xn(e);null!==e;){if(n=e[An])return n;e=xn(e)}return t}n=(e=n).parentNode}return null}function Dn(e){return!(e=e[An]||e[Pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ln(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Mn(e){return e[On]||null}function jn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Un(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}function Fn(e,t,n){(t=Un(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=jn(t);for(t=n.length;0<t--;)Fn(n[t],"captured",e);for(t=0;t<n.length;t++)Fn(n[t],"bubbled",e)}}function Bn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Un(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function zn(e){e&&e.dispatchConfig.registrationName&&Bn(e._targetInst,null,e)}function qn(e){ot(e,Vn)}var Wn=null,Hn=null,Kn=null;function Gn(){if(Kn)return Kn;var e,t,n=Hn,r=n.length,i="value"in Wn?Wn.value:Wn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Kn=i.slice(e,1<t?1-t:void 0)}function Qn(){return!0}function Yn(){return!1}function Jn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Qn:Yn,this.isPropagationStopped=Yn,this}function Xn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function $n(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Zn(e){e.eventPool=[],e.getPooled=Xn,e.release=$n}i(Jn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){this.isPersistent=Qn},isPersistent:Yn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Yn,this._dispatchInstances=this._dispatchListeners=null}}),Jn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Jn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Zn(n),n},Zn(Jn);var er=Jn.extend({data:null}),tr=Jn.extend({data:null}),nr=[9,13,27,32],rr=Q&&"CompositionEvent"in window,ir=null;Q&&"documentMode"in document&&(ir=document.documentMode);var or=Q&&"TextEvent"in window&&!ir,sr=Q&&(!rr||ir&&8<ir&&11>=ir),ar=String.fromCharCode(32),cr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},lr=!1;function ur(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function hr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var dr=!1;var fr={eventTypes:cr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var o=cr.compositionStart;break e;case"compositionend":o=cr.compositionEnd;break e;case"compositionupdate":o=cr.compositionUpdate;break e}o=void 0}else dr?ur(e,n)&&(o=cr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=cr.compositionStart);return o?(sr&&"ko"!==n.locale&&(dr||o!==cr.compositionStart?o===cr.compositionEnd&&dr&&(i=Gn()):(Hn="value"in(Wn=r)?Wn.value:Wn.textContent,dr=!0)),o=er.getPooled(o,t,n,r),i?o.data=i:null!==(i=hr(n))&&(o.data=i),qn(o),i=o):i=null,(e=or?function(e,t){switch(e){case"compositionend":return hr(t);case"keypress":return 32!==t.which?null:(lr=!0,ar);case"textInput":return(e=t.data)===ar&&lr?null:e;default:return null}}(e,n):function(e,t){if(dr)return"compositionend"===e||!rr&&ur(e,t)?(e=Gn(),Kn=Hn=Wn=null,dr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sr&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(cr.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var gr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vr(e,t,n){return(e=Jn.getPooled(gr.change,e,t,n)).type="change",Z(n),qn(e),e}var yr=null,wr=null;function br(e){ct(e)}function _r(e){if(_e(Ln(e)))return e}function Er(e,t){if("change"===e)return t}var Tr=!1;function Ir(){yr&&(yr.detachEvent("onpropertychange",Sr),wr=yr=null)}function Sr(e){if("value"===e.propertyName&&_r(wr))if(e=vr(wr,e,lt(e)),oe)ct(e);else{oe=!0;try{te(br,e)}finally{oe=!1,ae()}}}function kr(e,t,n){"focus"===e?(Ir(),wr=n,(yr=t).attachEvent("onpropertychange",Sr)):"blur"===e&&Ir()}function Cr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _r(wr)}function xr(e,t){if("click"===e)return _r(t)}function Nr(e,t){if("input"===e||"change"===e)return _r(t)}Q&&(Tr=ut("input")&&(!document.documentMode||9<document.documentMode));var Ar={eventTypes:gr,_isInputEventSupported:Tr,extractEvents:function(e,t,n,r){var i=t?Ln(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var s=Er;else if(mr(i))if(Tr)s=Nr;else{s=Cr;var a=kr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=xr);if(s&&(s=s(e,t)))return vr(s,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ce(i,"number",i.value)}},Or=Jn.extend({view:null,detail:null}),Pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pr[e])&&!!t[e]}function Dr(){return Rr}var Lr=0,Mr=0,jr=!1,Ur=!1,Fr=Or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Dr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Lr;return Lr=e.screenX,jr?"mousemove"===e.type?e.screenX-t:0:(jr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Ur?"mousemove"===e.type?e.screenY-t:0:(Ur=!0,0)}}),Vr=Fr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Br={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zr={eventTypes:Br,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?Rn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var a=Fr,c=Br.mouseLeave,l=Br.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=Vr,c=Br.pointerLeave,l=Br.pointerEnter,u="pointer");if(e=null==s?o:Ln(s),o=null==t?o:Ln(t),(c=a.getPooled(c,s,n,r)).type=u+"leave",c.target=e,c.relatedTarget=o,(n=a.getPooled(l,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=s)&&u)e:{for(l=u,s=0,e=a=r;e;e=jn(e))s++;for(e=0,t=l;t;t=jn(t))e++;for(;0<s-e;)a=jn(a),s--;for(;0<e-s;)l=jn(l),e--;for(;s--;){if(a===l||a===l.alternate)break e;a=jn(a),l=jn(l)}a=null}else a=null;for(l=a,a=[];r&&r!==l&&(null===(s=r.alternate)||s!==l);)a.push(r),r=jn(r);for(r=[];u&&u!==l&&(null===(s=u.alternate)||s!==l);)r.push(u),u=jn(u);for(u=0;u<a.length;u++)Bn(a[u],"bubbled",c);for(u=r.length;0<u--;)Bn(r[u],"captured",n);return 0===(64&i)?[c]:[c,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Wr=Object.prototype.hasOwnProperty;function Hr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Wr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Kr=Q&&"documentMode"in document&&11>=document.documentMode,Gr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,Yr=null,Jr=null,Xr=!1;function $r(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Xr||null==Qr||Qr!==hn(n)?null:("selectionStart"in(n=Qr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Jr&&Hr(Jr,n)?null:(Jr=n,(e=Jn.getPooled(Gr.select,Yr,e,t)).type="select",e.target=Qr,qn(e),e))}var Zr={eventTypes:Gr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),o=K.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Ln(t):window,e){case"focus":(mr(i)||"true"===i.contentEditable)&&(Qr=i,Yr=t,Jr=null);break;case"blur":Jr=Yr=Qr=null;break;case"mousedown":Xr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Xr=!1,$r(n,r);case"selectionchange":if(Kr)break;case"keydown":case"keyup":return $r(n,r)}return null}},ei=Jn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Jn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Or.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},si=Or.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?oi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Dr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Fr.extend({dataTransfer:null}),ci=Or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Dr}),li=Jn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=Fr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),hi={eventTypes:Ut,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=si;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ci;break;case Ge:case Qe:case Ye:e=ei;break;case Je:e=li;break;case"scroll":e=Or;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Vr;break;default:e=Jn}return qn(t=e.getPooled(i,t,n,r)),t}};if(F)throw Error(s(101));F=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),B(),p=Mn,m=Dn,g=Ln,G({SimpleEventPlugin:hi,EnterLeaveEventPlugin:zr,ChangeEventPlugin:Ar,SelectEventPlugin:Zr,BeforeInputEventPlugin:fr});var di=[],fi=-1;function pi(e){0>fi||(e.current=di[fi],di[fi]=null,fi--)}function mi(e,t){fi++,di[fi]=e.current,e.current=t}var gi={},vi={current:gi},yi={current:!1},wi=gi;function bi(e,t){var n=e.type.contextTypes;if(!n)return gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ei(){pi(yi),pi(vi)}function Ti(e,t,n){if(vi.current!==gi)throw Error(s(168));mi(vi,t),mi(yi,n)}function Ii(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,j(t)||"Unknown",o));return i({},n,{},r)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,wi=vi.current,mi(vi,e),mi(yi,yi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ii(e,t,wi),r.__reactInternalMemoizedMergedChildContext=e,pi(yi),pi(vi),mi(vi,e)):pi(yi),mi(yi,n)}var Ci=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Ni=o.unstable_cancelCallback,Ai=o.unstable_requestPaint,Oi=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Ui={},Fi=o.unstable_shouldYield,Vi=void 0!==Ai?Ai:function(){},Bi=null,zi=null,qi=!1,Wi=Oi(),Hi=1e4>Wi?Oi:function(){return Oi()-Wi};function Ki(){switch(Pi()){case Ri:return 99;case Di:return 98;case Li:return 97;case Mi:return 96;case ji:return 95;default:throw Error(s(332))}}function Gi(e){switch(e){case 99:return Ri;case 98:return Di;case 97:return Li;case 96:return Mi;case 95:return ji;default:throw Error(s(332))}}function Qi(e,t){return e=Gi(e),Ci(e,t)}function Yi(e,t,n){return e=Gi(e),xi(e,t,n)}function Ji(e){return null===Bi?(Bi=[e],zi=xi(Ri,$i)):Bi.push(e),Ui}function Xi(){if(null!==zi){var e=zi;zi=null,Ni(e)}$i()}function $i(){if(!qi&&null!==Bi){qi=!0;var e=0;try{var t=Bi;Qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Bi=null}catch(n){throw null!==Bi&&(Bi=Bi.slice(e+1)),xi(Ri,Xi),n}finally{qi=!1}}}function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function eo(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var to={current:null},no=null,ro=null,io=null;function oo(){io=ro=no=null}function so(e){var t=to.current;pi(to),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function co(e,t){no=e,io=ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ms=!0),e.firstContext=null)}function lo(e,t){if(io!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(io=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ro){if(null===no)throw Error(s(308));ro=t,no.dependencies={expirationTime:0,firstContext:t,responders:null}}else ro=ro.next=t;return e._currentValue}var uo=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function po(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function mo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function go(e,t){var n=e.alternate;null!==n&&fo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function vo(e,t,n,r){var o=e.updateQueue;uo=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var c=s.next;s.next=a.next,a.next=c}s=a,o.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=a))}if(null!==s){c=s.next;var l=o.baseState,u=0,h=null,d=null,f=null;if(null!==c)for(var p=c;;){if((a=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=m,h=l):f=f.next=m,a>u&&(u=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Ec(a,p.suspenseConfig);e:{var g=e,v=p;switch(a=t,m=n,v.tag){case 1:if("function"===typeof(g=v.payload)){l=g.call(m,l,a);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(a="function"===typeof(g=v.payload)?g.call(m,l,a):g)||void 0===a)break e;l=i({},l,a);break e;case 2:uo=!0}}null!==p.callback&&(e.effectTag|=32,null===(a=o.effects)?o.effects=[p]:a.push(p))}if(null===(p=p.next)||p===c){if(null===(a=o.shared.pending))break;p=s.next=a.next,a.next=c,o.baseQueue=s=a,o.shared.pending=null}}null===f?h=l:f.next=d,o.baseState=h,o.baseQueue=f,Tc(u),e.expirationTime=u,e.memoizedState=l}}function yo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var wo=y.ReactCurrentBatchConfig,bo=(new r.Component).refs;function _o(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Eo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=lc(),i=wo.suspense;(i=po(r=uc(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),mo(e,i),hc(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=lc(),i=wo.suspense;(i=po(r=uc(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),mo(e,i),hc(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=lc(),r=wo.suspense;(r=po(n=uc(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),mo(e,r),hc(e,n)}};function To(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Hr(n,r)||!Hr(i,o))}function Io(e,t,n){var r=!1,i=gi,o=t.contextType;return"object"===typeof o&&null!==o?o=lo(o):(i=_i(t)?wi:vi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?bi(e,i):gi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Eo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function So(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=bo,ho(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=lo(o):(o=_i(t)?wi:vi.current,i.context=bi(e,o)),vo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(_o(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Eo.enqueueReplaceState(i,i.state,null),vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Co=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===bo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function No(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ao(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Kc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Wc(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Hc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Kc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Wc(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case E:return(t=Gc(t,e.mode,n)).return=e,t}if(Co(t)||M(t))return(t=Hc(t,e.mode,n,null)).return=e,t;No(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null}if(Co(n)||M(n))return null!==i?null:h(e,t,n,r,null);No(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Co(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);No(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?l=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],c))&&(s=o(h,s,m),null===u?l=h:u.sibling=h,u=h);return l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,a,c,l){var u=M(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,l);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=d(i,y.value,l))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,c){var l="object"===typeof o&&null!==o&&o.type===T&&null===o.key;l&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case _:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===T){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=xo(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===T?((r=Hc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Wc(o.type,o.key,o.props,null,e.mode,c)).ref=xo(e,r,o),c.return=e,e=c)}return a(e);case E:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gc(o,e.mode,c)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Kc(o,e.mode,c)).return=e,e=r),a(e);if(Co(o))return m(e,r,o,c);if(M(o))return g(e,r,o,c);if(u&&No(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Oo=Ao(!0),Po=Ao(!1),Ro={},Do={current:Ro},Lo={current:Ro},Mo={current:Ro};function jo(e){if(e===Ro)throw Error(s(174));return e}function Uo(e,t){switch(mi(Mo,t),mi(Lo,e),mi(Do,Ro),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(Do),mi(Do,t)}function Fo(){pi(Do),pi(Lo),pi(Mo)}function Vo(e){jo(Mo.current);var t=jo(Do.current),n=je(t,e.type);t!==n&&(mi(Lo,e),mi(Do,n))}function Bo(e){Lo.current===e&&(pi(Do),pi(Lo))}var zo={current:0};function qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===wn||n.data===bn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Wo(e,t){return{responder:e,props:t}}var Ho=y.ReactCurrentDispatcher,Ko=y.ReactCurrentBatchConfig,Go=0,Qo=null,Yo=null,Jo=null,Xo=!1;function $o(){throw Error(s(321))}function Zo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function es(e,t,n,r,i,o){if(Go=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ho.current=null===e||null===e.memoizedState?Ts:Is,e=n(r,i),t.expirationTime===Go){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Jo=Yo=null,t.updateQueue=null,Ho.current=Ss,e=n(r,i)}while(t.expirationTime===Go)}if(Ho.current=Es,t=null!==Yo&&null!==Yo.next,Go=0,Jo=Yo=Qo=null,Xo=!1,t)throw Error(s(300));return e}function ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?Qo.memoizedState=Jo=e:Jo=Jo.next=e,Jo}function ns(){if(null===Yo){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=Yo.next;var t=null===Jo?Qo.memoizedState:Jo.next;if(null!==t)Jo=t,Yo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Yo=e).memoizedState,baseState:Yo.baseState,baseQueue:Yo.baseQueue,queue:Yo.queue,next:null},null===Jo?Qo.memoizedState=Jo=e:Jo=Jo.next=e}return Jo}function rs(e,t){return"function"===typeof t?t(e):t}function is(e){var t=ns(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=a=o=null,l=i;do{var u=l.expirationTime;if(u<Go){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(a=c=h,o=r):c=c.next=h,u>Qo.expirationTime&&(Qo.expirationTime=u,Tc(u))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Ec(u,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=a,qr(r,t.memoizedState)||(Ms=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function os(e){var t=ns(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);qr(o,t.memoizedState)||(Ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ss(e){var t=ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e}).dispatch=_s.bind(null,Qo,e),[t.memoizedState,e]}function as(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function cs(){return ns().memoizedState}function ls(e,t,n,r){var i=ts();Qo.effectTag|=e,i.memoizedState=as(1|t,n,void 0,void 0===r?null:r)}function us(e,t,n,r){var i=ns();r=void 0===r?null:r;var o=void 0;if(null!==Yo){var s=Yo.memoizedState;if(o=s.destroy,null!==r&&Zo(r,s.deps))return void as(t,n,o,r)}Qo.effectTag|=e,i.memoizedState=as(1|t,n,o,r)}function hs(e,t){return ls(516,4,e,t)}function ds(e,t){return us(516,4,e,t)}function fs(e,t){return us(4,2,e,t)}function ps(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ms(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,us(4,2,ps.bind(null,t,e),n)}function gs(){}function vs(e,t){return ts().memoizedState=[e,void 0===t?null:t],e}function ys(e,t){var n=ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ws(e,t){var n=ns();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Zo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bs(e,t,n){var r=Ki();Qi(98>r?98:r,(function(){e(!0)})),Qi(97<r?97:r,(function(){var r=Ko.suspense;Ko.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ko.suspense=r}}))}function _s(e,t,n){var r=lc(),i=wo.suspense;i={expirationTime:r=uc(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Qo||null!==o&&o===Qo)Xo=!0,i.expirationTime=Go,Qo.expirationTime=Go;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.eagerReducer=o,i.eagerState=a,qr(a,s))return}catch(c){}hc(e,r)}}var Es={readContext:lo,useCallback:$o,useContext:$o,useEffect:$o,useImperativeHandle:$o,useLayoutEffect:$o,useMemo:$o,useReducer:$o,useRef:$o,useState:$o,useDebugValue:$o,useResponder:$o,useDeferredValue:$o,useTransition:$o},Ts={readContext:lo,useCallback:vs,useContext:lo,useEffect:hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ls(4,2,ps.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ls(4,2,e,t)},useMemo:function(e,t){var n=ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_s.bind(null,Qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ts().memoizedState=e},useState:ss,useDebugValue:gs,useResponder:Wo,useDeferredValue:function(e,t){var n=ss(e),r=n[0],i=n[1];return hs((function(){var n=Ko.suspense;Ko.suspense=void 0===t?null:t;try{i(e)}finally{Ko.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ss(!1),n=t[0];return t=t[1],[vs(bs.bind(null,t,e),[t,e]),n]}},Is={readContext:lo,useCallback:ys,useContext:lo,useEffect:ds,useImperativeHandle:ms,useLayoutEffect:fs,useMemo:ws,useReducer:is,useRef:cs,useState:function(){return is(rs)},useDebugValue:gs,useResponder:Wo,useDeferredValue:function(e,t){var n=is(rs),r=n[0],i=n[1];return ds((function(){var n=Ko.suspense;Ko.suspense=void 0===t?null:t;try{i(e)}finally{Ko.suspense=n}}),[e,t]),r},useTransition:function(e){var t=is(rs),n=t[0];return t=t[1],[ys(bs.bind(null,t,e),[t,e]),n]}},Ss={readContext:lo,useCallback:ys,useContext:lo,useEffect:ds,useImperativeHandle:ms,useLayoutEffect:fs,useMemo:ws,useReducer:os,useRef:cs,useState:function(){return os(rs)},useDebugValue:gs,useResponder:Wo,useDeferredValue:function(e,t){var n=os(rs),r=n[0],i=n[1];return ds((function(){var n=Ko.suspense;Ko.suspense=void 0===t?null:t;try{i(e)}finally{Ko.suspense=n}}),[e,t]),r},useTransition:function(e){var t=os(rs),n=t[0];return t=t[1],[ys(bs.bind(null,t,e),[t,e]),n]}},ks=null,Cs=null,xs=!1;function Ns(e,t){var n=Bc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function As(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Os(e){if(xs){var t=Cs;if(t){var n=t;if(!As(e,t)){if(!(t=Cn(n.nextSibling))||!As(e,t))return e.effectTag=-1025&e.effectTag|2,xs=!1,void(ks=e);Ns(ks,n)}ks=e,Cs=Cn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,xs=!1,ks=e}}function Ps(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ks=e}function Rs(e){if(e!==ks)return!1;if(!xs)return Ps(e),xs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!In(t,e.memoizedProps))for(t=Cs;t;)Ns(e,t),t=Cn(t.nextSibling);if(Ps(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn){if(0===t){Cs=Cn(e.nextSibling);break e}t--}else n!==vn&&n!==bn&&n!==wn||t++}e=e.nextSibling}Cs=null}}else Cs=ks?Cn(e.stateNode.nextSibling):null;return!0}function Ds(){Cs=ks=null,xs=!1}var Ls=y.ReactCurrentOwner,Ms=!1;function js(e,t,n,r){t.child=null===e?Po(t,null,n,r):Oo(t,e.child,n,r)}function Us(e,t,n,r,i){n=n.render;var o=t.ref;return co(t,i),r=es(e,t,n,r,o,i),null===e||Ms?(t.effectTag|=1,js(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ta(e,t,i))}function Fs(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||zc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wc(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Vs(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:Hr)(i,r)&&e.ref===t.ref)?ta(e,t,o):(t.effectTag|=1,(e=qc(s,r)).ref=t.ref,e.return=t,t.child=e)}function Vs(e,t,n,r,i,o){return null!==e&&Hr(e.memoizedProps,r)&&e.ref===t.ref&&(Ms=!1,i<o)?(t.expirationTime=e.expirationTime,ta(e,t,o)):zs(e,t,n,r,o)}function Bs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function zs(e,t,n,r,i){var o=_i(n)?wi:vi.current;return o=bi(t,o),co(t,i),n=es(e,t,n,r,o,i),null===e||Ms?(t.effectTag|=1,js(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ta(e,t,i))}function qs(e,t,n,r,i){if(_i(n)){var o=!0;Si(t)}else o=!1;if(co(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Io(t,n,r),ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=lo(l):l=bi(t,l=_i(n)?wi:vi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&So(t,s,r,l),uo=!1;var d=t.memoizedState;s.state=d,vo(t,r,s,i),c=t.memoizedState,a!==r||d!==c||yi.current||uo?("function"===typeof u&&(_o(t,n,u,r),c=t.memoizedState),(a=uo||To(t,n,a,r,d,c,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,fo(e,t),a=t.memoizedProps,s.props=t.type===t.elementType?a:eo(t.type,a),c=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=lo(l):l=bi(t,l=_i(n)?wi:vi.current),(h="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&So(t,s,r,l),uo=!1,c=t.memoizedState,s.state=c,vo(t,r,s,i),d=t.memoizedState,a!==r||c!==d||yi.current||uo?("function"===typeof u&&(_o(t,n,u,r),d=t.memoizedState),(u=uo||To(t,n,a,r,c,d,l))?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,d,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,d,l)),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Ws(e,t,n,r,o,i)}function Ws(e,t,n,r,i,o){Bs(e,t);var s=0!==(64&t.effectTag);if(!r&&!s)return i&&ki(t,n,!1),ta(e,t,o);r=t.stateNode,Ls.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,a,o)):js(e,t,a,o),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Hs(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),Uo(e,t.containerInfo)}var Ks,Gs,Qs,Ys,Js={dehydrated:null,retryTime:0};function Xs(e,t,n){var r,i=t.mode,o=t.pendingProps,s=zo.current,a=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&s)&&(null===e||null!==e.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),mi(zo,1&s),null===e){if(void 0!==o.fallback&&Os(t),a){if(a=o.fallback,(o=Hc(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Hc(a,i,n,null)).return=t,o.sibling=n,t.memoizedState=Js,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Po(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,a){if(o=o.fallback,(n=qc(e,e.pendingProps)).return=t,0===(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=qc(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Js,t.child=n,i}return n=Oo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=o.fallback,(o=Hc(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Hc(a,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Js,t.child=o,n}return t.memoizedState=null,t.child=Oo(t,e,o.children,n)}function $s(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ao(e.return,t)}function Zs(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function ea(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(js(e,t,r.children,n),0!==(2&(r=zo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n);else if(19===e.tag)$s(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mi(zo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===qo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===qo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zs(t,!0,n,null,o,t.lastEffect);break;case"together":Zs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ta(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Tc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function na(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ra(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _i(t.type)&&Ei(),null;case 3:return Fo(),pi(yi),pi(vi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Rs(t)||(t.effectTag|=4),Gs(t),null;case 5:Bo(t),n=jo(Mo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Qs(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=jo(Do.current),Rs(t)){r=t.stateNode,o=t.type;var a=t.memoizedProps;switch(r[An]=t,r[On]=a,o){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Qt(Xe[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":Te(r,a),Qt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qt("invalid",r),ln(n,"onChange");break;case"textarea":Oe(r,a),Qt("invalid",r),ln(n,"onChange")}for(var c in sn(o,a),e=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):H.hasOwnProperty(c)&&null!=l&&ln(n,c)}switch(o){case"input":be(r),ke(r,a,!0);break;case"textarea":be(r),Re(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===cn&&(e=Me(o)),e===cn?"script"===o?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(o,{is:r.is}):(e=c.createElement(o),"select"===o&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,o),e[An]=t,e[On]=r,Ks(e,t,!1,!1),t.stateNode=e,c=an(o,r),o){case"iframe":case"object":case"embed":Qt("load",e),l=r;break;case"video":case"audio":for(l=0;l<Xe.length;l++)Qt(Xe[l],e);l=r;break;case"source":Qt("error",e),l=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),l=r;break;case"form":Qt("reset",e),Qt("submit",e),l=r;break;case"details":Qt("toggle",e),l=r;break;case"input":Te(e,r),l=Ee(e,r),Qt("invalid",e),ln(n,"onChange");break;case"option":l=xe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Qt("invalid",e),ln(n,"onChange");break;case"textarea":Oe(e,r),l=Ae(e,r),Qt("invalid",e),ln(n,"onChange");break;default:l=r}sn(o,l);var u=l;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?rn(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&Ve(e,h):"children"===a?"string"===typeof h?("textarea"!==o||""!==h)&&Be(e,h):"number"===typeof h&&Be(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(H.hasOwnProperty(a)?null!=h&&ln(n,a):null!=h&&ve(e,a,h,c))}switch(o){case"input":be(e),ke(e,r,!1);break;case"textarea":be(e),Re(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ne(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=un)}Tn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ys(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=jo(Mo.current),jo(Do.current),Rs(t)?(n=t.stateNode,r=t.memoizedProps,n[An]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[An]=t,t.stateNode=n)}return null;case 13:return pi(zo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Rs(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&zo.current)?qa===Ra&&(qa=Ma):(qa!==Ra&&qa!==Ma||(qa=ja),0!==Qa&&null!==Va&&(Jc(Va,za),Xc(Va,Qa)))),(n||r)&&(t.effectTag|=4),null);case 4:return Fo(),Gs(t),null;case 10:return so(t),null;case 19:if(pi(zo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(a=r.rendering)){if(o)na(r,!1);else if(qa!==Ra||null!==e&&0!==(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=qo(a))){for(t.effectTag|=64,na(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return mi(zo,1&zo.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=qo(a))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),na(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,na(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Hi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=zo.current,mi(zo,o?1&t|2:1&t),n):null}throw Error(s(156,t.tag))}function ia(e){switch(e.tag){case 1:_i(e.type)&&Ei();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fo(),pi(yi),pi(vi),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return Bo(e),null;case 13:return pi(zo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(zo),null;case 4:return Fo(),null;case 10:return so(e),null;default:return null}}function oa(e,t){return{value:e,source:t,stack:U(t)}}Ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(){},Qs=function(e,t,n,r,o){var s=e.memoizedProps;if(s!==r){var a,c,l=t.stateNode;switch(jo(Do.current),e=null,n){case"input":s=Ee(l,s),r=Ee(l,r),e=[];break;case"option":s=xe(l,s),r=xe(l,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Ae(l,s),r=Ae(l,r),e=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(l.onclick=un)}for(a in sn(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(c in l=s[a])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(H.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var u=r[a];if(l=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(null!=u||null!=l))if("style"===a)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(a,n)),n=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(a,u)):"children"===a?l===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(H.hasOwnProperty(a)?(null!=u&&ln(o,a),e||l===u||(e=[])):(e=e||[]).push(a,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ys=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var sa="function"===typeof WeakSet?WeakSet:Set;function aa(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=U(n)),null!==n&&j(n.type),t=t.value,null!==e&&1===e.tag&&j(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ca(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Lc(e,n)}else t.current=null}function la(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:eo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(s(163))}function ua(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ha(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function da(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ha(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:eo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&yo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}yo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Tn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&jt(n)))))}throw Error(s(163))}function fa(e,t,n){switch("function"===typeof Fc&&Fc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){Lc(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ca(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Lc(e,n)}}(t,n);break;case 5:ca(t);break;case 4:wa(e,t,n)}}function pa(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&pa(t)}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ma(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?va(e,n,t):ya(e,n,t)}function va(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=un));else if(4!==r&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function ya(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ya(e,t,n),e=e.sibling;null!==e;)ya(e,t,n),e=e.sibling}function wa(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var c=e,l=o,u=n,h=l;;)if(fa(c,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break e;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(c=r,l=o.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(fa(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ua(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[On]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ie(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var a=o[i],c=o[i+1];"style"===a?rn(n,c):"dangerouslySetInnerHTML"===a?Ve(n,c):"children"===a?Be(n,c):ve(n,a,c,t)}switch(e){case"input":Se(n,r);break;case"textarea":Pe(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ne(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ne(n,!!r.multiple,r.defaultValue,!0):Ne(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,jt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ja=Hi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void _a(t);case 19:return void _a(t)}throw Error(s(163))}function _a(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sa),t.forEach((function(t){var r=jc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Ea="function"===typeof WeakMap?WeakMap:Map;function Ta(e,t,n){(n=po(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Za||(Za=!0,ec=r),aa(e,t)},n}function Ia(e,t,n){(n=po(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return aa(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this),aa(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Sa,ka=Math.ceil,Ca=y.ReactCurrentDispatcher,xa=y.ReactCurrentOwner,Na=0,Aa=8,Oa=16,Pa=32,Ra=0,Da=1,La=2,Ma=3,ja=4,Ua=5,Fa=Na,Va=null,Ba=null,za=0,qa=Ra,Wa=null,Ha=1073741823,Ka=1073741823,Ga=null,Qa=0,Ya=!1,Ja=0,Xa=500,$a=null,Za=!1,ec=null,tc=null,nc=!1,rc=null,ic=90,oc=null,sc=0,ac=null,cc=0;function lc(){return(Fa&(Oa|Pa))!==Na?1073741821-(Hi()/10|0):0!==cc?cc:cc=1073741821-(Hi()/10|0)}function uc(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Ki();if(0===(4&t))return 99===r?1073741823:1073741822;if((Fa&Oa)!==Na)return za;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Va&&e===za&&--e,e}function hc(e,t){if(50<sc)throw sc=0,ac=null,Error(s(185));if(null!==(e=dc(e,t))){var n=Ki();1073741823===t?(Fa&Aa)!==Na&&(Fa&(Oa|Pa))===Na?gc(e):(pc(e),Fa===Na&&Xi()):pc(e),(4&Fa)===Na||98!==n&&99!==n||(null===oc?oc=new Map([[e,t]]):(void 0===(n=oc.get(e))||n>t)&&oc.set(e,t))}}function dc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Va===i&&(Tc(t),qa===ja&&Jc(i,za)),Xc(i,t)),i}function fc(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Yc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function pc(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ji(gc.bind(null,e));else{var t=fc(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=lc();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ui&&Ni(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ji(gc.bind(null,e)):Yi(r,mc.bind(null,e),{timeout:10*(1073741821-t)-Hi()}),e.callbackNode=t}}}function mc(e,t){if(cc=0,t)return $c(e,t=lc()),pc(e),null;var n=fc(e);if(0!==n){if(t=e.callbackNode,(Fa&(Oa|Pa))!==Na)throw Error(s(327));if(Pc(),e===Va&&n===za||wc(e,n),null!==Ba){var r=Fa;Fa|=Oa;for(var i=_c();;)try{Sc();break}catch(c){bc(e,c)}if(oo(),Fa=r,Ca.current=i,qa===Da)throw t=Wa,wc(e,n),Jc(e,n),pc(e),t;if(null===Ba)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=qa,Va=null,r){case Ra:case Da:throw Error(s(345));case La:$c(e,2<n?2:n);break;case Ma:if(Jc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=xc(i)),1073741823===Ha&&10<(i=Ja+Xa-Hi())){if(Ya){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,wc(e,n);break}}if(0!==(o=fc(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Sn(Nc.bind(null,e),i);break}Nc(e);break;case ja:if(Jc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=xc(i)),Ya&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,wc(e,n);break}if(0!==(i=fc(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ka?r=10*(1073741821-Ka)-Hi():1073741823===Ha?r=0:(r=10*(1073741821-Ha)-5e3,0>(r=(i=Hi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ka(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Sn(Nc.bind(null,e),r);break}Nc(e);break;case Ua:if(1073741823!==Ha&&null!==Ga){o=Ha;var a=Ga;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Hi()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Jc(e,n),e.timeoutHandle=Sn(Nc.bind(null,e),r);break}}Nc(e);break;default:throw Error(s(329))}if(pc(e),e.callbackNode===t)return mc.bind(null,e)}}return null}function gc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Fa&(Oa|Pa))!==Na)throw Error(s(327));if(Pc(),e===Va&&t===za||wc(e,t),null!==Ba){var n=Fa;Fa|=Oa;for(var r=_c();;)try{Ic();break}catch(i){bc(e,i)}if(oo(),Fa=n,Ca.current=r,qa===Da)throw n=Wa,wc(e,t),Jc(e,t),pc(e),n;if(null!==Ba)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Va=null,Nc(e),pc(e)}return null}function vc(e,t){var n=Fa;Fa|=1;try{return e(t)}finally{(Fa=n)===Na&&Xi()}}function yc(e,t){var n=Fa;Fa&=-2,Fa|=Aa;try{return e(t)}finally{(Fa=n)===Na&&Xi()}}function wc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,kn(n)),null!==Ba)for(n=Ba.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ei();break;case 3:Fo(),pi(yi),pi(vi);break;case 5:Bo(r);break;case 4:Fo();break;case 13:case 19:pi(zo);break;case 10:so(r)}n=n.return}Va=e,Ba=qc(e.current,null),za=t,qa=Ra,Wa=null,Ka=Ha=1073741823,Ga=null,Qa=0,Ya=!1}function bc(e,t){for(;;){try{if(oo(),Ho.current=Es,Xo)for(var n=Qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Go=0,Jo=Yo=Qo=null,Xo=!1,null===Ba||null===Ba.return)return qa=Da,Wa=t,Ba=null;e:{var i=e,o=Ba.return,s=Ba,a=t;if(t=za,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var c=a;if(0===(2&s.mode)){var l=s.alternate;l?(s.memoizedState=l.memoizedState,s.expirationTime=l.expirationTime):s.memoizedState=null}var u=0!==(1&zo.current),h=o;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=po(1073741823,null);v.tag=2,mo(s,v)}s.expirationTime=1073741823;break e}a=void 0,s=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new Ea,a=new Set,y.set(c,a)):void 0===(a=y.get(c))&&(a=new Set,y.set(c,a)),!a.has(s)){a.add(s);var w=Mc.bind(null,i,c,s);c.then(w,w)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);a=Error((j(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+U(s))}qa!==Ua&&(qa=La),a=oa(a,s),h=o;do{switch(h.tag){case 3:c=a,h.effectTag|=4096,h.expirationTime=t,go(h,Ta(h,c,t));break e;case 1:c=a;var b=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===tc||!tc.has(_)))){h.effectTag|=4096,h.expirationTime=t,go(h,Ia(h,c,t));break e}}h=h.return}while(null!==h)}Ba=Cc(Ba)}catch(E){t=E;continue}break}}function _c(){var e=Ca.current;return Ca.current=Es,null===e?Es:e}function Ec(e,t){e<Ha&&2<e&&(Ha=e),null!==t&&e<Ka&&2<e&&(Ka=e,Ga=t)}function Tc(e){e>Qa&&(Qa=e)}function Ic(){for(;null!==Ba;)Ba=kc(Ba)}function Sc(){for(;null!==Ba&&!Fi();)Ba=kc(Ba)}function kc(e){var t=Sa(e.alternate,e,za);return e.memoizedProps=e.pendingProps,null===t&&(t=Cc(e)),xa.current=null,t}function Cc(e){Ba=e;do{var t=Ba.alternate;if(e=Ba.return,0===(2048&Ba.effectTag)){if(t=ra(t,Ba,za),1===za||1!==Ba.childExpirationTime){for(var n=0,r=Ba.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ba.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ba.firstEffect),null!==Ba.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ba.firstEffect),e.lastEffect=Ba.lastEffect),1<Ba.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ba:e.firstEffect=Ba,e.lastEffect=Ba))}else{if(null!==(t=ia(Ba)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ba.sibling))return t;Ba=e}while(null!==Ba);return qa===Ra&&(qa=Ua),null}function xc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Nc(e){var t=Ki();return Qi(99,Ac.bind(null,e,t)),null}function Ac(e,t){do{Pc()}while(null!==rc);if((Fa&(Oa|Pa))!==Na)throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=xc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Va&&(Ba=Va=null,za=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Fa;Fa|=Pa,xa.current=null,_n=Gt;var a=mn();if(gn(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{var l=(c=(c=a.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{c.nodeType,h.nodeType}catch(k){c=null;break e}var d=0,f=-1,p=-1,m=0,g=0,v=a,y=null;t:for(;;){for(var w;v!==c||0!==u&&3!==v.nodeType||(f=d+u),v!==h||0!==l&&3!==v.nodeType||(p=d+l),3===v.nodeType&&(d+=v.nodeValue.length),null!==(w=v.firstChild);)y=v,v=w;for(;;){if(v===a)break t;if(y===c&&++m===u&&(f=d),y===h&&++g===l&&(p=d),null!==(w=v.nextSibling))break;y=(v=y).parentNode}v=w}c=-1===f||-1===p?null:{start:f,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;En={activeElementDetached:null,focusedElem:a,selectionRange:c},Gt=!1,$a=i;do{try{Oc()}catch(k){if(null===$a)throw Error(s(330));Lc($a,k),$a=$a.nextEffect}}while(null!==$a);$a=i;do{try{for(a=e,c=t;null!==$a;){var b=$a.effectTag;if(16&b&&Be($a.stateNode,""),128&b){var _=$a.alternate;if(null!==_){var E=_.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:ga($a),$a.effectTag&=-3;break;case 6:ga($a),$a.effectTag&=-3,ba($a.alternate,$a);break;case 1024:$a.effectTag&=-1025;break;case 1028:$a.effectTag&=-1025,ba($a.alternate,$a);break;case 4:ba($a.alternate,$a);break;case 8:wa(a,u=$a,c),pa(u)}$a=$a.nextEffect}}catch(k){if(null===$a)throw Error(s(330));Lc($a,k),$a=$a.nextEffect}}while(null!==$a);if(E=En,_=mn(),b=E.focusedElem,c=E.selectionRange,_!==b&&b&&b.ownerDocument&&pn(b.ownerDocument.documentElement,b)){null!==c&&gn(b)&&(_=c.start,void 0===(E=c.end)&&(E=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(E,b.value.length)):(E=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),u=b.textContent.length,a=Math.min(c.start,u),c=void 0===c.end?a:Math.min(c.end,u),!E.extend&&a>c&&(u=c,c=a,a=u),u=fn(b,a),h=fn(b,c),u&&h&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==h.node||E.focusOffset!==h.offset)&&((_=_.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),a>c?(E.addRange(_),E.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),E.addRange(_))))),_=[];for(E=b;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(E=_[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Gt=!!_n,En=_n=null,e.current=n,$a=i;do{try{for(b=e;null!==$a;){var T=$a.effectTag;if(36&T&&da(b,$a.alternate,$a),128&T){_=void 0;var I=$a.ref;if(null!==I){var S=$a.stateNode;$a.tag,_=S,"function"===typeof I?I(_):I.current=_}}$a=$a.nextEffect}}catch(k){if(null===$a)throw Error(s(330));Lc($a,k),$a=$a.nextEffect}}while(null!==$a);$a=null,Vi(),Fa=o}else e.current=n;if(nc)nc=!1,rc=e,ic=t;else for($a=i;null!==$a;)t=$a.nextEffect,$a.nextEffect=null,$a=t;if(0===(t=e.firstPendingTime)&&(tc=null),1073741823===t?e===ac?sc++:(sc=0,ac=e):sc=0,"function"===typeof Uc&&Uc(n.stateNode,r),pc(e),Za)throw Za=!1,e=ec,ec=null,e;return(Fa&Aa)!==Na||Xi(),null}function Oc(){for(;null!==$a;){var e=$a.effectTag;0!==(256&e)&&la($a.alternate,$a),0===(512&e)||nc||(nc=!0,Yi(97,(function(){return Pc(),null}))),$a=$a.nextEffect}}function Pc(){if(90!==ic){var e=97<ic?97:ic;return ic=90,Qi(e,Rc)}}function Rc(){if(null===rc)return!1;var e=rc;if(rc=null,(Fa&(Oa|Pa))!==Na)throw Error(s(331));var t=Fa;for(Fa|=Pa,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ua(5,n),ha(5,n)}}catch(r){if(null===e)throw Error(s(330));Lc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Fa=t,Xi(),!0}function Dc(e,t,n){mo(e,t=Ta(e,t=oa(n,t),1073741823)),null!==(e=dc(e,1073741823))&&pc(e)}function Lc(e,t){if(3===e.tag)Dc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Dc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){mo(n,e=Ia(n,e=oa(t,e),1073741823)),null!==(n=dc(n,1073741823))&&pc(n);break}}n=n.return}}function Mc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Va===e&&za===n?qa===ja||qa===Ma&&1073741823===Ha&&Hi()-Ja<Xa?wc(e,za):Ya=!0:Yc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,pc(e)))}function jc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=uc(t=lc(),e,null)),null!==(e=dc(e,t))&&pc(e)}Sa=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||yi.current)Ms=!0;else{if(r<n){switch(Ms=!1,t.tag){case 3:Hs(t),Ds();break;case 5:if(Vo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:_i(t.type)&&Si(t);break;case 4:Uo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,mi(to,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Xs(e,t,n):(mi(zo,1&zo.current),null!==(t=ta(e,t,n))?t.sibling:null);mi(zo,1&zo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return ea(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),mi(zo,zo.current),!r)return null}return ta(e,t,n)}Ms=!1}}else Ms=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=bi(t,vi.current),co(t,n),i=es(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)){var o=!0;Si(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ho(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&_o(t,r,a,e),i.updater=Eo,t.stateNode=i,i._reactInternalFiber=t,ko(t,r,e,n),t=Ws(null,t,r,!0,o,n)}else t.tag=0,js(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return zc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=eo(i,e),o){case 0:t=zs(null,t,i,e,n);break e;case 1:t=qs(null,t,i,e,n);break e;case 11:t=Us(null,t,i,e,n);break e;case 14:t=Fs(null,t,i,eo(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 1:return r=t.type,i=t.pendingProps,qs(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 3:if(Hs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,fo(e,t),vo(t,r,null,n),(r=t.memoizedState.element)===i)Ds(),t=ta(e,t,n);else{if((i=t.stateNode.hydrate)&&(Cs=Cn(t.stateNode.containerInfo.firstChild),ks=t,i=xs=!0),i)for(n=Po(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else js(e,t,r,n),Ds();t=t.child}return t;case 5:return Vo(t),null===e&&Os(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,In(r,i)?a=null:null!==o&&In(r,o)&&(t.effectTag|=16),Bs(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(js(e,t,a,n),t=t.child),t;case 6:return null===e&&Os(t),null;case 13:return Xs(e,t,n);case 4:return Uo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oo(t,null,r,n):js(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Us(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 7:return js(e,t,t.pendingProps,n),t.child;case 8:case 12:return js(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var c=t.type._context;if(mi(to,c._currentValue),c._currentValue=o,null!==a)if(c=a.value,0===(o=qr(c,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(a.children===i.children&&!yi.current){t=ta(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){a=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===c.tag&&((u=po(n,null)).tag=2,mo(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),ao(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else a=10===c.tag&&c.type===t.type?null:c.child;if(null!==a)a.return=c;else for(a=c;null!==a;){if(a===t){a=null;break}if(null!==(c=a.sibling)){c.return=a.return,a=c;break}a=a.return}c=a}js(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,co(t,n),r=r(i=lo(i,o.unstable_observedBits)),t.effectTag|=1,js(e,t,r,n),t.child;case 14:return o=eo(i=t.type,t.pendingProps),Fs(e,t,i,o=eo(i.type,o),r,n);case 15:return Vs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:eo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_i(r)?(e=!0,Si(t)):e=!1,co(t,n),Io(t,r,i),ko(t,r,i,n),Ws(null,t,r,!0,e,n);case 19:return ea(e,t,n)}throw Error(s(156,t.tag))};var Uc=null,Fc=null;function Vc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Bc(e,t,n,r){return new Vc(e,t,n,r)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=Bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)zc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case T:return Hc(n.children,i,o,t);case x:a=8,i|=7;break;case I:a=8,i|=1;break;case S:return(e=Bc(12,n,t,8|i)).elementType=S,e.type=S,e.expirationTime=o,e;case A:return(e=Bc(13,n,t,i)).type=A,e.elementType=A,e.expirationTime=o,e;case O:return(e=Bc(19,n,t,i)).elementType=O,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case C:a=9;break e;case N:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e;case D:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Bc(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Hc(e,t,n,r){return(e=Bc(7,e,r,t)).expirationTime=n,e}function Kc(e,t,n){return(e=Bc(6,e,null,t)).expirationTime=n,e}function Gc(e,t,n){return(t=Bc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Yc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Jc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Xc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function $c(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zc(e,t,n,r){var i=t.current,o=lc(),a=wo.suspense;o=uc(o,i,a);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(_i(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(s(171))}if(1===n.tag){var l=n.type;if(_i(l)){n=Ii(n,l,c);break e}}n=c}else n=gi;return null===t.context?t.context=n:t.pendingContext=n,(t=po(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mo(i,t),hc(i,o),o}function el(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}function rl(e,t,n){var r=new Qc(e,t,n=null!=n&&!0===n.hydrate),i=Bc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ho(i),e[Pn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);Ct.forEach((function(e){mt(e,t,n)})),xt.forEach((function(e){mt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function il(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ol(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=el(s);a.call(e)}}Zc(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rl(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var c=i;i=function(){var e=el(s);c.call(e)}}yc((function(){Zc(t,s,e,i)}))}return el(s)}function sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!il(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rl.prototype.render=function(e){Zc(e,this._internalRoot,null,null)},rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zc(null,e,null,(function(){t[Pn]=null}))},gt=function(e){if(13===e.tag){var t=Zi(lc(),150,100);hc(e,t),nl(e,t)}},vt=function(e){13===e.tag&&(hc(e,3),nl(e,3))},yt=function(e){if(13===e.tag){var t=lc();hc(e,t=uc(t,e,null)),nl(e,t)}},Y=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(s(90));_e(r),Se(r,i)}}}break;case"textarea":Pe(e,n);break;case"select":null!=(t=n.value)&&Ne(e,!!n.multiple,t,!1)}},te=vc,ne=function(e,t,n,r,i){var o=Fa;Fa|=4;try{return Qi(98,e.bind(null,t,n,r,i))}finally{(Fa=o)===Na&&Xi()}},re=function(){(Fa&(1|Oa|Pa))===Na&&(function(){if(null!==oc){var e=oc;oc=null,e.forEach((function(e,t){$c(t,e),pc(t)})),Xi()}}(),Pc())},ie=function(e,t){var n=Fa;Fa|=2;try{return e(t)}finally{(Fa=n)===Na&&Xi()}};var al={Events:[Dn,Ln,Mn,G,W,qn,function(e){ot(e,zn)},Z,ee,$t,ct,Pc,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Uc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Fc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Rn,bundleType:0,version:"16.13.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Fa&(Oa|Pa))!==Na)throw Error(s(187));var n=Fa;Fa|=1;try{return Qi(99,e.bind(null,t))}finally{Fa=n,Xi()}},t.hydrate=function(e,t,n){if(!il(t))throw Error(s(200));return ol(null,e,t,!0,n)},t.render=function(e,t,n){if(!il(t))throw Error(s(200));return ol(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!il(e))throw Error(s(40));return!!e._reactRootContainer&&(yc((function(){ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[Pn]=null}))})),!0)},t.unstable_batchedUpdates=vc,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return ol(e,t,n,!1,r)},t.version="16.13.0"},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.isForwardRef=function(e){return _(e)===d}},7441:(e,t,n)=>{"use strict";e.exports=n(1372)},3688:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,s=null,a=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?a="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==a){var c=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>s}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},6664:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2007));var r=a(n(8354)),i=a(n(2910)),o=a(n(2791)),s=a(n(119));n(5127);function a(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),l(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&u(e,r),i&&u(e,i),o&&u(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},i.render=function(){var e=c({},this.props);return delete e.classNames,o.default.createElement(s.default,c({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);h.defaultProps={classNames:""},h.propTypes={};var d=h;t.default=d,e.exports=t.default},8162:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;s(n(2007));var r=s(n(2791)),i=n(4164),o=s(n(2326));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t,n;function s(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=s.prototype;return a.handleLifecycle=function(e,t,n){var o,s=this.props.children,a=r.default.Children.toArray(s)[t];a.props[e]&&(o=a.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},a.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),s=r.default.Children.toArray(t),a=s[0],c=s[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},s}(r.default.Component);a.propTypes={};var c=a;t.default=c,e.exports=t.default},119:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2007));var r=a(n(2791)),i=a(n(4164)),o=n(3688),s=(n(5127),a(n(9914)));function a(e){return e&&e.__esModule?e:{default:e}}var c="unmounted";t.UNMOUNTED=c;var l="exited";t.EXITED=l;var u="entering";t.ENTERING=u;var h="entered";t.ENTERED=h;var d="exiting";t.EXITING=d;var f=function(e){var t,n;function o(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=l,r.appearStatus=u):i=h:i=t.unmountOnExit||t.mountOnEnter?c:l,r.state={status:i},r.nextCallback=null,r}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:l}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==h&&(t=u):n!==u&&n!==h||(t=d)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:c})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,o=this.getTimeouts(),s=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:u},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,s,(function(){n.safeSetState({status:h},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:h},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:d},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"===typeof n)return r.default.createElement(s.default.Provider,{value:null},n(e,i));var o=r.default.Children.only(n);return r.default.createElement(s.default.Provider,{value:null},r.default.cloneElement(o,i))},o}(r.default.Component);function p(){}f.contextType=s.default,f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var m=(0,o.polyfill)(f);t.default=m},2326:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;a(n(2007));var r=a(n(2791)),i=n(3688),o=a(n(9914)),s=n(8546);function a(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){var t,n;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(l(l(r)));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,s.getInitialChildMapping)(e,r):(0,s.getNextChildMapping)(e,n,r),firstRender:!1}},a.handleExited=function(e,t){var n=(0,s.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=c({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),s=this.state.contextValue,a=u(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.default.createElement(o.default.Provider,{value:s},a):r.default.createElement(o.default.Provider,{value:s},r.default.createElement(t,i,a))},i}(r.default.Component);h.propTypes={},h.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,i.polyfill)(h);t.default=d,e.exports=t.default},9914:(e,t,n)=>{"use strict";var r;t.__esModule=!0,t.default=void 0;var i=((r=n(2791))&&r.__esModule?r:{default:r}).default.createContext(null);t.default=i,e.exports=t.default},8267:(e,t,n)=>{"use strict";var r=a(n(6664)),i=a(n(8162)),o=a(n(2326)),s=a(n(119));function a(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:s.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},8546:(e,t,n)=>{"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:s(n,"appear",e),enter:s(n,"enter",e),exit:s(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var a=i(e.children),c=o(t,a);return Object.keys(c).forEach((function(i){var o=c[i];if((0,r.isValidElement)(o)){var l=i in t,u=i in a,h=t[i],d=(0,r.isValidElement)(h)&&!h.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,r.isValidElement)(h)&&(c[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:h.props.in,exit:s(o,"exit",e),enter:s(o,"enter",e)})):c[i]=(0,r.cloneElement)(o,{in:!1}):c[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:s(o,"exit",e),enter:s(o,"enter",e)})}})),c};var r=n(2791);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r];a[i[c][r]]=n(l)}a[c]=n(c)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}function s(e,t,n){return null!=n[t]?n[t]:e.props[t]}},5127:(e,t,n)=>{"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(2007))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,T={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:T.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===o?"."+x(c,0):o,_(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",_(e))for(var l=0;l<e.length;l++){var u=o+x(a=e[l],l);c+=N(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=N(a=a.value,t,i,u=o+x(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:T};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!I.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";var n,r,i,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,c=null,l=function(){if(null!==a)try{var e=t.unstable_now();a(!0,e),a=null}catch(n){throw setTimeout(l,0),n}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==a?setTimeout(n,0,e):(a=e,setTimeout(l,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var v=!1,y=null,w=-1,b=5,_=0;o=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,T=E.port2;E.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+b;try{y(!0,e)?T.postMessage(null):(v=!1,y=null)}catch(n){throw T.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,T.postMessage(null))},r=function(e,n){w=f((function(){e(t.unstable_now())}),n)},i=function(){p(w),w=-1}}function I(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,c=e[a];if(void 0!==s&&0>C(s,n))void 0!==c&&0>C(c,s)?(e[r]=c,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==c&&0>C(c,n)))break e;e[r]=c,e[a]=n,r=a}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var x=[],N=[],A=1,O=null,P=3,R=!1,D=!1,L=!1;function M(e){for(var t=S(N);null!==t;){if(null===t.callback)k(N);else{if(!(t.startTime<=e))break;k(N),t.sortIndex=t.expirationTime,I(x,t)}t=S(N)}}function j(e){if(L=!1,M(e),!D)if(null!==S(x))D=!0,n(U);else{var t=S(N);null!==t&&r(j,t.startTime-e)}}function U(e,n){D=!1,L&&(L=!1,i()),R=!0;var s=P;try{for(M(n),O=S(x);null!==O&&(!(O.expirationTime>n)||e&&!o());){var a=O.callback;if(null!==a){O.callback=null,P=O.priorityLevel;var c=a(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?O.callback=c:O===S(x)&&k(x),M(n)}else k(x);O=S(x)}if(null!==O)var l=!0;else{var u=S(N);null!==u&&r(j,u.startTime-n),l=!1}return l}finally{O=null,P=s,R=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||R||(D=!0,n(U))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return S(x)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();if("object"===typeof s&&null!==s){var c=s.delay;c="number"===typeof c&&0<c?a+c:a,s="number"===typeof s.timeout?s.timeout:F(e)}else s=F(e),c=a;return e={id:A++,callback:o,priorityLevel:e,startTime:c,expirationTime:s=c+s,sortIndex:-1},c>a?(e.sortIndex=c,I(N,e),null===S(x)&&e===S(N)&&(L?i():L=!0,r(j,c-a))):(e.sortIndex=s,I(x,e),D||R||(D=!0,n(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=S(x);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},9613:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!a(l))return!1;var u=e[l],h=t[l];if(!1===(i=n?n.call(r,u,h,l):void 0)||void 0===i&&u!==h)return!1}return!0}},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>rt,SDK_VERSION:()=>Bt,_DEFAULT_ENTRY_NAME:()=>Nt,_addComponent:()=>Rt,_addOrOverwriteComponent:()=>Dt,_apps:()=>Ot,_clearComponents:()=>Ut,_components:()=>Pt,_getProvider:()=>Mt,_registerComponent:()=>Lt,_removeServiceInstance:()=>jt,deleteApp:()=>Ht,getApp:()=>qt,getApps:()=>Wt,initializeApp:()=>zt,onLog:()=>Gt,registerVersion:()=>Kt,setLogLevel:()=>Qt});var t,r=n(2791),i=n.t(r,2),o=n(4164);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const a="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,f=o.history,p=t.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:p,location:b.location,delta:n})}function w(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:d(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(s({},f.state,{idx:g}),""));let b={get action(){return p},get location(){return e(o,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(a,y),m=e,()=>{o.removeEventListener(a,y),m=null}},createHref:e=>n(o,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=h(b.location,e,n);r&&r(i,e),g=v()+1;let s=u(i,g),a=b.createHref(i);try{f.pushState(s,"",a)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(a)}l&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,n){p=t.Replace;let i=h(b.location,e,n);r&&r(i,e),g=v();let o=u(i,g),s=b.createHref(i);f.replaceState(o,"",s),l&&m&&m({action:p,location:b.location,delta:0})},go:e=>f.go(e)};return b}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){void 0===n&&(n="/");let r=A(("string"===typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let i=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=C(i[s],N(r));return o}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=D([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),v(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:k(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))i(e,t,r);else i(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=y(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:\w+$/,b=3,_=2,E=1,T=10,I=-2,S=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=I),t&&(r+=_),n.filter((e=>!S(e))).reduce(((e,t)=>e+(w.test(t)?b:""===t?E:T)),r)}function C(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=x({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;o.push({params:r,pathname:D([i,l.pathname]),pathnameBase:L(D([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=D([i,l.pathnameBase]))}return o}function x(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return l(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a[n]||"",t),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function N(e){try{return decodeURI(e)}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=s({},e),c(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let o,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(r||null==l)o=n;else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:M(r),hash:j(i)}}(i,o),h=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const D=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],V=(new Set(F),["get",...F]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}const z=r.createContext(null);const q=r.createContext(null);const W=r.createContext(null);const H=r.createContext(null);const K=r.createContext({outlet:null,matches:[],isDataRoute:!1});const G=r.createContext(null);function Q(){return null!=r.useContext(H)}function Y(){return Q()||c(!1),r.useContext(H).location}function J(e){r.useContext(W).static||r.useLayoutEffect(e)}function X(){let{isDataRoute:e}=r.useContext(K);return e?function(){let{router:e}=ce(se.UseNavigateStable),t=ue(ae.UseNavigateStable),n=r.useRef(!1);J((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,B({fromRouteId:t},i)))}),[e,t]);return i}():function(){Q()||c(!1);let e=r.useContext(z),{basename:t,navigator:n}=r.useContext(W),{matches:i}=r.useContext(K),{pathname:o}=Y(),s=JSON.stringify(P(i).map((e=>e.pathnameBase))),a=r.useRef(!1);return J((()=>{a.current=!0})),r.useCallback((function(r,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof r)return void n.go(r);let c=R(r,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:D([t,c.pathname])),(i.replace?n.replace:n.push)(c,i.state,i)}),[t,n,s,o,e])}()}function $(){let{matches:e}=r.useContext(K),t=e[e.length-1];return t?t.params:{}}function Z(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=r.useContext(K),{pathname:o}=Y(),s=JSON.stringify(P(i).map((e=>e.pathnameBase)));return r.useMemo((()=>R(e,JSON.parse(s),o,"path"===n)),[e,s,o,n])}function ee(e,n,i){Q()||c(!1);let{navigator:o}=r.useContext(W),{matches:s}=r.useContext(K),a=s[s.length-1],l=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let h,d=Y();if(n){var p;let e="string"===typeof n?f(n):n;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||c(!1),h=e}else h=d;let m=h.pathname||"/",v=g(e,{pathname:"/"===u?m:m.slice(u.length)||"/"});let y=oe(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:D([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,i);return n&&y?r.createElement(H.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},y):y}function te(){let e=function(){var e;let t=r.useContext(G),n=le(ae.UseRouteError),i=ue(ae.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const ne=r.createElement(te,null);class re extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(z);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(K.Provider,{value:t},i)}function oe(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let s=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=s.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||c(!1),s=s.slice(0,Math.min(s.length,e+1))}return s.reduceRight(((e,i,o)=>{let c=i.route.id?null==a?void 0:a[i.route.id]:null,l=null;n&&(l=i.route.errorElement||ne);let u=t.concat(s.slice(0,o+1)),h=()=>{let t;return t=c?l:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(ie,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement(re,{location:n.location,revalidation:n.revalidation,component:l,error:c,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),ae=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ae||{});function ce(e){let t=r.useContext(z);return t||c(!1),t}function le(e){let t=r.useContext(q);return t||c(!1),t}function ue(e){let t=function(e){let t=r.useContext(K);return t||c(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}i.startTransition;function he(e){let{to:t,replace:n,state:i,relative:o}=e;Q()||c(!1);let{matches:s}=r.useContext(K),{pathname:a}=Y(),l=X(),u=R(t,P(s).map((e=>e.pathnameBase)),a,"path"===o),h=JSON.stringify(u);return r.useEffect((()=>l(JSON.parse(h),{replace:n,state:i,relative:o})),[l,h,o,n,i]),null}function de(e){c(!1)}function fe(e){let{basename:n="/",children:i=null,location:o,navigationType:s=t.Pop,navigator:a,static:l=!1}=e;Q()&&c(!1);let u=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:u,navigator:a,static:l})),[u,a,l]);"string"===typeof o&&(o=f(o));let{pathname:d="/",search:p="",hash:m="",state:g=null,key:v="default"}=o,y=r.useMemo((()=>{let e=A(d,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:s}}),[u,d,p,m,g,v,s]);return null==y?null:r.createElement(W.Provider,{value:h},r.createElement(H.Provider,{children:i,value:y}))}function pe(e){let{children:t,location:n}=e;return ee(me(t),n)}new Promise((()=>{}));r.Component;function me(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,me(e.props.children,o));e.type!==de&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=me(e.props.children,o)),n.push(s)})),n}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];const we=i.startTransition;function be(e){let{basename:t,children:n,future:i,window:o}=e,s=r.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),p((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=f(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:d(t))}),(function(e,t){l("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let c=s.current,[u,m]=r.useState({action:c.action,location:c.location}),{v7_startTransition:g}=i||{},v=r.useCallback((e=>{g&&we?we((()=>m(e))):m(e)}),[m,g]);return r.useLayoutEffect((()=>c.listen(v)),[c,v]),r.createElement(fe,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=r.forwardRef((function(e,t){let n,{onClick:i,relative:o,reloadDocument:s,replace:a,state:l,target:u,to:h,preventScrollReset:f}=e,p=ve(e,ye),{basename:m}=r.useContext(W),g=!1;if("string"===typeof h&&Ee.test(h)&&(n=h,_e))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=A(t.pathname,m);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:g=!0}catch(w){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||c(!1);let{basename:i,navigator:o}=r.useContext(W),{hash:s,pathname:a,search:l}=Z(e,{relative:n}),u=a;return"/"!==i&&(u="/"===a?i:D([i,a])),o.createHref({pathname:u,search:l,hash:s})}(h,{relative:o}),y=function(e,t){let{target:n,replace:i,state:o,preventScrollReset:s,relative:a}=void 0===t?{}:t,c=X(),l=Y(),u=Z(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:d(l)===d(u);c(e,{replace:n,state:o,preventScrollReset:s,relative:a})}}),[l,c,u,i,o,n,e,s,a])}(h,{replace:a,state:l,target:u,preventScrollReset:f,relative:o});return r.createElement("a",ge({},p,{href:n||v,onClick:g||s?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:t,target:u}))}));var Ie,Se;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Ie||(Ie={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Se||(Se={}));const ke=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}function xe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=xe(e[n],t[n]));return e}class Ne extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ae.prototype.create)}}class Ae{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Oe,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ne(n,o,t)}}const Oe=/\{\$([^}]+)}/g;function Pe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Re(e,t){const n=new De(e,t);return n.subscribe.bind(n)}class De{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Le),void 0===r.error&&(r.error=Le),void 0===r.complete&&(r.complete=Le);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Le(){}const Me=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};class je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}class Fe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ve="[DEFAULT]";class Be{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ue;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ve?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.component?this.component.multipleInstances?e:Ve:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ze{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Be(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const qe=[];var We;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(We||(We={}));const He={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},Ke=We.INFO,Ge={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},Qe=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ge[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};const Ye=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ye(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Xe;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(e){return function(e){const t=Ye(e);return Je.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ze=function(e){try{return Je.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const et=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,tt=()=>{try{return et()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ze(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},nt=()=>{var e;return null===(e=tt())||void 0===e?void 0:e.config};class rt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ot,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new rt(n,o,t)}}const ot=/\{\$([^}]+)}/g;function st(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(at(n)&&at(o)){if(!st(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function at(e){return null!==e&&"object"===typeof e}const ct=(e,t)=>t.some((t=>e instanceof t));let lt,ut;const ht=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakMap,mt=new WeakMap;let gt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return dt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ft.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function vt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ut||(ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(bt(this),n),wt(ht.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wt(e.apply(bt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(bt(this),t,...r);return ft.set(o,t.sort?t.sort():[t]),wt(o)}}function yt(e){return"function"===typeof e?vt(e):(e instanceof IDBTransaction&&function(e){if(dt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));dt.set(e,t)}(e),ct(e,lt||(lt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,gt):e)}function wt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(wt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&ht.set(t,e)})).catch((()=>{})),mt.set(t,e),t}(e);if(pt.has(e))return pt.get(e);const t=yt(e);return t!==e&&(pt.set(e,t),mt.set(t,e)),t}const bt=e=>mt.get(e);const _t=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],Tt=new Map;function It(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Tt.get(t))return Tt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Et.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!_t.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Tt.set(t,o),o}gt=(e=>({...e,get:(t,n,r)=>It(t,n)||e.get(t,n,r),has:(t,n)=>!!It(t,n)||e.has(t,n)}))(gt);class St{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const kt="@firebase/app",Ct="0.9.25",xt=new class{constructor(e){this.name=e,this._logLevel=Ke,this._logHandler=Qe,this._userLogHandler=null,qe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?He[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...t),this._logHandler(this,We.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...t),this._logHandler(this,We.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,We.INFO,...t),this._logHandler(this,We.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,We.WARN,...t),this._logHandler(this,We.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,We.ERROR,...t),this._logHandler(this,We.ERROR,...t)}}("@firebase/app"),Nt="[DEFAULT]",At={[kt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,Pt=new Map;function Rt(e,t){try{e.container.addComponent(t)}catch(n){xt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Dt(e,t){e.container.addOrOverwriteComponent(t)}function Lt(e){const t=e.name;if(Pt.has(t))return xt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pt.set(t,e);for(const n of Ot.values())Rt(n,e);return!0}function Mt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function jt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nt;Mt(e,t).clearInstance(n)}function Ut(){Pt.clear()}const Ft=new it("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Vt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Fe("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const Bt="10.7.1";function zt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Nt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ft.create("bad-app-name",{appName:String(i)});if(n||(n=nt()),!n)throw Ft.create("no-options");const o=Ot.get(i);if(o){if(st(n,o.options)&&st(r,o.config))return o;throw Ft.create("duplicate-app",{appName:i})}const s=new ze(i);for(const c of Pt.values())s.addComponent(c);const a=new Vt(n,r,s);return Ot.set(i,a),a}function qt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;const t=Ot.get(e);if(!t&&e===Nt&&nt())return zt();if(!t)throw Ft.create("no-app",{appName:e});return t}function Wt(){return Array.from(Ot.values())}async function Ht(e){const t=e.name;Ot.has(t)&&(Ot.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Kt(e,t,n){var r;let i=null!==(r=At[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xt.warn(e.join(" "))}Lt(new Fe("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Gt(e,t){if(null!==e&&"function"!==typeof e)throw Ft.create("invalid-log-argument");!function(e,t){for(const n of qe){let r=null;t&&t.level&&(r=He[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:We[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function Qt(e){var t;t=e,qe.forEach((e=>{e.setLogLevel(t)}))}const Yt="firebase-heartbeat-database",Jt=1,Xt="firebase-heartbeat-store";let $t=null;function Zt(){return $t||($t=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=wt(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(wt(s.result),e.oldVersion,e.newVersion,wt(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Yt,Jt,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Xt)}}).catch((e=>{throw Ft.create("idb-open",{originalErrorMessage:e.message})}))),$t}async function en(e,t){try{const n=(await Zt()).transaction(Xt,"readwrite"),r=n.objectStore(Xt);await r.put(t,tn(e)),await n.done}catch(n){if(n instanceof rt)xt.warn(n.message);else{const e=Ft.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});xt.warn(e.message)}}}function tn(e){return"".concat(e.name,"!").concat(e.options.appId)}class nn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new on(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=rn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),sn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=$e(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function rn(){return(new Date).toISOString().substring(0,10)}class on{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Zt();return await t.transaction(Xt).objectStore(Xt).get(tn(e))}catch(t){if(t instanceof rt)xt.warn(t.message);else{const e=Ft.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});xt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return en(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return en(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function sn(e){return $e(JSON.stringify({version:2,heartbeats:e})).length}var an;an="",Lt(new Fe("platform-logger",(e=>new St(e)),"PRIVATE")),Lt(new Fe("heartbeat",(e=>new nn(e)),"PRIVATE")),Kt(kt,Ct,an),Kt(kt,Ct,"esm2017"),Kt("fire-js","");const cn=[];var ln;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ln||(ln={}));const un={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},hn=ln.INFO,dn={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},fn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class pn{constructor(e,t){this._delegate=e,this.firebase=t,Rt(e,new Fe("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ht(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Rt(this._delegate,e)}_addOrOverwriteComponent(e){Dt(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const mn=new Ae("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const gn=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=zt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Pe(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Kt,setLogLevel:Qt,onLog:Gt,apps:null,SDK_VERSION:Bt,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Lt(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw mn.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&xe(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Pe(n,e=e||Nt))throw mn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(pn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){xe(n,e)},createSubscribe:Re,ErrorFactory:Ae,deepExtend:xe}),n}(),vn=new class{constructor(e){this.name=e,this._logLevel=hn,this._logHandler=fn,this._userLogHandler=null,cn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ln))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?un[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){vn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&vn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yn=gn;!function(e){Kt("@firebase/app-compat","0.2.25",e)}();yn.registerVersion("firebase","10.7.1","app-compat");const wn={apiKey:"AIzaSyAUlqVFqNfKTY34UCA0_jt9kHlTqMgDzi0",authDomain:"ar-classroom-1bb48.firebaseapp.com",projectId:"ar-classroom-1bb48",storageBucket:"ar-classroom-1bb48.appspot.com",messagingSenderId:"801778279327",appId:"1:801778279327:web:e63f67b115057a5e2c53aa",measurementId:"G-DEC44C4SPG"};yn.apps.length||yn.initializeApp(wn);const bn=yn;function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_n.apply(this,arguments)}function En(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(e,t){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},In(e,t)}function Sn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,In(e,t)}var kn,Cn=n(2007),xn=n.n(Cn),Nn=n(1694),An=n.n(Nn);function On(e,t){return void 0===e&&(e=""),void 0===t&&(t=kn),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}var Pn={};function Rn(e){Pn[e]||("undefined"!==typeof console&&console.error(e),Pn[e]=!0)}var Dn="object"===typeof window&&window.Element||function(){};xn().oneOfType([xn().string,xn().func,function(e,t,n){if(!(e[t]instanceof Dn))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},xn().shape({current:xn().any})]);var Ln=xn().oneOfType([xn().func,xn().string,xn().shape({$$typeof:xn().symbol,render:xn().func}),xn().arrayOf(xn().oneOfType([xn().func,xn().string,xn().shape({$$typeof:xn().symbol,render:xn().func})]))]),Mn=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"];"undefined"===typeof window||!window.document||window.document.createElement;function jn(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)}var Un=["className","cssModule","inline","tag","innerRef"],Fn={children:xn().node,inline:xn().bool,tag:Ln,innerRef:xn().oneOfType([xn().object,xn().func,xn().string]),className:xn().string,cssModule:xn().object},Vn=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Tn(n)),n.submit=n.submit.bind(Tn(n)),n}Sn(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,i=e.inline,o=e.tag,s=e.innerRef,a=En(e,Un),c=On(An()(t,!!i&&"form-inline"),n);return r.createElement(o,_n({},a,{ref:s,className:c}))},t}(r.Component);Vn.propTypes=Fn,Vn.defaultProps={tag:"form"};const Bn=Vn;var zn=["className","cssModule","row","disabled","check","inline","tag"],qn={children:xn().node,row:xn().bool,check:xn().bool,inline:xn().bool,disabled:xn().bool,tag:Ln,className:xn().string,cssModule:xn().object},Wn=function(e){var t=e.className,n=e.cssModule,i=e.row,o=e.disabled,s=e.check,a=e.inline,c=e.tag,l=En(e,zn),u=On(An()(t,!!i&&"row",s?"form-check":"form-group",!(!s||!a)&&"form-check-inline",!(!s||!o)&&"disabled"),n);return"fieldset"===c&&(l.disabled=o),r.createElement(c,_n({},l,{className:u}))};Wn.propTypes=qn,Wn.defaultProps={tag:"div"};const Hn=Wn;var Kn=["className","cssModule","hidden","widths","tag","check","size","for"],Gn=xn().oneOfType([xn().number,xn().string]),Qn=xn().oneOfType([xn().bool,xn().string,xn().number,xn().shape({size:Gn,order:Gn,offset:Gn})]),Yn={children:xn().node,hidden:xn().bool,check:xn().bool,size:xn().string,for:xn().string,tag:Ln,className:xn().string,cssModule:xn().object,xs:Qn,sm:Qn,md:Qn,lg:Qn,xl:Qn,widths:xn().array},Jn={tag:"label",widths:["xs","sm","md","lg","xl"]},Xn=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},$n=function(e){var t=e.className,n=e.cssModule,i=e.hidden,o=e.widths,s=e.tag,a=e.check,c=e.size,l=e.for,u=En(e,Kn),h=[];o.forEach((function(t,r){var i=e[t];if(delete u[t],i||""===i){var o,s=!r;if(jn(i)){var a,c=s?"-":"-"+t+"-";o=Xn(s,t,i.size),h.push(On(An()(((a={})[o]=i.size||""===i.size,a["order"+c+i.order]=i.order||0===i.order,a["offset"+c+i.offset]=i.offset||0===i.offset,a))),n)}else o=Xn(s,t,i),h.push(o)}}));var d=On(An()(t,!!i&&"sr-only",!!a&&"form-check-label",!!c&&"col-form-label-"+c,h,!!h.length&&"col-form-label"),n);return r.createElement(s,_n({htmlFor:l},u,{className:d}))};$n.propTypes=Yn,$n.defaultProps=Jn;const Zn=$n;var er=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"],tr={children:xn().node,type:xn().string,size:xn().oneOfType([xn().number,xn().string]),bsSize:xn().string,valid:xn().bool,invalid:xn().bool,tag:Ln,innerRef:xn().oneOfType([xn().object,xn().func,xn().string]),plaintext:xn().bool,addon:xn().bool,className:xn().string,cssModule:xn().object},nr=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Tn(n)),n.focus=n.focus.bind(Tn(n)),n}Sn(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,i=e.type,o=e.bsSize,s=e.valid,a=e.invalid,c=e.tag,l=e.addon,u=e.plaintext,h=e.innerRef,d=En(e,er),f=["radio","checkbox"].indexOf(i)>-1,p=new RegExp("\\D","g"),m=c||("select"===i||"textarea"===i?i:"input"),g="form-control";u?(g+="-plaintext",m=c||"input"):"file"===i?g+="-file":"range"===i?g+="-range":f&&(g=l?null:"form-check-input"),d.size&&p.test(d.size)&&(Rn('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),o=d.size,delete d.size);var v=On(An()(t,a&&"is-invalid",s&&"is-valid",!!o&&"form-control-"+o,g),n);return("input"===m||c&&"function"===typeof c)&&(d.type=i),d.children&&!u&&"select"!==i&&"string"===typeof m&&"select"!==m&&(Rn('Input with a type of "'+i+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete d.children),r.createElement(m,_n({},d,{ref:h,className:v,"aria-invalid":a}))},t}(r.Component);nr.propTypes=tr,nr.defaultProps={type:"text"};const rr=nr;var ir=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"],or={active:xn().bool,"aria-label":xn().string,block:xn().bool,color:xn().string,disabled:xn().bool,outline:xn().bool,tag:Ln,innerRef:xn().oneOfType([xn().object,xn().func,xn().string]),onClick:xn().func,size:xn().string,children:xn().node,className:xn().string,cssModule:xn().object,close:xn().bool},sr=function(e){function t(t){var n;return(n=e.call(this,t)||this).onClick=n.onClick.bind(Tn(n)),n}Sn(t,e);var n=t.prototype;return n.onClick=function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()},n.render=function(){var e=this.props,t=e.active,n=e["aria-label"],i=e.block,o=e.className,s=e.close,a=e.cssModule,c=e.color,l=e.outline,u=e.size,h=e.tag,d=e.innerRef,f=En(e,ir);s&&"undefined"===typeof f.children&&(f.children=r.createElement("span",{"aria-hidden":!0},"\xd7"));var p="btn"+(l?"-outline":"")+"-"+c,m=On(An()(o,{close:s},s||"btn",s||p,!!u&&"btn-"+u,!!i&&"btn-block",{active:t,disabled:this.props.disabled}),a);f.href&&"button"===h&&(h="a");var g=s?"Close":null;return r.createElement(h,_n({type:"button"===h&&f.onClick?"button":void 0},f,{className:m,ref:d,onClick:this.onClick,"aria-label":n||g}))},t}(r.Component);sr.propTypes=or,sr.defaultProps={color:"secondary",tag:"button"};const ar=sr,cr=[];var lr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(lr||(lr={}));const ur={debug:lr.DEBUG,verbose:lr.VERBOSE,info:lr.INFO,warn:lr.WARN,error:lr.ERROR,silent:lr.SILENT},hr=lr.INFO,dr={[lr.DEBUG]:"log",[lr.VERBOSE]:"log",[lr.INFO]:"info",[lr.WARN]:"warn",[lr.ERROR]:"error"},fr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=dr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};const pr=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},mr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new gr;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class gr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vr=function(e){return function(e){const t=pr(e);return mr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},yr=function(e){try{return mr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const wr=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,br=()=>{try{return wr()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&yr(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}};function _r(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Er(){return!function(){var e;const t=null===(e=br())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class Tr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ir.prototype.create)}}class Ir{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Sr,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Tr(n,o,t)}}const Sr=/\{\$([^}]+)}/g;function kr(e){return e&&e._delegate?e._delegate:e}var Cr,xr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Nr={},Ar=Ar||{},Or=xr||self;function Pr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Rr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Dr="closure_uid_"+(1e9*Math.random()>>>0),Lr=0;function Mr(e,t,n){return e.call.apply(e.bind,arguments)}function jr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ur(e,t,n){return(Ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mr:jr).apply(null,arguments)}function Fr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Vr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Br(){this.s=this.s,this.o=this.o}Br.prototype.s=!1,Br.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Dr)&&e[Dr]||(e[Dr]=++Lr))},Br.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qr(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Wr(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Pr(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Hr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Hr.prototype.h=function(){this.defaultPrevented=!0};var Kr=function(){if(!Or.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Or.addEventListener("test",e,t),Or.removeEventListener("test",e,t)}catch(n){}return e}();function Gr(e){return/^[\s\xa0]*$/.test(e)}function Qr(){var e=Or.navigator;return e&&(e=e.userAgent)?e:""}function Yr(e){return-1!=Qr().indexOf(e)}function Jr(e){return Jr[" "](e),e}Jr[" "]=function(){};var Xr,$r,Zr=Yr("Opera"),ei=Yr("Trident")||Yr("MSIE"),ti=Yr("Edge"),ni=ti||ei,ri=Yr("Gecko")&&!(-1!=Qr().toLowerCase().indexOf("webkit")&&!Yr("Edge"))&&!(Yr("Trident")||Yr("MSIE"))&&!Yr("Edge"),ii=-1!=Qr().toLowerCase().indexOf("webkit")&&!Yr("Edge");function oi(){var e=Or.document;return e?e.documentMode:void 0}e:{var si="",ai=function(){var e=Qr();return ri?/rv:([^\);]+)(\)|;)/.exec(e):ti?/Edge\/([\d\.]+)/.exec(e):ei?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ii?/WebKit\/(\S+)/.exec(e):Zr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ai&&(si=ai?ai[1]:""),ei){var ci=oi();if(null!=ci&&ci>parseFloat(si)){Xr=String(ci);break e}}Xr=si}if(Or.document&&ei){var li=oi();$r=li||(parseInt(Xr,10)||void 0)}else $r=void 0;var ui=$r;function hi(e,t){if(Hr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ri){e:{try{Jr(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:di[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hi.$.h.call(this)}}Vr(hi,Hr);var di={2:"touch",3:"pen",4:"mouse"};hi.prototype.h=function(){hi.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fi="closure_listenable_"+(1e6*Math.random()|0),pi=0;function mi(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++pi,this.fa=this.ia=!1}function gi(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function vi(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function yi(e){const t={};for(const n in e)t[n]=e[n];return t}const wi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bi(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<wi.length;t++)n=wi[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _i(e){this.src=e,this.g={},this.h=0}function Ei(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=zr(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ti(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}_i.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Ti(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new mi(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Ii="closure_lm_"+(1e6*Math.random()|0),Si={};function ki(e,t,n,r,i){if(r&&r.once)return xi(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ki(e,t[o],n,r,i);return null}return n=Li(n),e&&e[fi]?e.O(t,n,Rr(r)?!!r.capture:!!r,i):Ci(e,t,n,!1,r,i)}function Ci(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Rr(i)?!!i.capture:!!i,a=Ri(e);if(a||(e[Ii]=a=new _i(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Pi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kr||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Oi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xi(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)xi(e,t[o],n,r,i);return null}return n=Li(n),e&&e[fi]?e.P(t,n,Rr(r)?!!r.capture:!!r,i):Ci(e,t,n,!0,r,i)}function Ni(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ni(e,t[o],n,r,i);else r=Rr(r)?!!r.capture:!!r,n=Li(n),e&&e[fi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ti(o=e.g[t],n,r,i))&&(gi(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ri(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ti(t,n,r,i)),(n=-1<e?t[e]:null)&&Ai(n))}function Ai(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[fi])Ei(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Oi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ri(t))?(Ei(n,e),0==n.h&&(n.src=null,t[Ii]=null)):gi(e)}}}function Oi(e){return e in Si?Si[e]:Si[e]="on"+e}function Pi(e,t){if(e.fa)e=!0;else{t=new hi(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ai(e),e=n.call(r,t)}return e}function Ri(e){return(e=e[Ii])instanceof _i?e:null}var Di="__closure_events_fn_"+(1e9*Math.random()>>>0);function Li(e){return"function"===typeof e?e:(e[Di]||(e[Di]=function(t){return e.handleEvent(t)}),e[Di])}function Mi(){Br.call(this),this.i=new _i(this),this.S=this,this.J=null}function ji(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Hr(t,e);else if(t instanceof Hr)t.target=t.target||e;else{var i=t;bi(t=new Hr(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ui(s,r,!0,t)&&i}if(i=Ui(s=t.g=e,r,!0,t)&&i,i=Ui(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ui(s=t.g=n[o],r,!1,t)&&i}function Ui(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Ei(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Vr(Mi,Br),Mi.prototype[fi]=!0,Mi.prototype.removeEventListener=function(e,t,n,r){Ni(this,e,t,n,r)},Mi.prototype.N=function(){if(Mi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gi(n[r]);delete t.g[e],t.h--}}this.J=null},Mi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Mi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fi=Or.JSON.stringify;function Vi(){var e=Gi;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bi=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new zi),(e=>e.reset()));class zi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qi(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Wi(e){Or.setTimeout((()=>{throw e}),0)}let Hi,Ki=!1,Gi=new class{constructor(){this.h=this.g=null}add(e,t){const n=Bi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Qi=()=>{const e=Or.Promise.resolve(void 0);Hi=()=>{e.then(Yi)}};var Yi=()=>{for(var e;e=Vi();){try{e.h.call(e.g)}catch(n){Wi(n)}var t=Bi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ki=!1};function Ji(e,t){Mi.call(this),this.h=e||1,this.g=t||Or,this.j=Ur(this.qb,this),this.l=Date.now()}function Xi(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function $i(e,t,n){if("function"===typeof e)n&&(e=Ur(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ur(e.handleEvent,e)}return 2147483647<Number(t)?-1:Or.setTimeout(e,t||0)}function Zi(e){e.g=$i((()=>{e.g=null,e.i&&(e.i=!1,Zi(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Vr(Ji,Mi),(Cr=Ji.prototype).ga=!1,Cr.T=null,Cr.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ji(this,"tick"),this.ga&&(Xi(this),this.start()))}},Cr.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cr.N=function(){Ji.$.N.call(this),Xi(this),delete this.g};class eo extends Br{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zi(this)}N(){super.N(),this.g&&(Or.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function to(e){Br.call(this),this.h=e,this.g={}}Vr(to,Br);var no=[];function ro(e,t,n,r){Array.isArray(n)||(n&&(no[0]=n.toString()),n=no);for(var i=0;i<n.length;i++){var o=ki(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function io(e){vi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ai(e)}),e),e.g={}}function oo(){this.g=!0}function so(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Fi(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}to.prototype.N=function(){to.$.N.call(this),io(this)},to.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oo.prototype.Ea=function(){this.g=!1},oo.prototype.info=function(){};var ao={},co=null;function lo(){return co=co||new Mi}function uo(e){Hr.call(this,ao.Ta,e)}function ho(e){const t=lo();ji(t,new uo(t))}function fo(e,t){Hr.call(this,ao.STAT_EVENT,e),this.stat=t}function po(e){const t=lo();ji(t,new fo(t,e))}function mo(e,t){Hr.call(this,ao.Ua,e),this.size=t}function go(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Or.setTimeout((function(){e()}),t)}ao.Ta="serverreachability",Vr(uo,Hr),ao.STAT_EVENT="statevent",Vr(fo,Hr),ao.Ua="timingevent",Vr(mo,Hr);var vo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wo(){}function bo(e){return e.h||(e.h=e.i())}function _o(){}wo.prototype.h=null;var Eo,To={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Io(){Hr.call(this,"d")}function So(){Hr.call(this,"c")}function ko(){}function Co(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new to(this),this.P=No,e=ni?125:void 0,this.V=new Ji(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xo}function xo(){this.i=null,this.g="",this.h=!1}Vr(Io,Hr),Vr(So,Hr),Vr(ko,wo),ko.prototype.g=function(){return new XMLHttpRequest},ko.prototype.i=function(){return{}},Eo=new ko;var No=45e3,Ao={},Oo={};function Po(e,t,n){e.L=1,e.A=Xo(Ko(t)),e.u=n,e.S=!0,Ro(e,null)}function Ro(e,t){e.G=Date.now(),jo(e),e.B=Ko(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),us(n.i,"t",r),e.o=0,n=e.l.J,e.h=new xo,e.g=ha(e.l,n?t:null,!e.u),0<e.O&&(e.M=new eo(Ur(e.Pa,e,e.g),e.O)),ro(e.U,e.g,"readystatechange",e.nb),t=e.I?yi(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ho(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Do(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Lo(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Mo(e,n),r==Oo){4==t&&(e.s=4,po(14),i=!1),so(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ao){e.s=4,po(15),so(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}so(e.j,e.m,r,null),zo(e,r)}Do(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,po(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ra(t),t.M=!0,po(11))):(so(e.j,e.m,n,"[Invalid Chunked Response]"),Bo(e),Vo(e))}function Mo(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Oo:(n=Number(t.substring(n,r)),isNaN(n)?Ao:(r+=1)+n>t.length?Oo:(t=t.slice(r,r+n),e.o=r+n,t))}function jo(e){e.Y=Date.now()+e.P,Uo(e,e.P)}function Uo(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=go(Ur(e.lb,e),t)}function Fo(e){e.C&&(Or.clearTimeout(e.C),e.C=null)}function Vo(e){0==e.l.H||e.J||sa(e.l,e)}function Bo(e){Fo(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Xi(e.V),io(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function zo(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||vs(n.i,e)))if(!e.K&&vs(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;oa(n),Ys(n)}na(n),po(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=go(Ur(n.ib,n),6e3));if(1>=gs(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else ca(n,11)}else if((e.K||n.g==e)&&oa(n),!Gr(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ys(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Jo(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=ua(r,r.J?r.pa:null,r.Y),s.K){ws(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(Fo(a),jo(a)),r.g=s}else ta(r);0<n.j.length&&Xs(n)}else"stop"!=l[0]&&"close"!=l[0]||ca(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ca(n,7):Qs(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}ho()}catch(l){}}function qo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Pr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Pr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Pr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Cr=Co.prototype).setTimeout=function(e){this.P=e},Cr.nb=function(e){e=e.target;const t=this.M;t&&3==zs(e)?t.l():this.Pa(e)},Cr.Pa=function(e){try{if(e==this.g)e:{const u=zs(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||ni||this.g&&(this.h.h||this.g.ja()||qs(this.g)))){this.J||4!=u||7==t||ho(),Fo(this);var n=this.g.da();this.ca=n;t:if(Do(this)){var r=qs(this.g);e="";var i=r.length,o=4==zs(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bo(this),Vo(this);var s="";break t}this.h.i=new Or.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gr(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,po(12),Bo(this),Vo(this);break e}so(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zo(this,n)}this.S?(Lo(this,u,s),ni&&this.i&&3==u&&(ro(this.U,this.V,"tick",this.mb),this.V.start())):(so(this.j,this.m,s,null),zo(this,s)),4==u&&Bo(this),this.i&&!this.J&&(4==u?sa(this.l,this):(this.i=!1,jo(this)))}else(function(e){const t={};e=(e.g&&2<=zs(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Gr(e[r]))continue;var n=qi(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,po(12)):(this.s=0,po(13)),Bo(this),Vo(this)}}}catch(u){}},Cr.mb=function(){if(this.g){var e=zs(this.g),t=this.g.ja();this.o<t.length&&(Fo(this),Lo(this,e,t),this.i&&4!=e&&jo(this))}},Cr.cancel=function(){this.J=!0,Bo(this)},Cr.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(ho(),po(17)),Bo(this),this.s=2,Vo(this)):Uo(this,this.Y-e)};var Wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ho(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ho){this.h=e.h,Go(this,e.j),this.s=e.s,this.g=e.g,Qo(this,e.m),this.l=e.l;var t=e.i,n=new ss;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Yo(this,n),this.o=e.o}else e&&(t=String(e).match(Wo))?(this.h=!1,Go(this,t[1]||"",!0),this.s=$o(t[2]||""),this.g=$o(t[3]||"",!0),Qo(this,t[4]),this.l=$o(t[5]||"",!0),Yo(this,t[6]||"",!0),this.o=$o(t[7]||"")):(this.h=!1,this.i=new ss(null,this.h))}function Ko(e){return new Ho(e)}function Go(e,t,n){e.j=n?$o(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yo(e,t,n){t instanceof ss?(e.i=t,function(e,t){t&&!e.j&&(as(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(cs(this,t),us(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Zo(t,is)),e.i=new ss(t,e.h))}function Jo(e,t,n){e.i.set(t,n)}function Xo(e){return Jo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $o(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,es),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function es(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ho.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zo(t,ts,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zo(t,ts,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zo(n,"/"==n.charAt(0)?rs:ns,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zo(n,os)),e.join("")};var ts=/[#\/\?@]/g,ns=/[#\?:]/g,rs=/[#\?]/g,is=/[#\?@]/g,os=/#/g;function ss(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function as(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function cs(e,t){as(e),t=hs(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ls(e,t){return as(e),t=hs(e,t),e.g.has(t)}function us(e,t,n){cs(e,t),0<n.length&&(e.i=null,e.g.set(hs(e,t),qr(n)),e.h+=n.length)}function hs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cr=ss.prototype).add=function(e,t){as(this),this.i=null,e=hs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cr.forEach=function(e,t){as(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Cr.ta=function(){as(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Cr.Z=function(e){as(this);let t=[];if("string"===typeof e)ls(this,e)&&(t=t.concat(this.g.get(hs(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Cr.set=function(e,t){return as(this),this.i=null,ls(this,e=hs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cr.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Cr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var ds=class{constructor(e,t){this.g=e,this.map=t}};function fs(e){this.l=e||ps,Or.PerformanceNavigationTiming?e=0<(e=Or.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Or.g&&Or.g.Ka&&Or.g.Ka()&&Or.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ps=10;function ms(e){return!!e.h||!!e.g&&e.g.size>=e.j}function gs(e){return e.h?1:e.g?e.g.size:0}function vs(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ys(e,t){e.g?e.g.add(t):e.h=t}function ws(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function bs(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return qr(e.i)}fs.prototype.cancel=function(){if(this.i=bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var _s,Es=class{stringify(e){return Or.JSON.stringify(e,void 0)}parse(e){return Or.JSON.parse(e,void 0)}};function Ts(){this.g=new Es}function Is(e,t,n){const r=n||"";try{qo(e,(function(e,n){let i=e;Rr(e)&&(i=Fi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ss(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function ks(e){this.l=e.ec||null,this.j=e.ob||!1}function Cs(e,t){Mi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=xs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vr(ks,wo),ks.prototype.g=function(){return new Cs(this.l,this.j)},ks.prototype.i=(_s={},function(){return _s}),Vr(Cs,Mi);var xs=0;function Ns(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function As(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Os(e)}function Os(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cr=Cs.prototype).open=function(e,t){if(this.readyState!=xs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Os(this)},Cr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Or).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Cr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,As(this)),this.readyState=xs},Cr.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Or.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ns(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Cr.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?As(this):Os(this),3==this.readyState&&Ns(this)}},Cr.Za=function(e){this.g&&(this.response=this.responseText=e,As(this))},Cr.Ya=function(e){this.g&&(this.response=e,As(this))},Cr.ka=function(){this.g&&As(this)},Cr.setRequestHeader=function(e,t){this.v.append(e,t)},Cr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cr.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ps=Or.JSON.parse;function Rs(e){Mi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ds,this.L=this.M=!1}Vr(Rs,Mi);var Ds="",Ls=/^https?$/i,Ms=["POST","PUT"];function js(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Us(e),Vs(e)}function Us(e){e.F||(e.F=!0,ji(e,"complete"),ji(e,"error"))}function Fs(e){if(e.h&&"undefined"!=typeof Ar&&(!e.C[1]||4!=zs(e)||2!=e.da()))if(e.v&&4==zs(e))$i(e.La,0,e);else if(ji(e,"readystatechange"),4==zs(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Wo)[1]||null;!i&&Or.self&&Or.self.location&&(i=Or.self.location.protocol.slice(0,-1)),r=!Ls.test(i?i.toLowerCase():"")}n=r}if(n)ji(e,"complete"),ji(e,"success");else{e.m=6;try{var o=2<zs(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Us(e)}}finally{Vs(e)}}}function Vs(e,t){if(e.g){Bs(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ji(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Bs(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Or.clearTimeout(e.A),e.A=null)}function zs(e){return e.g?e.g.readyState:0}function qs(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ds:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ja){return null}}function Ws(e){let t="";return vi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Hs(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ws(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Jo(e,t,n))}function Ks(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gs(e){this.Ga=0,this.j=[],this.l=new oo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ks("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ks("baseRetryDelayMs",5e3,e),this.hb=Ks("retryDelaySeedMs",1e4,e),this.eb=Ks("forwardChannelMaxRetries",2,e),this.xa=Ks("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new fs(e&&e.concurrentRequestLimit),this.Ja=new Ts,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qs(e){if(Js(e),3==e.H){var t=e.W++,n=Ko(e.I);if(Jo(n,"SID",e.K),Jo(n,"RID",t),Jo(n,"TYPE","terminate"),Zs(e,n),(t=new Co(e,e.l,t)).L=2,t.A=Xo(Ko(n)),n=!1,Or.navigator&&Or.navigator.sendBeacon)try{n=Or.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Or.Image&&((new Image).src=t.A,n=!0),n||(t.g=ha(t.l,null),t.g.ha(t.A)),t.G=Date.now(),jo(t)}la(e)}function Ys(e){e.g&&(ra(e),e.g.cancel(),e.g=null)}function Js(e){Ys(e),e.u&&(Or.clearTimeout(e.u),e.u=null),oa(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Or.clearTimeout(e.m),e.m=null)}function Xs(e){if(!ms(e.i)&&!e.m){e.m=!0;var t=e.Na;Hi||Qi(),Ki||(Hi(),Ki=!0),Gi.add(t,e),e.C=0}}function $s(e,t){var n;n=t?t.m:e.W++;const r=Ko(e.I);Jo(r,"SID",e.K),Jo(r,"RID",n),Jo(r,"AID",e.V),Zs(e,r),e.o&&e.s&&Hs(r,e.o,e.s),n=new Co(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ea(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ys(e.i,n),Po(n,r,t)}function Zs(e,t){e.na&&vi(e.na,(function(e,n){Jo(t,n,e)})),e.h&&qo({},(function(e,n){Jo(t,n,e)}))}function ea(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ur(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Is(a,e,"req"+n+"_")}catch(fl){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ta(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Hi||Qi(),Ki||(Hi(),Ki=!0),Gi.add(t,e),e.A=0}}function na(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=go(Ur(e.Ma,e),aa(e,e.A)),e.A++,!0)}function ra(e){null!=e.B&&(Or.clearTimeout(e.B),e.B=null)}function ia(e){e.g=new Co(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ko(e.wa);Jo(t,"RID","rpc"),Jo(t,"SID",e.K),Jo(t,"AID",e.V),Jo(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Jo(t,"TO",e.qa),Jo(t,"TYPE","xmlhttp"),Zs(e,t),e.o&&e.s&&Hs(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Xo(Ko(t)),n.u=null,n.S=!0,Ro(n,e)}function oa(e){null!=e.v&&(Or.clearTimeout(e.v),e.v=null)}function sa(e,t){var n=null;if(e.g==t){oa(e),ra(e),e.g=null;var r=2}else{if(!vs(e.i,t))return;n=t.F,ws(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;ji(r=lo(),new mo(r,n)),Xs(e)}else ta(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(gs(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=go(Ur(e.Na,e,t),aa(e,e.C)),e.C++,!0))}(e,t)||2==r&&na(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ca(e,5);break;case 4:ca(e,10);break;case 3:ca(e,6);break;default:ca(e,2)}}function aa(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ca(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ur(e.pb,e);n||(n=new Ho("//www.google.com/images/cleardot.gif"),Or.location&&"http"==Or.location.protocol||Go(n,"https"),Xo(n)),function(e,t){const n=new oo;if(Or.Image){const r=new Image;r.onload=Fr(Ss,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fr(Ss,n,r,"TestLoadImage: error",!1,t),r.onabort=Fr(Ss,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fr(Ss,n,r,"TestLoadImage: timeout",!1,t),Or.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else po(2);e.H=0,e.h&&e.h.za(t),la(e),Js(e)}function la(e){if(e.H=0,e.ma=[],e.h){const t=bs(e.i);0==t.length&&0==e.j.length||(Wr(e.ma,t),Wr(e.ma,e.j),e.i.i.length=0,qr(e.j),e.j.length=0),e.h.ya()}}function ua(e,t,n){var r=n instanceof Ho?Ko(n):new Ho(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Qo(r,r.m);else{var i=Or.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Ho(null);r&&Go(o,r),t&&(o.g=t),i&&Qo(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Jo(r,n,t),Jo(r,"VER",e.ra),Zs(e,r),r}function ha(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Rs(new ks({ob:n})):new Rs(e.va)).Oa(e.J),t}function da(){}function fa(){if(ei&&!(10<=Number(ui)))throw Error("Environmental error: no available transport.")}function pa(e,t){Mi.call(this),this.g=new Gs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Gr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new va(this)}function ma(e){Io.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ga(){So.call(this),this.status=1}function va(e){this.g=e}function ya(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function wa(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function ba(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Cr=Rs.prototype).Oa=function(e){this.M=e},Cr.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Eo.g(),this.C=this.u?bo(this.u):bo(Eo),this.g.onreadystatechange=Ur(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void js(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Or.FormData&&e instanceof Or.FormData,!(0<=zr(Ms,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Bs(this),0<this.B&&((this.L=function(e){return ei&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ur(this.ua,this)):this.A=$i(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){js(this,o)}},Cr.ua=function(){"undefined"!=typeof Ar&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ji(this,"timeout"),this.abort(8))},Cr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ji(this,"complete"),ji(this,"abort"),Vs(this))},Cr.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vs(this,!0)),Rs.$.N.call(this)},Cr.La=function(){this.s||(this.G||this.v||this.l?Fs(this):this.kb())},Cr.kb=function(){Fs(this)},Cr.isActive=function(){return!!this.g},Cr.da=function(){try{return 2<zs(this)?this.g.status:-1}catch(_s){return-1}},Cr.ja=function(){try{return this.g?this.g.responseText:""}catch(_s){return""}},Cr.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ps(t)}},Cr.Ia=function(){return this.m},Cr.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cr=Gs.prototype).ra=8,Cr.H=1,Cr.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Co(this,this.l,e);let o=this.s;if(this.U&&(o?(o=yi(o),bi(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ea(this,i,t),Jo(n=Ko(this.I),"RID",e),Jo(n,"CVER",22),this.F&&Jo(n,"X-HTTP-Session-Id",this.F),Zs(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Ws(o)))+"&"+t:this.o&&Hs(n,this.o,o)),ys(this.i,i),this.bb&&Jo(n,"TYPE","init"),this.P?(Jo(n,"$req",t),Jo(n,"SID","null"),i.aa=!0,Po(i,n,null)):Po(i,n,t),this.H=2}}else 3==this.H&&(e?$s(this,e):0==this.j.length||ms(this.i)||$s(this))},Cr.Ma=function(){if(this.u=null,ia(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=go(Ur(this.jb,this),e)}},Cr.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,po(10),Ys(this),ia(this))},Cr.ib=function(){null!=this.v&&(this.v=null,Ys(this),na(this),po(19))},Cr.pb=function(e){e?(this.l.info("Successfully pinged google.com"),po(2)):(this.l.info("Failed to ping google.com"),po(1))},Cr.isActive=function(){return!!this.h&&this.h.isActive(this)},(Cr=da.prototype).Ba=function(){},Cr.Aa=function(){},Cr.za=function(){},Cr.ya=function(){},Cr.isActive=function(){return!0},Cr.Va=function(){},fa.prototype.g=function(e,t){return new pa(e,t)},Vr(pa,Mi),pa.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;po(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ua(e,null,e.Y),Xs(e)},pa.prototype.close=function(){Qs(this.g)},pa.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fi(e),e=n);t.j.push(new ds(t.fb++,e)),3==t.H&&Xs(t)},pa.prototype.N=function(){this.g.h=null,delete this.j,Qs(this.g),delete this.g,pa.$.N.call(this)},Vr(ma,Io),Vr(ga,So),Vr(va,da),va.prototype.Ba=function(){ji(this.g,"a")},va.prototype.Aa=function(e){ji(this.g,new ma(e))},va.prototype.za=function(e){ji(this.g,new ga)},va.prototype.ya=function(){ji(this.g,"b")},Vr(ya,(function(){this.blockSize=-1})),ya.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ya.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)wa(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){wa(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){wa(this,r),i=0;break}}this.h=i,this.i+=t},ya.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var _a={};function Ea(e){return-128<=e&&128>e?function(e,t){var n=_a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new ba([0|e],0>e?-1:0)})):new ba([0|e],0>e?-1:0)}function Ta(e){if(isNaN(e)||!isFinite(e))return Sa;if(0>e)return Aa(Ta(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ia;return new ba(t,0)}var Ia=4294967296,Sa=Ea(0),ka=Ea(1),Ca=Ea(16777216);function xa(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Na(e){return-1==e.h}function Aa(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ba(n,~e.h).add(ka)}function Oa(e,t){return e.add(Aa(t))}function Pa(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ra(e,t){this.g=e,this.h=t}function Da(e,t){if(xa(t))throw Error("division by zero");if(xa(e))return new Ra(Sa,Sa);if(Na(e))return t=Da(Aa(e),t),new Ra(Aa(t.g),Aa(t.h));if(Na(t))return t=Da(e,Aa(t)),new Ra(Aa(t.g),t.h);if(30<e.g.length){if(Na(e)||Na(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ka,r=t;0>=r.X(e);)n=La(n),r=La(r);var i=Ma(n,1),o=Ma(r,1);for(r=Ma(r,2),n=Ma(n,2);!xa(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Ma(r,1),n=Ma(n,1)}return t=Oa(e,i.R(t)),new Ra(i,t)}for(i=Sa;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Ta(n)).R(t);Na(s)||0<s.X(e);)s=(o=Ta(n-=r)).R(t);xa(o)&&(o=ka),i=i.add(o),e=Oa(e,s)}return new Ra(i,e)}function La(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ba(n,e.h)}function Ma(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new ba(i,e.h)}(Cr=ba.prototype).ea=function(){if(Na(this))return-Aa(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ia+r)*t,t*=Ia}return e},Cr.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(xa(this))return"0";if(Na(this))return"-"+Aa(this).toString(e);for(var t=Ta(Math.pow(e,6)),n=this,r="";;){var i=Da(n,t).g,o=((0<(n=Oa(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(xa(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Cr.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Cr.X=function(e){return Na(e=Oa(this,e))?-1:xa(e)?0:1},Cr.abs=function(){return Na(this)?Aa(this):this},Cr.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ba(n,-2147483648&n[n.length-1]?-1:0)},Cr.R=function(e){if(xa(this)||xa(e))return Sa;if(Na(this))return Na(e)?Aa(this).R(Aa(e)):Aa(Aa(this).R(e));if(Na(e))return Aa(this.R(Aa(e)));if(0>this.X(Ca)&&0>e.X(Ca))return Ta(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=s*c,Pa(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Pa(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Pa(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Pa(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ba(n,0)},Cr.gb=function(e){return Da(this,e).h},Cr.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ba(n,this.h&e.h)},Cr.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ba(n,this.h|e.h)},Cr.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ba(n,this.h^e.h)},fa.prototype.createWebChannel=fa.prototype.g,pa.prototype.send=pa.prototype.u,pa.prototype.open=pa.prototype.m,pa.prototype.close=pa.prototype.close,vo.NO_ERROR=0,vo.TIMEOUT=8,vo.HTTP_ERROR=6,yo.COMPLETE="complete",_o.EventType=To,To.OPEN="a",To.CLOSE="b",To.ERROR="c",To.MESSAGE="d",Mi.prototype.listen=Mi.prototype.O,Rs.prototype.listenOnce=Rs.prototype.P,Rs.prototype.getLastError=Rs.prototype.Sa,Rs.prototype.getLastErrorCode=Rs.prototype.Ia,Rs.prototype.getStatus=Rs.prototype.da,Rs.prototype.getResponseJson=Rs.prototype.Wa,Rs.prototype.getResponseText=Rs.prototype.ja,Rs.prototype.send=Rs.prototype.ha,Rs.prototype.setWithCredentials=Rs.prototype.Oa,ya.prototype.digest=ya.prototype.l,ya.prototype.reset=ya.prototype.reset,ya.prototype.update=ya.prototype.j,ba.prototype.add=ba.prototype.add,ba.prototype.multiply=ba.prototype.R,ba.prototype.modulo=ba.prototype.gb,ba.prototype.compare=ba.prototype.X,ba.prototype.toNumber=ba.prototype.ea,ba.prototype.toString=ba.prototype.toString,ba.prototype.getBits=ba.prototype.D,ba.fromNumber=Ta,ba.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Aa(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ta(Math.pow(n,8)),i=Sa,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Ta(Math.pow(n,s)),i=i.R(s).add(Ta(a))):i=(i=i.R(r)).add(Ta(a))}return i};var ja=Nr.createWebChannelTransport=function(){return new fa},Ua=Nr.getStatEventTarget=function(){return lo()},Fa=Nr.ErrorCode=vo,Va=Nr.EventType=yo,Ba=Nr.Event=ao,za=Nr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qa=(Nr.FetchXmlHttpFactory=ks,Nr.WebChannel=_o),Wa=Nr.XhrIo=Rs,Ha=Nr.Md5=ya,Ka=Nr.Integer=ba;const Ga="@firebase/firestore";class Qa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qa.UNAUTHENTICATED=new Qa(null),Qa.GOOGLE_CREDENTIALS=new Qa("google-credentials-uid"),Qa.FIRST_PARTY=new Qa("first-party-uid"),Qa.MOCK_USER=new Qa("mock-user");let Ya="10.7.0";const Ja=new class{constructor(e){this.name=e,this._logLevel=hr,this._logHandler=fr,this._userLogHandler=null,cr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ur[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lr.DEBUG,...t),this._logHandler(this,lr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lr.VERBOSE,...t),this._logHandler(this,lr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lr.INFO,...t),this._logHandler(this,lr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lr.WARN,...t),this._logHandler(this,lr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,lr.ERROR,...t),this._logHandler(this,lr.ERROR,...t)}}("@firebase/firestore");function Xa(){return Ja.logLevel}function $a(e){if(Ja.logLevel<=lr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(tc);Ja.debug("Firestore (".concat(Ya,"): ").concat(e),...i)}}function Za(e){if(Ja.logLevel<=lr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(tc);Ja.error("Firestore (".concat(Ya,"): ").concat(e),...i)}}function ec(e){if(Ja.logLevel<=lr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(tc);Ja.warn("Firestore (".concat(Ya,"): ").concat(e),...i)}}function tc(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function nc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ya,") INTERNAL ASSERTION FAILED: ")+e;throw Za(t),new Error(t)}function rc(e,t){e||nc()}function ic(e,t){return e}const oc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sc extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ac{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class cc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class lc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Qa.UNAUTHENTICATED)))}shutdown(){}}class uc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hc{constructor(e){this.t=e,this.currentUser=Qa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ac;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ac,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{$a("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):($a("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ac)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?($a("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(rc("string"==typeof t.accessToken),new cc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rc(null===e||"string"==typeof e),new Qa(e)}}class dc{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Qa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fc{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new dc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Qa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&$a("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,$a("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{$a("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):$a("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(rc("string"==typeof e.token),this.R=e.token,new pc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class vc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=gc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function yc(e,t){return e<t?-1:e>t?1:0}function wc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function bc(e){return e+"\0"}class _c{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sc(oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sc(oc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sc(oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sc(oc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _c.fromMillis(Date.now())}static fromDate(e){return _c.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new _c(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yc(this.nanoseconds,e.nanoseconds):yc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ec{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ec(e)}static min(){return new Ec(new _c(0,0))}static max(){return new Ec(new _c(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tc{constructor(e,t,n){void 0===t?t=0:t>e.length&&nc(),void 0===n?n=e.length-t:n>e.length-t&&nc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Tc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ic extends Tc{construct(e,t,n){return new Ic(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new sc(oc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Ic(e)}static emptyPath(){return new Ic([])}}const Sc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kc extends Tc{construct(e,t,n){return new kc(e,t,n)}static isValidIdentifier(e){return Sc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new sc(oc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new sc(oc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new sc(oc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new sc(oc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kc(t)}static emptyPath(){return new kc([])}}class Cc{constructor(e){this.path=e}static fromPath(e){return new Cc(Ic.fromString(e))}static fromName(e){return new Cc(Ic.fromString(e).popFirst(5))}static empty(){return new Cc(Ic.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ic.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ic.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Cc(new Ic(e.slice()))}}class xc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Nc(e){return e.fields.find((e=>2===e.kind))}function Ac(e){return e.fields.filter((e=>2!==e.kind))}xc.UNKNOWN_ID=-1;class Oc{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pc(0,Lc.min())}}function Rc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ec.fromTimestamp(1e9===r?new _c(n+1,0):new _c(n,r));return new Lc(i,Cc.empty(),t)}function Dc(e){return new Lc(e.readTime,e.key,-1)}class Lc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Lc(Ec.min(),Cc.empty(),-1)}static max(){return new Lc(Ec.max(),Cc.empty(),-1)}}function Mc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Cc.comparator(e.documentKey,t.documentKey),0!==n?n:yc(e.largestBatchId,t.largestBatchId))}const jc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fc(e){if(e.code!==oc.FAILED_PRECONDITION||e.message!==jc)throw e;$a("LocalStore","Unexpectedly lost primary lease")}class Vc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Vc(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Vc?t:Vc.resolve(t)}catch(e){return Vc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Vc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Vc.reject(t)}static resolve(e){return new Vc(((t,n)=>{t(e)}))}static reject(e){return new Vc(((t,n)=>{n(e)}))}static waitFor(e){return new Vc(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Vc.resolve(!1);for(const n of e)t=t.next((e=>e?Vc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Vc(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Vc(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Bc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ac,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Wc(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Yc(t.target.error);this.V.reject(new Wc(e,n))}}static open(e,t,n,r){try{return new Bc(t,e.transaction(r,n))}catch(e){throw new Wc(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||($a("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Kc(t)}}class zc{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===zc.S(_r())&&Za("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $a("SimpleDb","Removing database:",e),Gc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}())return!1;if(zc.C())return!0;const e=_r(),t=zc.S(e),n=0<t&&t<10,r=zc.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||($a("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Wc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new sc(oc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new sc(oc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Wc(e,r))},r.onupgradeneeded=e=>{$a("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{$a("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=Bc.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Vc.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if($a("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class qc{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Gc(this.k.delete())}}class Wc extends sc{constructor(e,t){super(oc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Hc(e){return"IndexedDbTransactionError"===e.name}class Kc{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?($a("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):($a("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Gc(n)}add(e){return $a("SimpleDb","ADD",this.store.name,e,e),Gc(this.store.add(e))}get(e){return Gc(this.store.get(e)).next((t=>(void 0===t&&(t=null),$a("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return $a("SimpleDb","DELETE",this.store.name,e),Gc(this.store.delete(e))}count(){return $a("SimpleDb","COUNT",this.store.name),Gc(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Vc(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Vc(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){$a("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Vc(((n,r)=>{t.onerror=e=>{const t=Yc(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Vc(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new qc(i),s=t(i.primaryKey,i.value,o);if(s instanceof Vc){const e=s.catch((e=>(o.done(),Vc.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>Vc.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Gc(e){return new Vc(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Yc(e.target.error);n(t)}}))}let Qc=!1;function Yc(e){const t=zc.S(_r());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new sc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Qc||(Qc=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Jc{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){$a("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{$a("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){Hc(e)?$a("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Fc(e)}await this.ee(6e4)}))}}class Xc{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Vc.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return $a("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>($a("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Dc(t);Mc(r,n)>0&&(n=r)})),new Lc(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class $c{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Zc(e){return null==e}function el(e){return 0===e&&1/e==-1/0}function tl(e){return"number"==typeof e&&Number.isInteger(e)&&!el(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function nl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=il(t)),t=rl(e.get(n),t);return il(t)}function rl(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function il(e){return e+"\x01\x01"}function ol(e){const t=e.length;if(rc(t>=2),2===t)return rc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ic.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&nc(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:nc()}o=t+2}return new Ic(r)}$c._e=-1;const sl=["userId","batchId"];function al(e,t){return[e,nl(t)]}function cl(e,t,n){return[e,nl(t),n]}const ll={},ul=["prefixPath","collectionGroup","readTime","documentId"],hl=["prefixPath","collectionGroup","documentId"],dl=["collectionGroup","readTime","prefixPath","documentId"],fl=["canonicalId","targetId"],pl=["targetId","path"],ml=["path","targetId"],gl=["collectionId","parent"],vl=["indexId","uid"],yl=["uid","sequenceNumber"],wl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bl=["indexId","uid","orderedDocumentKey"],_l=["userId","collectionPath","documentId"],El=["userId","collectionPath","largestBatchId"],Tl=["userId","collectionGroup","largestBatchId"],Il=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Sl=[...Il,"documentOverlays"],kl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cl=kl,xl=[...Cl,"indexConfiguration","indexState","indexEntries"];class Nl extends Uc{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Al(e,t){const n=ic(e);return zc.M(n.ae,t)}function Ol(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Dl{constructor(e,t){this.comparator=e,this.root=t||Ml.EMPTY}insert(e,t){return new Dl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ml.BLACK,null,null))}remove(e){return new Dl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ml.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ll(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ll(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ll(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ll(this.root,e,this.comparator,!0)}}class Ll{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ml{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ml.RED,this.left=null!=r?r:Ml.EMPTY,this.right=null!=i?i:Ml.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ml(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ml.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ml.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ml.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ml.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nc();if(this.right.isRed())throw nc();const e=this.left.check();if(e!==this.right.check())throw nc();return e+(this.isRed()?0:1)}}Ml.EMPTY=null,Ml.RED=!0,Ml.BLACK=!1,Ml.EMPTY=new class{constructor(){this.size=0}get key(){throw nc()}get value(){throw nc()}get color(){throw nc()}get left(){throw nc()}get right(){throw nc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ml(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jl{constructor(e){this.comparator=e,this.data=new Dl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ul(this.data.getIterator())}getIteratorFrom(e){return new Ul(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof jl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new jl(this.comparator);return t.data=e,t}}class Ul{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fl(e){return e.hasNext()?e.getNext():void 0}class Vl{constructor(e){this.fields=e,e.sort(kc.comparator)}static empty(){return new Vl([])}unionWith(e){let t=new jl(kc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Vl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Bl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Bl("Invalid base64 string: "+e):e}}(e);return new zl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new zl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zl.EMPTY_BYTE_STRING=new zl("");const ql=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wl(e){if(rc(!!e),"string"==typeof e){let t=0;const n=ql.exec(e);if(rc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Hl(e.seconds),nanos:Hl(e.nanos)}}function Hl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kl(e){return"string"==typeof e?zl.fromBase64String(e):zl.fromUint8Array(e)}function Gl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ql(e){const t=e.mapValue.fields.__previous_value__;return Gl(t)?Ql(t):t}function Yl(e){const t=Wl(e.mapValue.fields.__local_write_time__.timestampValue);return new _c(t.seconds,t.nanos)}class Jl{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class Xl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}const $l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zl={nullValue:"NULL_VALUE"};function eu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gl(e)?4:pu(e)?9007199254740991:10:nc()}function tu(e,t){if(e===t)return!0;const n=eu(e);if(n!==eu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yl(e).isEqual(Yl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Wl(e.timestampValue),r=Wl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kl(e.bytesValue).isEqual(Kl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Hl(e.geoPointValue.latitude)===Hl(t.geoPointValue.latitude)&&Hl(e.geoPointValue.longitude)===Hl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Hl(e.integerValue)===Hl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Hl(e.doubleValue),r=Hl(t.doubleValue);return n===r?el(n)===el(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wc(e.arrayValue.values||[],t.arrayValue.values||[],tu);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ol(n)!==Ol(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tu(n[i],r[i])))return!1;return!0}(e,t);default:return nc()}}function nu(e,t){return void 0!==(e.values||[]).find((e=>tu(e,t)))}function ru(e,t){if(e===t)return 0;const n=eu(e),r=eu(t);if(n!==r)return yc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Hl(e.integerValue||e.doubleValue),r=Hl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return iu(e.timestampValue,t.timestampValue);case 4:return iu(Yl(e),Yl(t));case 5:return yc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Kl(e),r=Kl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=yc(n[i],r[i]);if(0!==e)return e}return yc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=yc(Hl(e.latitude),Hl(t.latitude));return 0!==n?n:yc(Hl(e.longitude),Hl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ru(n[i],r[i]);if(e)return e}return yc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$l.mapValue&&t===$l.mapValue)return 0;if(e===$l.mapValue)return 1;if(t===$l.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=yc(r[s],o[s]);if(0!==e)return e;const t=ru(n[r[s]],i[o[s]]);if(0!==t)return t}return yc(r.length,o.length)}(e.mapValue,t.mapValue);default:throw nc()}}function iu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yc(e,t);const n=Wl(e),r=Wl(t),i=yc(n.seconds,r.seconds);return 0!==i?i:yc(n.nanos,r.nanos)}function ou(e){return su(e)}function su(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Wl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Kl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Cc.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=su(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(su(e.fields[i]));return n+"}"}(e.mapValue):nc()}function au(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function cu(e){return!!e&&"integerValue"in e}function lu(e){return!!e&&"arrayValue"in e}function uu(e){return!!e&&"nullValue"in e}function hu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function du(e){return!!e&&"mapValue"in e}function fu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Pl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=fu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function mu(e){return"nullValue"in e?Zl:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?au(Xl.empty(),Cc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:nc()}function gu(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?au(Xl.empty(),Cc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?$l:nc()}function vu(e,t){const n=ru(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function yu(e,t){const n=ru(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class wu{constructor(e){this.value=e}static empty(){return new wu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!du(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=kc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=fu(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());du(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];du(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Pl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new wu(fu(this.value))}}function bu(e){const t=[];return Pl(e.fields,((e,n)=>{const r=new kc([e]);if(du(n)){const e=bu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Vl(t)}class _u{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new _u(e,0,Ec.min(),Ec.min(),Ec.min(),wu.empty(),0)}static newFoundDocument(e,t,n,r){return new _u(e,1,t,Ec.min(),n,r,0)}static newNoDocument(e,t){return new _u(e,2,t,Ec.min(),Ec.min(),wu.empty(),0)}static newUnknownDocument(e,t){return new _u(e,3,t,Ec.min(),Ec.min(),wu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ec.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ec.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _u&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _u(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Eu{constructor(e,t){this.position=e,this.inclusive=t}}function Tu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Cc.comparator(Cc.fromName(s.referenceValue),n.key):ru(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Iu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!tu(e.position[n],t.position[n]))return!1;return!0}class Su{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ku(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Cu{}class xu extends Cu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Uu(e,t,n):"array-contains"===t?new zu(e,n):"in"===t?new qu(e,n):"not-in"===t?new Wu(e,n):"array-contains-any"===t?new Hu(e,n):new xu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Fu(e,n):new Vu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ru(t,this.value)):null!==t&&eu(this.value)===eu(t)&&this.matchesComparison(ru(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nu extends Cu{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Nu(e,t)}matches(e){return Au(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Au(e){return"and"===e.op}function Ou(e){return"or"===e.op}function Pu(e){return Ru(e)&&Au(e)}function Ru(e){for(const t of e.filters)if(t instanceof Nu)return!1;return!0}function Du(e){if(e instanceof xu)return e.field.canonicalString()+e.op.toString()+ou(e.value);if(Pu(e))return e.filters.map((e=>Du(e))).join(",");{const t=e.filters.map((e=>Du(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Lu(e,t){return e instanceof xu?function(e,t){return t instanceof xu&&e.op===t.op&&e.field.isEqual(t.field)&&tu(e.value,t.value)}(e,t):e instanceof Nu?function(e,t){return t instanceof Nu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Lu(n,t.filters[r])),!0)}(e,t):void nc()}function Mu(e,t){const n=e.filters.concat(t);return Nu.create(n,e.op)}function ju(e){return e instanceof xu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ou(e.value))}(e):e instanceof Nu?function(e){return e.op.toString()+" {"+e.getFilters().map(ju).join(" ,")+"}"}(e):"Filter"}class Uu extends xu{constructor(e,t,n){super(e,t,n),this.key=Cc.fromName(n.referenceValue)}matches(e){const t=Cc.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fu extends xu{constructor(e,t){super(e,"in",t),this.keys=Bu("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Vu extends xu{constructor(e,t){super(e,"not-in",t),this.keys=Bu("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Bu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Cc.fromName(e.referenceValue)))}class zu extends xu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lu(t)&&nu(t.arrayValue,this.value)}}class qu extends xu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nu(this.value.arrayValue,t)}}class Wu extends xu{constructor(e,t){super(e,"not-in",t)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nu(this.value.arrayValue,t)}}class Hu extends xu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>nu(this.value.arrayValue,e)))}}class Ku{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function Gu(e){return new Ku(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Qu(e){const t=ic(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Du(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Zc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>ou(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>ou(e))).join(",")),t.ce=e}return t.ce}function Yu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ku(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Lu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Iu(e.startAt,t.startAt)&&Iu(e.endAt,t.endAt)}function Ju(e){return Cc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Xu(e,t){return e.filters.filter((e=>e instanceof xu&&e.field.isEqual(t)))}function $u(e,t,n){let r=Zl,i=!0;for(const o of Xu(e,t)){let e=Zl,t=!0;switch(o.op){case"<":case"<=":e=mu(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Zl}vu({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];vu({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Zu(e,t,n){let r=$l,i=!0;for(const o of Xu(e,t)){let e=$l,t=!0;switch(o.op){case">=":case">":e=gu(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=$l}yu({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];yu({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class eh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function th(e,t,n,r,i,o,s,a){return new eh(e,t,n,r,i,o,s,a)}function nh(e){return new eh(e)}function rh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ih(e){return null!==e.collectionGroup}function oh(e){const t=ic(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new jl(kc.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Su(r,n))})),e.has(kc.keyField().canonicalString())||t.le.push(new Su(kc.keyField(),n))}return t.le}function sh(e){const t=ic(e);return t.he||(t.he=ah(t,oh(e))),t.he}function ah(e,t){if("F"===e.limitType)return Gu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Su(e.field,t)}));const n=e.endAt?new Eu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Eu(e.startAt.position,e.startAt.inclusive):null;return Gu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ch(e,t){const n=e.filters.concat([t]);return new eh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function lh(e,t,n){return new eh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uh(e,t){return Yu(sh(e),sh(t))&&e.limitType===t.limitType}function hh(e){return"".concat(Qu(sh(e)),"|lt:").concat(e.limitType)}function dh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ju(e))).join(", "),"]")),Zc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>ou(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>ou(e))).join(",")),"Target(".concat(t,")")}(sh(e)),"; limitType=").concat(e.limitType,")")}function fh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Cc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of oh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Tu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,oh(e),t))&&!(e.endAt&&!function(e,t,n){const r=Tu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,oh(e),t))}(e,t)}function ph(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function mh(e){return(t,n)=>{let r=!1;for(const i of oh(e)){const e=gh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function gh(e,t,n){const r=e.field.isKeyField()?Cc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ru(r,i):nc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return nc()}}class vh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Pl(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Rl(this.inner)}size(){return this.innerSize}}const yh=new Dl(Cc.comparator);function wh(){return yh}const bh=new Dl(Cc.comparator);function _h(){let e=bh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Eh(e){let t=bh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Th(){return Sh()}function Ih(){return Sh()}function Sh(){return new vh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const kh=new Dl(Cc.comparator),Ch=new jl(Cc.comparator);function xh(){let e=Ch;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Nh=new jl(yc);function Ah(){return Nh}function Oh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:el(t)?"-0":t}}function Ph(e){return{integerValue:""+e}}function Rh(e,t){return tl(t)?Ph(t):Oh(e,t)}class Dh{constructor(){this._=void 0}}function Lh(e,t,n){return e instanceof Uh?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Gl(t)&&(t=Ql(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Fh?Vh(e,t):e instanceof Bh?zh(e,t):function(e,t){const n=jh(e,t),r=Wh(n)+Wh(e.Ie);return cu(n)&&cu(e.Ie)?Ph(r):Oh(e.serializer,r)}(e,t)}function Mh(e,t,n){return e instanceof Fh?Vh(e,t):e instanceof Bh?zh(e,t):n}function jh(e,t){return e instanceof qh?function(e){return cu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Uh extends Dh{}class Fh extends Dh{constructor(e){super(),this.elements=e}}function Vh(e,t){const n=Hh(t);for(const r of e.elements)n.some((e=>tu(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Bh extends Dh{constructor(e){super(),this.elements=e}}function zh(e,t){let n=Hh(t);for(const r of e.elements)n=n.filter((e=>!tu(e,r)));return{arrayValue:{values:n}}}class qh extends Dh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Wh(e){return Hl(e.integerValue||e.doubleValue)}function Hh(e){return lu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Kh{constructor(e,t){this.field=e,this.transform=t}}class Gh{constructor(e,t){this.version=e,this.transformResults=t}}class Qh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qh}static exists(e){return new Qh(void 0,e)}static updateTime(e){return new Qh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Jh{}function Xh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ad(e.key,Qh.none()):new nd(e.key,e.data,Qh.none());{const n=e.data,r=wu.empty();let i=new jl(kc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new rd(e.key,r,new Vl(i.toArray()),Qh.none())}}function $h(e,t,n){e instanceof nd?function(e,t,n){const r=e.value.clone(),i=od(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rd?function(e,t,n){if(!Yh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=od(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(id(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zh(e,t,n,r){return e instanceof nd?function(e,t,n,r){if(!Yh(e.precondition,t))return n;const i=e.value.clone(),o=sd(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rd?function(e,t,n,r){if(!Yh(e.precondition,t))return n;const i=sd(e.fieldTransforms,r,t),o=t.data;return o.setAll(id(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Yh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ed(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=jh(r.transform,e||null);null!=i&&(null===n&&(n=wu.empty()),n.set(r.field,i))}return n||null}function td(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&wc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Fh&&t instanceof Fh||e instanceof Bh&&t instanceof Bh?wc(e.elements,t.elements,tu):e instanceof qh&&t instanceof qh?tu(e.Ie,t.Ie):e instanceof Uh&&t instanceof Uh}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nd extends Jh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rd extends Jh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function id(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function od(e,t,n){const r=new Map;rc(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Mh(s,a,n[i]))}return r}function sd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Lh(e,o,t))}return r}class ad extends Jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cd extends Jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ld{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&$h(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Zh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Zh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ih();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Xh(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Ec.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xh())}isEqual(e){return this.batchId===e.batchId&&wc(this.mutations,e.mutations,((e,t)=>td(e,t)))&&wc(this.baseMutations,e.baseMutations,((e,t)=>td(e,t)))}}class ud{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){rc(e.mutations.length===n.length);let r=kh;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ud(e,t,n,r)}}class hd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class dd{constructor(e,t){this.count=e,this.unchangedNames=t}}var fd,pd;function md(e){switch(e){default:return nc();case oc.CANCELLED:case oc.UNKNOWN:case oc.DEADLINE_EXCEEDED:case oc.RESOURCE_EXHAUSTED:case oc.INTERNAL:case oc.UNAVAILABLE:case oc.UNAUTHENTICATED:return!1;case oc.INVALID_ARGUMENT:case oc.NOT_FOUND:case oc.ALREADY_EXISTS:case oc.PERMISSION_DENIED:case oc.FAILED_PRECONDITION:case oc.ABORTED:case oc.OUT_OF_RANGE:case oc.UNIMPLEMENTED:case oc.DATA_LOSS:return!0}}function gd(e){if(void 0===e)return Za("GRPC error has no .code"),oc.UNKNOWN;switch(e){case fd.OK:return oc.OK;case fd.CANCELLED:return oc.CANCELLED;case fd.UNKNOWN:return oc.UNKNOWN;case fd.DEADLINE_EXCEEDED:return oc.DEADLINE_EXCEEDED;case fd.RESOURCE_EXHAUSTED:return oc.RESOURCE_EXHAUSTED;case fd.INTERNAL:return oc.INTERNAL;case fd.UNAVAILABLE:return oc.UNAVAILABLE;case fd.UNAUTHENTICATED:return oc.UNAUTHENTICATED;case fd.INVALID_ARGUMENT:return oc.INVALID_ARGUMENT;case fd.NOT_FOUND:return oc.NOT_FOUND;case fd.ALREADY_EXISTS:return oc.ALREADY_EXISTS;case fd.PERMISSION_DENIED:return oc.PERMISSION_DENIED;case fd.FAILED_PRECONDITION:return oc.FAILED_PRECONDITION;case fd.ABORTED:return oc.ABORTED;case fd.OUT_OF_RANGE:return oc.OUT_OF_RANGE;case fd.UNIMPLEMENTED:return oc.UNIMPLEMENTED;case fd.DATA_LOSS:return oc.DATA_LOSS;default:return nc()}}(pd=fd||(fd={}))[pd.OK=0]="OK",pd[pd.CANCELLED=1]="CANCELLED",pd[pd.UNKNOWN=2]="UNKNOWN",pd[pd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pd[pd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pd[pd.NOT_FOUND=5]="NOT_FOUND",pd[pd.ALREADY_EXISTS=6]="ALREADY_EXISTS",pd[pd.PERMISSION_DENIED=7]="PERMISSION_DENIED",pd[pd.UNAUTHENTICATED=16]="UNAUTHENTICATED",pd[pd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pd[pd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pd[pd.ABORTED=10]="ABORTED",pd[pd.OUT_OF_RANGE=11]="OUT_OF_RANGE",pd[pd.UNIMPLEMENTED=12]="UNIMPLEMENTED",pd[pd.INTERNAL=13]="INTERNAL",pd[pd.UNAVAILABLE=14]="UNAVAILABLE",pd[pd.DATA_LOSS=15]="DATA_LOSS";let vd=null;function yd(){return new TextEncoder}const wd=new Ka([4294967295,4294967295],0);function bd(e){const t=yd().encode(e),n=new Ha;return n.update(t),new Uint8Array(n.digest())}function _d(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ka([n,r],0),new Ka([i,o],0)]}class Ed{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Td("Invalid padding: ".concat(t));if(n<0)throw new Td("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Td("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Td("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Ka.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Ka.fromNumber(n)));return 1===r.compare(wd)&&(r=new Ka([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=bd(e),[n,r]=_d(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ed(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=bd(e),[n,r]=_d(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Id{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Id(Ec.min(),r,new Dl(yc),wh(),xh())}}class Sd{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Sd(n,t,xh(),xh(),xh())}}class kd{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Cd{constructor(e,t){this.targetId=e,this.fe=t}}class xd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Nd{constructor(){this.ge=0,this.pe=Pd(),this.ye=zl.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xh(),t=xh(),n=xh();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:nc()}})),new Sd(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Pd()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,rc(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Ad{constructor(e){this.Le=e,this.ke=new Map,this.qe=wh(),this.Qe=Od(),this.Ke=new Dl(yc)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:nc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Ju(i))if(0===n){const e=new Cc(i.path);this.We(t,e,_u.newNoDocument(e,Ec.min()))}else rc(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==vd||vd.tt(function(e,t,n,r,i){var o,s,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Kl(n).toUint8Array()}catch(e){if(e instanceof Bl)return ec("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Ed(o,r,i)}catch(e){return ec(e instanceof Td?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Ju(i.target)){const t=new Cc(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,_u.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=xh();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Id(e,t,this.Ke,this.qe,n);return this.qe=wh(),this.Qe=Od(),this.Ke=new Dl(yc),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Nd,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new jl(yc),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||$a("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Nd),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Od(){return new Dl(Cc.comparator)}function Pd(){return new Dl(Cc.comparator)}const Rd={asc:"ASCENDING",desc:"DESCENDING"},Dd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ld={and:"AND",or:"OR"};class Md{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jd(e,t){return e.useProto3Json||Zc(t)?t:{value:t}}function Ud(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Vd(e,t){return Ud(e,t.toTimestamp())}function Bd(e){return rc(!!e),Ec.fromTimestamp(function(e){const t=Wl(e);return new _c(t.seconds,t.nanos)}(e))}function zd(e,t){return function(e){return new Ic(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function qd(e){const t=Ic.fromString(e);return rc(df(t)),t}function Wd(e,t){return zd(e.databaseId,t.path)}function Hd(e,t){const n=qd(t);if(n.get(1)!==e.databaseId.projectId)throw new sc(oc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sc(oc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Cc(Yd(n))}function Kd(e,t){return zd(e.databaseId,t)}function Gd(e){const t=qd(e);return 4===t.length?Ic.emptyPath():Yd(t)}function Qd(e){return new Ic(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Yd(e){return rc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jd(e,t,n){return{name:Wd(e,t),fields:n.value.mapValue.fields}}function Xd(e,t,n){const r=Hd(e,t.name),i=Bd(t.updateTime),o=t.createTime?Bd(t.createTime):Ec.min(),s=new wu({mapValue:{fields:t.fields}}),a=_u.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function $d(e,t){let n;if(t instanceof nd)n={update:Jd(e,t.key,t.value)};else if(t instanceof ad)n={delete:Wd(e,t.key)};else if(t instanceof rd)n={update:Jd(e,t.key,t.data),updateMask:hf(t.fieldMask)};else{if(!(t instanceof cd))return nc();n={verify:Wd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Uh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qh)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw nc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:nc()}(e,t.precondition)),n}function Zd(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Qh.updateTime(Bd(e.updateTime)):void 0!==e.exists?Qh.exists(e.exists):Qh.none()}(t.currentDocument):Qh.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)rc("REQUEST_TIME"===t.setToServerValue),n=new Uh;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Fh(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Bh(e)}else"increment"in t?n=new qh(e,t.increment):nc();const r=kc.fromServerFormat(t.fieldPath);return new Kh(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Hd(e,t.update.name),o=new wu({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Vl(t.map((e=>kc.fromServerFormat(e))))}(t.updateMask);return new rd(i,o,e,n,r)}return new nd(i,o,n,r)}if(t.delete){const r=Hd(e,t.delete);return new ad(r,n)}if(t.verify){const r=Hd(e,t.verify);return new cd(r,n)}return nc()}function ef(e,t){return{documents:[Kd(e,t.path)]}}function tf(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Kd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Kd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return uf(Nu.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:cf(e.field),direction:of(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=jd(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function nf(e){let t=Gd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=rf(e);return t instanceof Nu&&Pu(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Su(lf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Zc(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Eu(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Eu(n,t)}(n.endAt)),th(t,i,s,o,a,"F",c,l)}function rf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lf(e.unaryFilter.field);return xu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=lf(e.unaryFilter.field);return xu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lf(e.unaryFilter.field);return xu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lf(e.unaryFilter.field);return xu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return nc()}}(e):void 0!==e.fieldFilter?function(e){return xu.create(lf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Nu.create(e.compositeFilter.filters.map((e=>rf(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return nc()}}(e.compositeFilter.op))}(e):nc()}function of(e){return Rd[e]}function sf(e){return Dd[e]}function af(e){return Ld[e]}function cf(e){return{fieldPath:e.canonicalString()}}function lf(e){return kc.fromServerFormat(e.fieldPath)}function uf(e){return e instanceof xu?function(e){if("=="===e.op){if(hu(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NAN"}};if(uu(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hu(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NOT_NAN"}};if(uu(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cf(e.field),op:sf(e.op),value:e.value}}}(e):e instanceof Nu?function(e){const t=e.getFilters().map((e=>uf(e)));return 1===t.length?t[0]:{compositeFilter:{op:af(e.op),filters:t}}}(e):nc()}function hf(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function df(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ff{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ec.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ec.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:zl.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new ff(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ff(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ff(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ff(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pf{constructor(e){this.ut=e}}function mf(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Wd(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ud(e,t.version.toTimestamp()),createTime:Ud(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vf(t.version)};else{if(!t.isUnknownDocument())return nc();r.unknownDocument={path:n.path.toArray(),version:vf(t.version)}}return r}function gf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vf(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function yf(e){const t=new _c(e.seconds,e.nanoseconds);return Ec.fromTimestamp(t)}function wf(e,t){const n=(t.baseMutations||[]).map((t=>Zd(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Zd(e.ut,t))),i=_c.fromMillis(t.localWriteTimeMs);return new ld(t.batchId,i,n,r)}function bf(e){const t=yf(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?yf(e.lastLimboFreeSnapshotVersion):Ec.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return rc(1===e.documents.length),sh(nh(Gd(e.documents[0])))}(e.query):function(e){return sh(nf(e))}(e.query),new ff(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,zl.fromBase64String(e.resumeToken))}function _f(e,t){const n=vf(t.snapshotVersion),r=vf(t.lastLimboFreeSnapshotVersion);let i;i=Ju(t.target)?ef(e.ut,t.target):tf(e.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qu(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ef(e){const t=nf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lh(t,t.limit,"L"):t}function Tf(e,t){return new hd(t.largestBatchId,Zd(e.ut,t.overlayMutation))}function If(e,t){const n=t.path.lastSegment();return[e,nl(t.path.popLast()),n]}function Sf(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:vf(r.readTime),documentKey:nl(r.documentKey.path),largestBatchId:r.largestBatchId}}class kf{getBundleMetadata(e,t){return Cf(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:yf(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Cf(e).put(function(e){return{bundleId:e.id,createTime:vf(Bd(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return xf(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Ef(e.bundledQuery),readTime:yf(e.readTime)}}(e)}))}saveNamedQuery(e,t){return xf(e).put(function(e){return{name:e.name,readTime:vf(Bd(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Cf(e){return Al(e,"bundles")}function xf(e){return Al(e,"namedQueries")}class Nf{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new Nf(e,n)}getOverlay(e,t){return Af(e).get(If(this.userId,t)).next((e=>e?Tf(this.serializer,e):null))}getOverlays(e,t){const n=Th();return Vc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new hd(t,i);r.push(this.lt(e,o))})),Vc.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(nl(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Af(e).H("collectionPathOverlayIndex",r))})),Vc.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Th(),i=nl(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Af(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=Tf(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Th();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Af(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=Tf(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return Af(e).put(function(e,t,n){const[r,i,o]=If(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:$d(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function Af(e){return Al(e,"documentOverlays")}class Of{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Hl(e.integerValue));else if("doubleValue"in e){const n=Hl(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),el(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Kl(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?pu(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):nc()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Cc.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Pf(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Rf(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Pf(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Of.St=new Of;class Df{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=Rf(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=Rf(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Lf{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Mf{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class jf{constructor(){this.Wt=new Df,this.Gt=new Lf(this.Wt),this.zt=new Mf(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Uf{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Uf(this.indexId,this.documentKey,this.arrayValue,n)}}function Ff(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Vf(e.arrayValue,t.arrayValue),0!==n?n:(n=Vf(e.directionalValue,t.directionalValue),0!==n?n:Cc.comparator(e.documentKey,t.documentKey)))}function Vf(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Bf{constructor(e){this.Jt=new jl(((e,t)=>kc.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(rc(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Nc(e);if(void 0!==t&&!this.tn(t))return!1;const n=Ac(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new jl(kc.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Oc(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Oc(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Oc(n.field,"asc"===n.dir?0:1)));return new xc(xc.UNKNOWN_ID,this.collectionId,t,Pc.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function zf(e){var t,n;if(rc(e instanceof xu||e instanceof Nu),e instanceof xu){if(e instanceof qu){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>xu.create(e.field,"==",t))))||[];return Nu.create(r,"or")}return e}const r=e.filters.map((e=>zf(e)));return Nu.create(r,e.op)}function qf(e){if(0===e.getFilters().length)return[];const t=Gf(zf(e));return rc(Kf(t)),Wf(t)||Hf(t)?[t]:t.getFilters()}function Wf(e){return e instanceof xu}function Hf(e){return e instanceof Nu&&Pu(e)}function Kf(e){return Wf(e)||Hf(e)||function(e){if(e instanceof Nu&&Ou(e)){for(const t of e.getFilters())if(!Wf(t)&&!Hf(t))return!1;return!0}return!1}(e)}function Gf(e){if(rc(e instanceof xu||e instanceof Nu),e instanceof xu)return e;if(1===e.filters.length)return Gf(e.filters[0]);const t=e.filters.map((e=>Gf(e)));let n=Nu.create(t,e.op);return n=Jf(n),Kf(n)?n:(rc(n instanceof Nu),rc(Au(n)),rc(n.filters.length>1),n.filters.reduce(((e,t)=>Qf(e,t))))}function Qf(e,t){let n;return rc(e instanceof xu||e instanceof Nu),rc(t instanceof xu||t instanceof Nu),n=e instanceof xu?t instanceof xu?function(e,t){return Nu.create([e,t],"and")}(e,t):Yf(e,t):t instanceof xu?Yf(t,e):function(e,t){if(rc(e.filters.length>0&&t.filters.length>0),Au(e)&&Au(t))return Mu(e,t.getFilters());const n=Ou(e)?e:t,r=Ou(e)?t:e,i=n.filters.map((e=>Qf(e,r)));return Nu.create(i,"or")}(e,t),Jf(n)}function Yf(e,t){if(Au(t))return Mu(t,e.getFilters());{const n=t.filters.map((t=>Qf(e,t)));return Nu.create(n,"or")}}function Jf(e){if(rc(e instanceof xu||e instanceof Nu),e instanceof xu)return e;const t=e.getFilters();if(1===t.length)return Jf(t[0]);if(Ru(e))return e;const n=t.map((e=>Jf(e))),r=[];return n.forEach((t=>{t instanceof xu?r.push(t):t instanceof Nu&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Nu.create(r,e.op)}class Xf{constructor(){this.on=new $f}addToCollectionParentIndex(e,t){return this.on.add(t),Vc.resolve()}getCollectionParents(e,t){return Vc.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Vc.resolve()}deleteFieldIndex(e,t){return Vc.resolve()}deleteAllFieldIndexes(e){return Vc.resolve()}createTargetIndexes(e,t){return Vc.resolve()}getDocumentsMatchingTarget(e,t){return Vc.resolve(null)}getIndexType(e,t){return Vc.resolve(0)}getFieldIndexes(e,t){return Vc.resolve([])}getNextCollectionGroupToUpdate(e){return Vc.resolve(null)}getMinOffset(e,t){return Vc.resolve(Lc.min())}getMinOffsetFromCollectionGroup(e,t){return Vc.resolve(Lc.min())}updateCollectionGroup(e,t,n){return Vc.resolve()}updateIndexEntries(e,t){return Vc.resolve()}}class $f{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new jl(Ic.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new jl(Ic.comparator)).toArray()}}const Zf=new Uint8Array(0);class ep{constructor(e,t){this.user=e,this.databaseId=t,this._n=new $f,this.an=new vh((e=>Qu(e)),((e,t)=>Yu(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:nl(r)};return tp(e).put(i)}return Vc.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[bc(t),""],!1,!0);return tp(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ol(r.parent))}return n}))}addFieldIndex(e,t){const n=rp(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=ip(e);return i.next((e=>{n.put(Sf(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=rp(e),r=ip(e),i=np(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=rp(e),n=np(e),r=ip(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Vc.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Bf(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=np(e);let r=!0;const i=new Map;return Vc.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=xh();const r=[];return Vc.forEach(i,((i,o)=>{$a("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Qu(t)));const s=function(e,t){const n=Nc(t);if(void 0===n)return null;for(const r of Xu(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Ac(t))for(const t of Xu(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Ac(t)){const t=0===i.kind?$u(e,i.fieldPath,e.startAt):Zu(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Eu(n,r)}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Ac(t)){const t=0===i.kind?Zu(e,i.fieldPath,e.endAt):$u(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Eu(n,r)}(o,i),u=this.ln(i,o,c),h=this.ln(i,o,l),d=this.hn(i,o,a),f=this.Pn(i.indexId,s,u,c.inclusive,h,l.inclusive,d);return Vc.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Cc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Vc.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:qf(Nu.create(e.filters,"and")).map((t=>Gu(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/c]):Zf,h=this.Tn(e,a,n[u%c],r),d=this.En(e,a,i[u%c],o),f=s.map((t=>this.Tn(e,a,t,!0)));l.push(...this.createRange(h,d,f))}return l}Tn(e,t,n,r){const i=new Uf(e,Cc.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new Uf(e,Cc.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new Bf(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Vc.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new jl(kc.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new jf;for(const r of Ac(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);Of.St.ht(e,i)}return n.Ut()}In(e){const t=new jf;return Of.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new jf;return Of.St.ht(au(this.databaseId,t),n.jt(function(e){const t=Ac(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new jf);let i=0;for(const o of Ac(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&lu(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);Of.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new jf;n.seed(e.Ut()),Of.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof xu&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=rp(e),r=ip(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Vc.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Pc(t.sequenceNumber,new Lc(yf(t.readTime),new Cc(ol(t.documentKey)),t.largestBatchId)):Pc.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Oc(kc.fromServerFormat(t),n)}));return new xc(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:yc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=rp(e),i=ip(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Vc.forEach(t,(t=>i.put(Sf(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Vc.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Vc.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Vc.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Vc.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return np(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return np(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=np(e);let i=new jl(Ff);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new Uf(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new jl(Ff);const r=this.dn(t,e);if(null==r)return n;const i=Nc(t);if(null!=i){const o=e.data.field(i.fieldPath);if(lu(o))for(const i of o.arrayValue.values||[])n=n.add(new Uf(t.indexId,e.key,this.In(i),r))}else n=n.add(new Uf(t.indexId,e.key,Zf,r));return n}yn(e,t,n,r,i){$a("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Fl(o),c=Fl(s);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=Fl(s)):t?(i(a),a=Fl(o)):(a=Fl(o),c=Fl(s))}}(r,i,Ff,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),Vc.waitFor(o)}fn(e){let t=1;return ip(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Ff(e,t))).filter(((e,t,n)=>!t||0!==Ff(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Ff(o,e),i=Ff(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Zf,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Zf,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Ff(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(op)}getMinOffset(e,t){return Vc.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||nc())))).next(op)}}function tp(e){return Al(e,"collectionParents")}function np(e){return Al(e,"indexEntries")}function rp(e){return Al(e,"indexConfiguration")}function ip(e){return Al(e,"indexState")}function op(e){rc(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Mc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Lc(t.readTime,t.documentKey,n)}const sp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ap{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ap(e,ap.DEFAULT_COLLECTION_PERCENTILE,ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cp(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(c.next((()=>{rc(1===a)})));const l=[];for(const u of n.mutations){const e=cl(t,u.key.path,n.batchId);o.push(i.delete(e)),l.push(u.key)}return Vc.waitFor(o).next((()=>l))}function lp(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw nc();t=e.noDocument}return JSON.stringify(t).length}ap.DEFAULT_COLLECTION_PERCENTILE=10,ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ap.DEFAULT=new ap(41943040,ap.DEFAULT_COLLECTION_PERCENTILE,ap.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ap.DISABLED=new ap(-1,0,0);class up{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){rc(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new up(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dp(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=fp(e),o=dp(e);return o.add({}).next((s=>{rc("number"==typeof s);const a=new ld(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>$d(e.ut,t))),i=n.mutations.map((t=>$d(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new jl(((e,t)=>yc(e.canonicalString(),t.canonicalString())));for(const e of r){const t=cl(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,ll))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[s]=a.keys()})),Vc.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return dp(e).get(t).next((e=>e?(rc(e.userId===this.userId),wf(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Vc.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return dp(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(rc(t.batchId>=n),i=wf(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return dp(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dp(e).W("userMutationsIndex",t).next((e=>e.map((e=>wf(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=al(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return fp(e).Y({range:r},((n,r,o)=>{const[s,a,c]=n,l=ol(a);if(s===this.userId&&t.path.isEqual(l))return dp(e).get(c).next((e=>{if(!e)throw nc();rc(e.userId===this.userId),i.push(wf(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jl(yc);const r=[];return t.forEach((t=>{const i=al(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=fp(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,c=ol(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(s)})),Vc.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=al(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new jl(yc);return fp(e).Y({range:o},((e,t,i)=>{const[o,a,c]=e,l=ol(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(c)):i.done()})).next((()=>this.vn(e,s)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(dp(e).get(t).next((e=>{if(null===e)throw nc();rc(e.userId===this.userId),n.push(wf(this.serializer,e))})))})),Vc.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return cp(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Vc.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Vc.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return fp(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=ol(e[1]);r.push(t)}else n.done()})).next((()=>{rc(0===r.length)}))}))}containsKey(e,t){return hp(e,this.userId,t)}Mn(e){return pp(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function hp(e,t,n){const r=al(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return fp(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function dp(e){return Al(e,"mutations")}function fp(e){return Al(e,"documentMutations")}function pp(e){return Al(e,"mutationQueues")}class mp{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new mp(0)}static Nn(){return new mp(-1)}}class gp{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new mp(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Ec.fromTimestamp(new _c(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>vp(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(rc(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return vp(e).Y(((o,s)=>{const a=bf(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Vc.waitFor(i))).next((()=>r))}forEachTarget(e,t){return vp(e).Y(((e,n)=>{const r=bf(n);t(r)}))}Bn(e){return yp(e).get("targetGlobalKey").next((e=>(rc(null!==e),e)))}Ln(e,t){return yp(e).put("targetGlobalKey",t)}kn(e,t){return vp(e).put(_f(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Qu(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return vp(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=bf(n);Yu(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=wp(e);return t.forEach((t=>{const o=nl(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Vc.waitFor(r)}removeMatchingKeys(e,t,n){const r=wp(e);return Vc.forEach(t,(t=>{const i=nl(t.path);return Vc.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=wp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wp(e);let i=xh();return r.Y({range:n,J:!0},((e,t,n)=>{const r=ol(e[1]),o=new Cc(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=nl(t.path),r=IDBKeyRange.bound([n],[bc(n)],!1,!0);let i=0;return wp(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return vp(e).get(t).next((e=>e?bf(e):null))}}function vp(e){return Al(e,"targets")}function yp(e){return Al(e,"targetGlobal")}function wp(e){return Al(e,"targetDocuments")}function bp(e,t){let[n,r]=e,[i,o]=t;const s=yc(n,i);return 0===s?yc(r,o):s}class _p{constructor(e){this.Qn=e,this.buffer=new jl(bp),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();bp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ep{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){$a("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Hc(e)?$a("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Fc(e)}await this.Gn(3e5)}))}}class Tp{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Vc.resolve($c._e);const n=new _p(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($a("LruGarbageCollector","Garbage collection skipped; disabled"),Vc.resolve(sp)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?($a("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),sp):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,s,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?($a("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Xa()<=lr.DEBUG&&$a("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),Vc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Ip(e,t){return new Tp(e,t)}class Sp{constructor(e,t){this.db=e,this.garbageCollector=Ip(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return kp(e,n)}removeReference(e,t,n){return kp(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return kp(e,t)}Xn(e,t){return function(e,t){let n=!1;return pp(e).Z((r=>hp(e,r,t).next((e=>(e&&(n=!0),Vc.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Ec.min()),wp(e).delete(function(e){return[0,nl(e.path)]}(o)))))}));r.push(t)}})).next((()=>Vc.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return kp(e,t)}Zn(e,t){const n=wp(e);let r,i=$c._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:c}=n;0===o?(i!==$c._e&&t(new Cc(ol(r)),i),i=c,r=a):i=$c._e})).next((()=>{i!==$c._e&&t(new Cc(ol(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kp(e,t){return wp(e).put(function(e,t){return{targetId:0,path:nl(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Cp{constructor(){this.changes=new vh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_u.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Vc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Pp(e).put(n)}removeEntry(e,t,n){return Pp(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],gf(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=_u.newInvalidDocument(t);return Pp(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Rp(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:_u.newInvalidDocument(t)};return Pp(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Rp(t))},((e,r)=>{n={document:this.tr(t,r),size:lp(r)}})).next((()=>n))}getEntries(e,t){let n=wh();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=wh(),r=new Dl(Cc.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,lp(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Vc.resolve();let r=new jl(Lp);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Rp(r.first()),Rp(r.last())),o=r.getIterator();let s=o.getNext();return Pp(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Cc.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Lp(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(Rp(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),gf(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pp(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=wh();for(const i of e){const e=this.tr(Cc.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(fh(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=wh();const o=Dp(t,n),s=Dp(t,Lc.max());return Pp(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.tr(Cc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Ap(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Op(e).get("remoteDocumentGlobalKey").next((e=>(rc(!!e),e)))}er(e,t){return Op(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Xd(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Cc.fromSegments(t.noDocument.path),r=yf(t.noDocument.readTime);n=_u.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return nc();{const e=Cc.fromSegments(t.unknownDocument.path),r=yf(t.unknownDocument.version);n=_u.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new _c(e[0],e[1]);return Ec.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Ec.min()))return e}return _u.newInvalidDocument(e)}}function Np(e){return new xp(e)}class Ap extends Cp{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new vh((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new jl(((e,t)=>yc(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=mf(this._r.serializer,o);r=r.add(i.path.popLast());const c=lp(a);n+=c-s.size,t.push(this._r.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=mf(this._r.serializer,o.convertToNoDocument(Ec.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Vc.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Op(e){return Al(e,"remoteDocumentGlobal")}function Pp(e){return Al(e,"remoteDocumentsV14")}function Rp(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Dp(e,t){const n=t.documentKey.path.toArray();return[e,gf(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Lp(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=yc(n[o],r[o]),i)return i;return i=yc(n.length,r.length),i||(i=yc(n[n.length-2],r[r.length-2]),i||yc(n[n.length-1],r[r.length-1]))}class Mp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Zh(n.mutation,e,Vl.empty(),_c.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,xh()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xh();const r=Th();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=_h();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Th();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,xh())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=wh();const o=Sh(),s=Sh();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof rd)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Zh(s.mutation,t,s.mutation.getFieldMask(),_c.now())):o.set(t.key,Vl.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Mp(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Sh();let r=new Dl(((e,t)=>e-t)),i=xh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Vl.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||xh()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=Ih();c.forEach((e=>{if(!i.has(e)){const r=Xh(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return Vc.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Cc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ih(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Vc.resolve(Th());let s=-1,a=i;return o.next((t=>Vc.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Vc.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,xh()))).next((e=>({batchId:s,changes:Eh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Cc(t)).next((e=>{let t=_h();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=_h();return this.indexManager.getCollectionParents(e,i).next((s=>Vc.forEach(s,(s=>{const a=function(e,t){return new eh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,_u.newInvalidDocument(r)))}));let n=_h();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Zh(o.mutation,r,Vl.empty(),_c.now()),fh(t,r)&&(n=n.insert(e,r))})),n}))}}class Up{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Vc.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Bd(e.createTime)}}(t)),Vc.resolve()}getNamedQuery(e,t){return Vc.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Ef(e.bundledQuery),readTime:Bd(e.readTime)}}(t)),Vc.resolve()}}class Fp{constructor(){this.overlays=new Dl(Cc.comparator),this.lr=new Map}getOverlay(e,t){return Vc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Th();return Vc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Vc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Vc.resolve()}getOverlaysForCollection(e,t,n){const r=Th(),i=t.length+1,o=new Cc(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Vc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Dl(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Th(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Th(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Vc.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new hd(t,n));let i=this.lr.get(t);void 0===i&&(i=xh(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class Vp{constructor(){this.hr=new jl(Bp.Pr),this.Ir=new jl(Bp.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new Bp(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new Bp(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Cc(new Ic([])),n=new Bp(t,e),r=new Bp(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Cc(new Ic([])),n=new Bp(t,e),r=new Bp(t,e+1);let i=xh();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Bp(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Bp{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Cc.comparator(e.key,t.key)||yc(e.gr,t.gr)}static Tr(e,t){return yc(e.gr,t.gr)||Cc.comparator(e.key,t.key)}}class zp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new jl(Bp.Pr)}checkEmpty(e){return Vc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ld(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new Bp(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Vc.resolve(o)}lookupMutationBatch(e,t){return Vc.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Vc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Vc.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Vc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Bp(t,0),r=new Bp(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Vc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jl(yc);return t.forEach((e=>{const t=new Bp(e,0),r=new Bp(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Vc.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Cc.isDocumentKey(i)||(i=i.child(""));const o=new Bp(new Cc(i),0);let s=new jl(yc);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),Vc.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){rc(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Vc.forEach(t.mutations,(r=>{const i=new Bp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new Bp(t,0),r=this.yr.firstAfterOrEqual(n);return Vc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Vc.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qp{constructor(e){this.Cr=e,this.docs=new Dl(Cc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Vc.resolve(n?n.document.mutableCopy():_u.newInvalidDocument(t))}getEntries(e,t){let n=wh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():_u.newInvalidDocument(e))})),Vc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=wh();const o=t.path,s=new Cc(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Mc(Dc(s),n)<=0||(r.has(s.key)||fh(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Vc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){nc()}vr(e,t){return Vc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Wp(this)}getSize(e){return Vc.resolve(this.size)}}class Wp extends Cp{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Vc.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Hp{constructor(e){this.persistence=e,this.Fr=new vh((e=>Qu(e)),Yu),this.lastRemoteSnapshotVersion=Ec.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Vp,this.targetCount=0,this.Nr=mp.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Vc.resolve()}getLastRemoteSnapshotVersion(e){return Vc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Vc.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Vc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Vc.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new mp(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Vc.resolve()}updateTargetData(e,t){return this.kn(t),Vc.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Vc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Vc.waitFor(i).next((()=>r))}getTargetCount(e){return Vc.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Vc.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Vc.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Vc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Vc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Vc.resolve(n)}containsKey(e,t){return Vc.resolve(this.Or.containsKey(t))}}class Kp{constructor(e,t){this.Br={},this.overlays={},this.Lr=new $c(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Hp(this),this.indexManager=new Xf,this.remoteDocumentCache=function(e){return new qp(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new pf(t),this.Kr=new Up(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new zp(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){$a("MemoryPersistence","Starting transaction:",e);const r=new Gp(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Vc.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Gp extends Uc{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Gr=new Vp,this.zr=null}static jr(e){return new Qp(e)}get Hr(){if(this.zr)return this.zr;throw nc()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Vc.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Vc.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Vc.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vc.forEach(this.Hr,(n=>{const r=Cc.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Ec.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Vc.or([()=>Vc.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Yp{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Bc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sl,{unique:!0}),e.createObjectStore("documentMutations")}(e),Jp(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Vc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Jp(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ec.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sl,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Vc.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:_l});t.createIndex("collectionPathOverlayIndex",El,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Tl,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ul});t.createIndex("documentKeyIndex",hl),t.createIndex("collectionGroupIndex",dl)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:vl}).createIndex("sequenceNumberIndex",yl,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:wl}).createIndex("documentKeyIndex",bl,{unique:!1})}(e)))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=lp(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Vc.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Vc.forEach(n,(n=>{rc(n.userId===t.userId);const r=wf(this.serializer,n);return cp(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new Ic(n),s=function(e){return[0,nl(e)]}(o);r.push(t.get(s).next((n=>n?Vc.resolve():(n=>t.put({targetId:0,path:nl(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Vc.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:gl});const n=t.store("collectionParents"),r=new $f,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:nl(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Ic(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const s=ol(r);return i(s.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=bf(n),i=_f(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new Cc(Ic.fromString(e.document.name).popFirst(5)):e.noDocument?Cc.fromSegments(e.noDocument.path):e.unknownDocument?Cc.fromSegments(e.unknownDocument.path):nc()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Vc.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=Np(this.serializer),i=new Kp(Qp.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:xh();wf(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Vc.forEach(n,((e,n)=>{const o=new Qa(n),s=Nf.ct(this.serializer,o),a=i.getIndexManager(o),c=up.ct(o,this.serializer,a,i.referenceDelegate);return new jp(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Nl(t,$c._e),e).next()}))}))}}function Jp(e){e.createObjectStore("targetDocuments",{keyPath:pl}).createIndex("documentTargetsIndex",ml,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fl,{unique:!0}),e.createObjectStore("targetGlobal")}const Xp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $p{constructor(e,t,n,r,i,o,s,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=s,this.oi=c,this._i=l,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!$p.D())throw new sc(oc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sp(this,r),this.Ii=t+"main",this.serializer=new pf(a),this.Ti=new zc(this.Ii,this.ai,new Yp(this.serializer)),this.qr=new gp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Np(this.serializer),this.Kr=new kf,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&Za("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sc(oc.FAILED_PRECONDITION,Xp);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new $c(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>em(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Hc(e))return $a("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $a("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Zp(e).get("owner").next((e=>Vc.resolve(this.wi(e))))}Si(e){return em(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Al(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Vc.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Vc.resolve(!0):Zp(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new sc(oc.FAILED_PRECONDITION,Xp);return!1}}return!(!this.networkEnabled||!this.inForeground)||em(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&$a("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Nl(e,$c._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>em(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return up.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ep(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Nf.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){$a("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?xl:14===e?Cl:13===e?kl:12===e?Sl:11===e?Il:void nc()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new Nl(r,this.Lr?this.Lr.next():$c._e),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw Za("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new sc(oc.FAILED_PRECONDITION,jc);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Li(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Li(e){return Zp(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new sc(oc.FAILED_PRECONDITION,Xp)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zp(e).put("owner",t)}static D(){return zc.D()}pi(e){const t=Zp(e);return t.get("owner").next((e=>this.wi(e)?($a("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Vc.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Za("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;Er()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return $a("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Za("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Za("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Zp(e){return Al(e,"owner")}function em(e){return Al(e,"clientMetadata")}function tm(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class nm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=xh(),r=xh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new nm(e,t.fromCache,n,r)}}class rm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class im{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new rm;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Xa()<=lr.DEBUG&&$a("QueryEngine","SDK will not create cache indexes for query:",dh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Vc.resolve()):(Xa()<=lr.DEBUG&&$a("QueryEngine","Query:",dh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Xa()<=lr.DEBUG&&$a("QueryEngine","The SDK decides to create cache indexes for query:",dh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sh(t))):Vc.resolve())}zi(e,t){if(rh(t))return Vc.resolve(null);let n=sh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=lh(t,null,"F"),n=sh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=xh(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,lh(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return rh(t)||r.isEqual(Ec.min())?Vc.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?Vc.resolve(null):(Xa()<=lr.DEBUG&&$a("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dh(t)),this.Xi(e,o,t,Rc(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new jl(mh(e));return t.forEach(((t,r)=>{fh(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Xa()<=lr.DEBUG&&$a("QueryEngine","Using full collection scan to execute query:",dh(t)),this.Gi.getDocumentsMatchingQuery(e,t,Lc.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class om{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Dl(yc),this.ns=new vh((e=>Qu(e)),Yu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jp(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function sm(e,t,n,r){return new om(e,t,n,r)}async function am(e,t){const n=ic(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=xh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function cm(e){const t=ic(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function lm(e,t,n){let r=xh(),i=xh();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=wh();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Ec.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):$a("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function um(e,t){const n=ic(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function hm(e,t){const n=ic(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Vc.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new ff(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function dm(e,t,n){const r=ic(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Hc(e))throw e;$a("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function fm(e,t,n){const r=ic(e);let i=Ec.min(),o=xh();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ic(e),i=r.ns.get(n);return void 0!==i?Vc.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,sh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Ec.min(),n?o:xh()))).next((e=>(gm(r,ph(t),e),{documents:e,ls:o})))))}function pm(e,t){const n=ic(e),r=ic(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function mm(e,t){const n=ic(e),r=n.rs.get(t)||Ec.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Rc(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(gm(n,t,e),e)))}function gm(e,t,n){let r=e.rs.get(t)||Ec.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function vm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xh();const r=await hm(e,sh(Ef(t.bundledQuery))),i=ic(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Bd(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const s=r.withResumeToken(zl.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(s.targetId,s),i.qr.updateTargetData(e,s).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function ym(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function wm(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function bm(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class _m{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new sc(r.error.code,r.error.message))),o?new _m(e,t,r.state,i):(Za("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Em{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new sc(n.error.code,n.error.message))),i?new Em(e,n.state,r):(Za("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Ah();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=tl(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Tm(e,i):(Za("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Im{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Im(t.clientId,t.onlineState):(Za("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Sm{constructor(){this.activeTargetIds=Ah()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class km{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Dl(yc),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=ym(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Sm),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(ym(this.persistenceKey,n));if(e){const t=Tm.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(bm(this.persistenceKey,e));if(n){const r=Em.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bm(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $a("SharedClientState","READ",e,t),t}setItem(e,t){$a("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$a("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if($a("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Za("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=$c._e;if(null!=e)try{const n=JSON.parse(e);rc("number"==typeof n),t=n}catch(e){Za("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==$c._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new _m(this.currentUser,e,t,n),i=wm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=wm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=bm(this.persistenceKey,e),i=new Em(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return Tm.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return _m.Ts(new Qa(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return Em.Ts(r,t)}Ms(e){return Im.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);$a("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=Ah();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Cm{constructor(){this.eo=new Sm,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Sm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xm{ro(e){}shutdown(){}}class Nm{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){$a("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){$a("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Am=null;function Om(){return null===Am?Am=268435456+Math.round(2147483648*Math.random()):Am++,"0x"+Am.toString(16)}const Pm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rm{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Dm="WebChannelConnection";class Lm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=Om(),s=this.So(e,t);$a("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,s,a,n).then((t=>($a("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw ec("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ya,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Pm[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=Om();return new Promise(((o,s)=>{const a=new Wa;a.setWithCredentials(!0),a.listenOnce(Va.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Fa.NO_ERROR:const t=a.getResponseJson();$a(Dm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Fa.TIMEOUT:$a(Dm,"RPC '".concat(e,"' ").concat(i," timed out")),s(new sc(oc.DEADLINE_EXCEEDED,"Request time out"));break;case Fa.HTTP_ERROR:const n=a.getStatus();if($a(Dm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(oc).indexOf(t)>=0?t:oc.UNKNOWN}(t.status);s(new sc(e,t.message))}else s(new sc(oc.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new sc(oc.UNAVAILABLE,"Connection failed."));break;default:nc()}}finally{$a(Dm,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);$a(Dm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}vo(e,t,n){const r=Om(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ja(),s=Ua(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");$a(Dm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=o.createWebChannel(l,a);let h=!1,d=!1;const f=new Rm({co:t=>{d?$a(Dm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||($a(Dm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),$a(Dm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,qa.EventType.OPEN,(()=>{d||$a(Dm,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,qa.EventType.CLOSE,(()=>{d||(d=!0,$a(Dm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,qa.EventType.ERROR,(t=>{d||(d=!0,ec(Dm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new sc(oc.UNAVAILABLE,"The operation could not be completed")))})),p(u,qa.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];rc(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){$a(Dm,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=fd[e];if(void 0!==t)return gd(t)}(t),i=s.message;void 0===n&&(n=oc.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Ro(new sc(n,i)),u.close()}else $a(Dm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(s,Ba.STAT_EVENT,(t=>{t.stat===za.PROXY?$a(Dm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===za.NOPROXY&&$a(Dm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function Mm(){return"undefined"!=typeof window?window:null}function jm(){return"undefined"!=typeof document?document:null}function Um(e){return new Md(e,!0)}class Fm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&$a("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Vm{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Fm(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===oc.RESOURCE_EXHAUSTED?(Za(t.toString()),Za("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===oc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new sc(oc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return $a("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():($a("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bm extends Vm{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:nc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(rc(void 0===t||"string"==typeof t),zl.fromBase64String(t||"")):(rc(void 0===t||t instanceof Uint8Array),zl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?oc.UNKNOWN:gd(e.code);return new sc(t,e.message||"")}(s);n=new xd(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hd(e,r.document.name),o=Bd(r.document.updateTime),s=r.document.createTime?Bd(r.document.createTime):Ec.min(),a=new wu({mapValue:{fields:r.document.fields}}),c=_u.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new kd(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Hd(e,r.document),o=r.readTime?Bd(r.readTime):Ec.min(),s=_u.newNoDocument(i,o),a=r.removedTargetIds||[];n=new kd([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Hd(e,r.document),o=r.removedTargetIds||[];n=new kd([],o,i,null)}else{if(!("filter"in t))return nc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new dd(r,i),s=e.targetId;n=new Cd(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ec.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ec.min():t.readTime?Bd(t.readTime):Ec.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=Qd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ju(r)?{documents:ef(e,r)}:{query:tf(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Fd(e,t.resumeToken);const r=jd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ec.min())>0){n.readTime=Ud(e,t.snapshotVersion.toTimestamp());const r=jd(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=Qd(this.serializer),t.removeTarget=e,this.e_(t)}}class zm extends Vm{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(rc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(rc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Bd(e.updateTime):Bd(t);return n.isEqual(Ec.min())&&(n=Bd(t)),new Gh(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Bd(e.commitTime);return this.listener.I_(n,t)}return rc(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Qd(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>$d(this.serializer,e)))};this.e_(t)}}class qm extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new sc(oc.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===oc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sc(oc.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Co(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===oc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sc(oc.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class Wm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Za(t),this.f_=!1):$a("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Hm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{eg(this)&&($a("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ic(e);t.C_.add(4),await Gm(t),t.M_.set("Unknown"),t.C_.delete(4),await Km(t)}(this))}))})),this.M_=new Wm(n,r)}}async function Km(e){if(eg(e))for(const t of e.v_)await t(!0)}async function Gm(e){for(const t of e.v_)await t(!1)}function Qm(e,t){const n=ic(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Zm(n)?$m(n):yg(n).Ho()&&Jm(n,t))}function Ym(e,t){const n=ic(e),r=yg(n);n.D_.delete(t),r.Ho()&&Xm(n,t),0===n.D_.size&&(r.Ho()?r.Zo():eg(n)&&n.M_.set("Unknown"))}function Jm(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ec.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yg(e).u_(t)}function Xm(e,t){e.x_.Oe(t),yg(e).c_(t)}function $m(e){e.x_=new Ad({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),yg(e).start(),e.M_.g_()}function Zm(e){return eg(e)&&!yg(e).jo()&&e.D_.size>0}function eg(e){return 0===ic(e).C_.size}function tg(e){e.x_=void 0}async function ng(e){e.D_.forEach(((t,n)=>{Jm(e,t)}))}async function rg(e,t){tg(e),Zm(e)?(e.M_.w_(t),$m(e)):e.M_.set("Unknown")}async function ig(e,t,n){if(e.M_.set("Online"),t instanceof xd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){$a("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await og(e,n)}else if(t instanceof kd?e.x_.$e(t):t instanceof Cd?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Ec.min()))try{const t=await cm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(zl.EMPTY_BYTE_STRING,r.snapshotVersion)),Xm(e,t);const i=new ff(r.target,t,n,r.sequenceNumber);Jm(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){$a("RemoteStore","Failed to raise snapshot:",t),await og(e,t)}}async function og(e,t,n){if(!Hc(t))throw t;e.C_.add(1),await Gm(e),e.M_.set("Offline"),n||(n=()=>cm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{$a("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Km(e)}))}function sg(e,t){return t().catch((n=>og(e,n,t)))}async function ag(e){const t=ic(e),n=wg(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;cg(t);)try{const e=await um(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,lg(t,e)}catch(e){await og(t,e)}ug(t)&&hg(t)}function cg(e){return eg(e)&&e.b_.length<10}function lg(e,t){e.b_.push(t);const n=wg(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function ug(e){return eg(e)&&!wg(e).jo()&&e.b_.length>0}function hg(e){wg(e).start()}async function dg(e){wg(e).E_()}async function fg(e){const t=wg(e);for(const n of e.b_)t.P_(n.mutations)}async function pg(e,t,n){const r=e.b_.shift(),i=ud.from(r,t,n);await sg(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ag(e)}async function mg(e,t){t&&wg(e).h_&&await async function(e,t){if(function(e){return md(e)&&e!==oc.ABORTED}(t.code)){const n=e.b_.shift();wg(e).Yo(),await sg(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ag(e)}}(e,t),ug(e)&&hg(e)}async function gg(e,t){const n=ic(e);n.asyncQueue.verifyOperationInProgress(),$a("RemoteStore","RemoteStore received new credentials");const r=eg(n);n.C_.add(3),await Gm(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Km(n)}async function vg(e,t){const n=ic(e);t?(n.C_.delete(2),await Km(n)):t||(n.C_.add(2),await Gm(n),n.M_.set("Unknown"))}function yg(e){return e.O_||(e.O_=function(e,t,n){const r=ic(e);return r.A_(),new Bm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:ng.bind(null,e),Io:rg.bind(null,e),a_:ig.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),Zm(e)?$m(e):e.M_.set("Unknown")):(await e.O_.stop(),tg(e))}))),e.O_}function wg(e){return e.N_||(e.N_=function(e,t,n){const r=ic(e);return r.A_(),new zm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:dg.bind(null,e),Io:mg.bind(null,e),T_:fg.bind(null,e),I_:pg.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await ag(e)):(await e.N_.stop(),e.b_.length>0&&($a("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class bg{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ac,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new bg(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sc(oc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(e,t){if(Za("AsyncQueue","".concat(t,": ").concat(e)),Hc(e))return new sc(oc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Eg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Cc.comparator(t.key,n.key):(e,t)=>Cc.comparator(e.key,t.key),this.keyedMap=_h(),this.sortedSet=new Dl(this.comparator)}static emptySet(e){return new Eg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Eg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Tg{constructor(){this.B_=new Dl(Cc.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):nc():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ig{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Ig(e,t,Eg.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Sg{constructor(){this.k_=void 0,this.listeners=[]}}class kg{constructor(){this.queries=new vh((e=>hh(e)),uh),this.onlineState="Unknown",this.q_=new Set}}async function Cg(e,t){const n=ic(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Sg),i)try{o.k_=await n.onListen(r)}catch(e){const n=_g(e,"Initialization of query '".concat(dh(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&Og(n)}async function xg(e,t){const n=ic(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Ng(e,t){const n=ic(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&Og(n)}function Ag(e,t,n){const r=ic(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function Og(e){e.q_.forEach((e=>{e.next()}))}class Pg{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ig(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=Ig.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Rg{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class Dg{constructor(e){this.serializer=e}hs(e){return Hd(this.serializer,e)}Ps(e){return e.metadata.exists?Xd(this.serializer,e.document,!1):_u.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Bd(e)}}class Lg{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mg(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=Ic.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new Dg(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||xh()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=ic(e);let o=xh(),s=wh();for(const l of n){const e=t.hs(l.metadata.name);l.document&&(o=o.add(e));const n=t.Ps(l);n.setReadTime(t.Is(l.metadata.readTime)),s=s.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=await hm(i,function(e){return sh(nh(Ic.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>lm(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.qr.addMatchingKeys(e,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new Dg(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await vm(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function Mg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class jg{constructor(e){this.key=e}}class Ug{constructor(e){this.key=e}}class Fg{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=xh(),this.mutatedKeys=xh(),this._a=mh(e),this.aa=new Eg(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new Tg,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=fh(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ha(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||c&&this._a(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:s,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nc()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const s=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Ig(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Tg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=xh(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new Ug(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new jg(n))})),t}da(e){this.ia=e.ls,this.oa=xh();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Ig.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Vg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bg{constructor(e){this.key=e,this.Ra=!1}}class zg{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new vh((e=>hh(e)),uh),this.fa=new Map,this.ga=new Set,this.pa=new Dl(Cc.comparator),this.ya=new Map,this.wa=new Vp,this.Sa={},this.ba=new Map,this.Da=mp.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function qg(e,t){const n=mv(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await hm(n.localStore,sh(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Wg(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Qm(n.remoteStore,e)}return i}async function Wg(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await fm(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return tv(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const o=await fm(e.localStore,t,!0),s=new Fg(t,o.ls),a=s.ca(o.documents),c=Sd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);tv(e,n,l.Ta);const u=new Vg(t,n,s);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function Hg(e,t){const n=ic(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!uh(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dm(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Ym(n.remoteStore,r.targetId),Zg(n,r.targetId)})).catch(Fc)):(Zg(n,r.targetId),await dm(n.localStore,r.targetId,!0))}async function Kg(e,t){const n=ic(e);try{const e=await function(e,t){const n=ic(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(zl.EMPTY_BYTE_STRING,Ec.min()).withLastLimboFreeSnapshotVersion(Ec.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.qr.updateTargetData(e,l))}));let a=wh(),c=xh();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(lm(e,o,t.documentUpdates).next((e=>{a=e.us,c=e.cs}))),!r.isEqual(Ec.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Vc.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(rc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?rc(r.Ra):e.removedDocuments.size>0&&(rc(r.Ra),r.Ra=!1))})),await iv(n,e,t)}catch(e){await Fc(e)}}function Gg(e,t,n){const r=ic(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ic(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&Og(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Qg(e,t,n){const r=ic(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new Dl(Cc.comparator);e=e.insert(o,_u.newNoDocument(o,Ec.min()));const n=xh().add(o),i=new Id(Ec.min(),new Map,new Dl(yc),e,n);await Kg(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),rv(r)}else await dm(r.localStore,t,!1).then((()=>Zg(r,t,n))).catch(Fc)}async function Yg(e,t){const n=ic(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ic(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Vc.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);rc(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=xh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);$g(n,r,null),Xg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iv(n,e)}catch(e){await Fc(e)}}async function Jg(e,t,n){const r=ic(e);try{const e=await function(e,t){const n=ic(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(rc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);$g(r,t,n),Xg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await iv(r,e)}catch(n){await Fc(n)}}function Xg(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function $g(e,t,n){const r=ic(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Zg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||ev(e,t)}))}function ev(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(Ym(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),rv(e))}function tv(e,t,n){for(const r of n)r instanceof jg?(e.wa.addReference(r.key,t),nv(e,r)):r instanceof Ug?($a("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||ev(e,r.key)):nc()}function nv(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||($a("SyncEngine","New document in limbo: "+n),e.ga.add(r),rv(e))}function rv(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Cc(Ic.fromString(t)),r=e.Da.next();e.ya.set(r,new Bg(n)),e.pa=e.pa.insert(n,r),Qm(e.remoteStore,new ff(sh(nh(n.path)),r,"TargetPurposeLimboResolution",$c._e))}}async function iv(e,t,n){const r=ic(e),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{s.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=nm.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Va.a_(i),await async function(e,t){const n=ic(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Vc.forEach(t,(t=>Vc.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Vc.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Hc(e))throw e;$a("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function ov(e,t){const n=ic(e);if(!n.currentUser.isEqual(t)){$a("SyncEngine","User change. New user:",t.toKey());const e=await am(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new sc(oc.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await iv(n,e._s)}}function sv(e,t){const n=ic(e),r=n.ya.get(t);if(r&&r.Ra)return xh().add(r.key);{let e=xh();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function av(e,t){const n=ic(e),r=await fm(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&tv(n,t.targetId,i.Ta),i}async function cv(e,t){const n=ic(e);return mm(n.localStore,t).then((e=>iv(n,e)))}async function lv(e,t,n,r){const i=ic(e),o=await function(e,t){const n=ic(e),r=ic(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Vc.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await ag(i.remoteStore):"acknowledged"===n||"rejected"===n?($g(i,t,r||null),Xg(i,t),function(e,t){ic(ic(e).mutationQueue).Fn(t)}(i.localStore,t)):nc(),await iv(i,o)):$a("SyncEngine","Cannot apply mutation batch with id: "+t)}async function uv(e,t,n){const r=ic(e),i=[],o=[];for(const s of t){let e;const t=r.fa.get(s);if(t&&0!==t.length){e=await hm(r.localStore,sh(t[0]));for(const e of t){const t=r.ma.get(e),n=await av(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await pm(r.localStore,s);e=await hm(r.localStore,t),await Wg(r,hv(t),s,!1,e.resumeToken)}i.push(e)}return r.Va.a_(o),i}function hv(e){return th(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function dv(e){return function(e){return ic(ic(e).persistence).Bi()}(ic(e).localStore)}async function fv(e,t,n,r){const i=ic(e);if(i.Ca)return void $a("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await mm(i.localStore,ph(o[0])),r=Id.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,zl.EMPTY_BYTE_STRING);await iv(i,e,r);break}case"rejected":await dm(i.localStore,t,!0),Zg(i,t,r);break;default:nc()}}async function pv(e,t,n){const r=mv(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){$a("SyncEngine","Adding an already active target "+e);continue}const t=await pm(r.localStore,e),n=await hm(r.localStore,t);await Wg(r,hv(t),n.targetId,!1,n.resumeToken),Qm(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await dm(r.localStore,e,!1).then((()=>{Ym(r.remoteStore,e),Zg(r,e)})).catch(Fc)}}function mv(e){const t=ic(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qg.bind(null,t),t.Va.a_=Ng.bind(null,t.eventManager),t.Va.Fa=Ag.bind(null,t.eventManager),t}function gv(e){const t=ic(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jg.bind(null,t),t}class vv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Um(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return sm(this.persistence,new im,e.initialUser,this.serializer)}createPersistence(e){return new Kp(Qp.jr,this.serializer)}createSharedClientState(e){return new Cm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yv extends vv{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await gv(this.xa.syncEngine),await ag(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return sm(this.persistence,new im,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Ep(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Xc(t,this.persistence);return new Jc(e.asyncQueue,n)}createPersistence(e){const t=tm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ap.withCacheSize(this.cacheSizeBytes):ap.DEFAULT;return new $p(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Mm(),jm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Cm}}class wv extends yv{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof km&&(this.sharedClientState.syncEngine={Ys:lv.bind(null,t),Zs:fv.bind(null,t),Xs:pv.bind(null,t),Bi:dv.bind(null,t),Js:cv.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=ic(e);if(mv(n),gv(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await uv(n,e.toArray());n.Ca=!0,await vg(n.remoteStore,!0);for(const r of t)Qm(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Zg(n,i),dm(n.localStore,i,!0)))),Ym(n.remoteStore,i)})),await t,await uv(n,e),function(e){const t=ic(e);t.ya.forEach(((e,n)=>{Ym(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Dl(Cc.comparator)}(n),n.Ca=!1,await vg(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Mm();if(!km.D(t))throw new sc(oc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=tm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new km(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class bv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Gg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ov.bind(null,this.syncEngine),await vg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new kg}createDatastore(e){const t=Um(e.databaseInfo.databaseId),n=function(e){return new Lm(e)}(e.databaseInfo);return function(e,t,n,r){return new qm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Hm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Gg(this.syncEngine,e,0)),Nm.D()?new Nm:new xm)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new zg(e,t,n,r,i,o);return s&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=ic(e);$a("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await Gm(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function _v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Ev{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Za("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Tv{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new ac,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new Rg(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Iv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new sc(oc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=ic(e),r=Qd(n.serializer)+"/documents",i={documents:t.map((e=>Wd(n.serializer,e)))},o=await n.Co("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){rc(!!t.found),t.found.name,t.found.updateTime;const n=Hd(e,t.found.name),r=Bd(t.found.updateTime),i=t.found.createTime?Bd(t.found.createTime):Ec.min(),o=new wu({mapValue:{fields:t.found.fields}});return _u.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){rc(!!t.missing),rc(!!t.readTime);const n=Hd(e,t.missing),r=Bd(t.readTime);return _u.newNoDocument(n,r)}(e,t):nc()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());rc(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ad(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Cc.fromPath(t);this.mutations.push(new cd(n,this.precondition(n)))})),await async function(e,t){const n=ic(e),r=Qd(n.serializer)+"/documents",i={writes:t.map((e=>$d(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nc();t=Ec.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sc(oc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ec.min())?Qh.exists(!1):Qh.updateTime(t):Qh.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ec.min()))throw new sc(oc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qh.updateTime(t)}return Qh.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Sv{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new Fm(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new Iv(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Zc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!md(t)}return!1}}class kv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Qa.UNAUTHENTICATED,this.clientId=vc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{$a("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>($a("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sc(oc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ac;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=_g(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Cv(e,t){e.asyncQueue.verifyOperationInProgress(),$a("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await am(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function xv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Av(e);$a("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>gg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>gg(t.remoteStore,n))),e._onlineComponents=t}function Nv(e){return"FirebaseError"===e.name?e.code===oc.FAILED_PRECONDITION||e.code===oc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Av(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){$a("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Nv(n))throw n;ec("Error using user provided cache. Falling back to memory cache: "+n),await Cv(e,new vv)}}else $a("FirestoreClient","Using default OfflineComponentProvider"),await Cv(e,new vv);return e._offlineComponents}async function Ov(e){return e._onlineComponents||(e._uninitializedComponentsProvider?($a("FirestoreClient","Using user provided OnlineComponentProvider"),await xv(e,e._uninitializedComponentsProvider._online)):($a("FirestoreClient","Using default OnlineComponentProvider"),await xv(e,new bv))),e._onlineComponents}function Pv(e){return Av(e).then((e=>e.persistence))}function Rv(e){return Av(e).then((e=>e.localStore))}function Dv(e){return Ov(e).then((e=>e.remoteStore))}function Lv(e){return Ov(e).then((e=>e.syncEngine))}function Mv(e){return Ov(e).then((e=>e.datastore))}async function jv(e){const t=await Ov(e),n=t.eventManager;return n.onListen=qg.bind(null,t.syncEngine),n.onUnlisten=Hg.bind(null,t.syncEngine),n}function Uv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ac;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Ev({next:o=>{t.enqueueAndForget((()=>xg(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new sc(oc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new sc(oc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Pg(nh(n.path),o,{includeMetadataChanges:!0,J_:!0});return Cg(e,s)}(await jv(e),e.asyncQueue,t,n,r))),r.promise}function Fv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ac;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Ev({next:n=>{t.enqueueAndForget((()=>xg(e,s))),n.fromCache&&"server"===r.source?i.reject(new sc(oc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Pg(n,o,{includeMetadataChanges:!0,J_:!0});return Cg(e,s)}(await jv(e),e.asyncQueue,t,n,r))),r.promise}function Vv(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?yd().encode(e):e,function(e,t){return new Tv(e,t)}(function(e,t){if(e instanceof Uint8Array)return _v(e,t);if(e instanceof ArrayBuffer)return _v(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Um(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=ic(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=ic(e),r=Bd(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Mg(r));const i=new Lg(r,e.localStore,t.serializer);let o=await t.Ma();for(;o;){const e=await i.ea(o);e&&n._updateProgress(e),o=await t.Ma()}const s=await i.complete();return await iv(e,s.ra,void 0),await function(e,t){const n=ic(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.na)}catch(e){return ec("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Lv(e),i,r)}))}function Bv(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const zv=new Map;function qv(e,t,n){if(!n)throw new sc(oc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Wv(e,t,n,r){if(!0===t&&!0===r)throw new sc(oc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Hv(e){if(!Cc.isDocumentKey(e))throw new sc(oc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Kv(e){if(Cc.isDocumentKey(e))throw new sc(oc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Gv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":nc()}function Qv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sc(oc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gv(e);throw new sc(oc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Yv(e,t){if(t<=0)throw new sc(oc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Jv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new sc(oc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sc(oc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bv(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sc(oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new sc(oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new sc(oc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sc(oc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sc(oc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new lc;switch(e.type){case"firstParty":return new fc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sc(oc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zv.get(e);t&&($a("ComponentProvider","Removing Datastore"),zv.delete(e),t.terminate())}(this),Promise.resolve()}}function $v(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Qv(e,Xv))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Qa.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vr(JSON.stringify({alg:"none",type:"JWT"})),vr(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new sc(oc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Qa(o)}e._authCredentials=new uc(new cc(t,n))}}class Zv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zv(this.firestore,e,this._query)}}class ey{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ty(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ey(this.firestore,e,this._key)}}class ty extends Zv{constructor(e,t,n){super(e,t,nh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ey(this.firestore,null,new Cc(e))}withConverter(e){return new ty(this.firestore,e,this._path)}}function ny(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kr(e),qv("collection","path",t),e instanceof Xv){const n=Ic.fromString(t,...r);return Kv(n),new ty(e,null,n)}{if(!(e instanceof ey||e instanceof ty))throw new sc(oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ic.fromString(t,...r));return Kv(n),new ty(e.firestore,null,n)}}function ry(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kr(e),1===arguments.length&&(t=vc.newId()),qv("doc","path",t),e instanceof Xv){const n=Ic.fromString(t,...r);return Hv(n),new ey(e,null,new Cc(n))}{if(!(e instanceof ey||e instanceof ty))throw new sc(oc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ic.fromString(t,...r));return Hv(n),new ey(e.firestore,e instanceof ty?e.converter:null,new Cc(n))}}function iy(e,t){return e=kr(e),t=kr(t),(e instanceof ey||e instanceof ty)&&(t instanceof ey||t instanceof ty)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function oy(e,t){return e=kr(e),t=kr(t),e instanceof Zv&&t instanceof Zv&&e.firestore===t.firestore&&uh(e._query,t._query)&&e.converter===t.converter}class sy{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Fm(this,"async_queue_retry"),this.iu=()=>{const e=jm();e&&$a("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=jm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=jm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new ac;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Hc(e))throw e;$a("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Za("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=bg.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&nc()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function ay(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class cy{constructor(){this._progressObserver={},this._taskCompletionResolver=new ac,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ly extends Xv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new sy,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hy(this),this._firestoreClient.terminate()}}function uy(e){return e._firestoreClient||hy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hy(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Jl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Bv(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new kv(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function dy(e,t,n){const r=new ac;return e.asyncQueue.enqueue((async()=>{try{await Cv(e,n),await xv(e,t),r.resolve()}catch(e){const n=e;if(!Nv(n))throw n;ec("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function fy(e){return function(e){const t=new ac;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=ic(e);eg(n.remoteStore)||$a("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=ic(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=_g(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Lv(e),t))),t.promise}(uy(e=Qv(e,ly)))}function py(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Pv(e),n=await Dv(e);return t.setNetworkEnabled(!0),function(e){const t=ic(e);return t.C_.delete(0),Km(t)}(n)}))}(uy(e=Qv(e,ly)))}function my(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Pv(e),n=await Dv(e);return t.setNetworkEnabled(!1),async function(e){const t=ic(e);t.C_.add(0),await Gm(t),t.M_.set("Offline")}(n)}))}(uy(e=Qv(e,ly)))}function gy(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=ic(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await Rv(e),t)))}(uy(e=Qv(e,ly)),t).then((t=>t?new Zv(e,null,t.query):null))}function vy(e){if(e._initialized||e._terminated)throw new sc(oc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yy(zl.fromBase64String(e))}catch(e){throw new sc(oc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new yy(zl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new sc(oc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class by{constructor(e){this._methodName=e}}class _y{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sc(oc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sc(oc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yc(this._lat,e._lat)||yc(this._long,e._long)}}const Ey=/^__.*__$/;class Ty{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rd(e,this.data,this.fieldMask,t,this.fieldTransforms):new nd(e,this.data,t,this.fieldTransforms)}}class Iy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new rd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Sy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nc()}}class ky{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new ky(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Ky(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Sy(this.Iu)&&Ey.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Cy{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Um(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ky({Iu:e,methodName:t,gu:n,path:kc.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xy(e){const t=e._freezeSettings(),n=Um(e._databaseId);return new Cy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ny(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.pu(o.merge||o.mergeFields?2:0,t,n,i);zy("Data must be an object, but it was:",s,r);const a=Vy(r,s);let c,l;if(o.merge)c=new Vl(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=qy(t,r,n);if(!s.contains(i))throw new sc(oc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Gy(e,i)||e.push(i)}c=new Vl(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new Ty(new wu(a),c,l)}class Ay extends by{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ay}}function Oy(e,t,n){return new ky({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Py extends by{_toFieldTransform(e){return new Kh(e.path,new Uh)}isEqual(e){return e instanceof Py}}class Ry extends by{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Oy(this,e,!0),n=this.yu.map((e=>Fy(e,t))),r=new Fh(n);return new Kh(e.path,r)}isEqual(e){return this===e}}class Dy extends by{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=Oy(this,e,!0),n=this.yu.map((e=>Fy(e,t))),r=new Bh(n);return new Kh(e.path,r)}isEqual(e){return this===e}}class Ly extends by{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new qh(e.serializer,Rh(e.serializer,this.wu));return new Kh(e.path,t)}isEqual(e){return this===e}}function My(e,t,n,r){const i=e.pu(1,t,n);zy("Data must be an object, but it was:",i,r);const o=[],s=wu.empty();Pl(r,((e,r)=>{const a=Hy(t,e,n);r=kr(r);const c=i.Ru(a);if(r instanceof Ay)o.push(a);else{const e=Fy(r,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Vl(o);return new Iy(s,a,i.fieldTransforms)}function jy(e,t,n,r,i,o){const s=e.pu(1,t,n),a=[qy(t,r,n)],c=[i];if(o.length%2!=0)throw new sc(oc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(qy(t,o[d])),c.push(o[d+1]);const l=[],u=wu.empty();for(let d=a.length-1;d>=0;--d)if(!Gy(l,a[d])){const e=a[d];let t=c[d];t=kr(t);const n=s.Ru(e);if(t instanceof Ay)l.push(e);else{const r=Fy(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new Vl(l);return new Iy(u,h,s.fieldTransforms)}function Uy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fy(n,e.pu(r?4:3,t))}function Fy(e,t){if(By(e=kr(e)))return zy("Unsupported field value:",t,e),Vy(e,t);if(e instanceof by)return function(e,t){if(!Sy(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Fy(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=kr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=_c.fromDate(e);return{timestampValue:Ud(t.serializer,n)}}if(e instanceof _c){const n=new _c(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ud(t.serializer,n)}}if(e instanceof _y)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yy)return{bytesValue:Fd(t.serializer,e._byteString)};if(e instanceof ey){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:zd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(Gv(e)))}(e,t)}function Vy(e,t){const n={};return Rl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pl(e,((e,r)=>{const i=Fy(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function By(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _c||e instanceof _y||e instanceof yy||e instanceof ey||e instanceof by)}function zy(e,t,n){if(!By(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Gv(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function qy(e,t,n){if((t=kr(t))instanceof wy)return t._internalPath;if("string"==typeof t)return Hy(e,t);throw Ky("Field path arguments must be of type string or ",e,!1,void 0,n)}const Wy=new RegExp("[~\\*/\\[\\]]");function Hy(e,t,n){if(t.search(Wy)>=0)throw Ky("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new wy(...t.split("."))._internalPath}catch(Vr){throw Ky("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ky(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field ".concat(r)),s&&(c+=" in document ".concat(i)),c+=")"),new sc(oc.INVALID_ARGUMENT,a+e+c)}function Gy(e,t){return e.some((e=>e.isEqual(t)))}class Qy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ey(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Yy extends Qy{data(){return super.data()}}function Jy(e,t){return"string"==typeof t?Hy(e,t):t instanceof wy?t._internalPath:t._delegate._internalPath}function Xy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sc(oc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $y{}class Zy extends $y{}function ew(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof $y&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof nw)).length,n=e.filter((e=>e instanceof tw)).length;if(t>1||t>0&&n>0)throw new sc(oc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class tw extends Zy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new tw(e,t,n)}_apply(e){const t=this._parse(e);return uw(e._query,t),new Zv(e.firestore,e.converter,ch(e._query,t))}_parse(e){const t=xy(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new sc(oc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){lw(s,o);const t=[];for(const n of s)t.push(cw(r,e,n));a={arrayValue:{values:t}}}else a=cw(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||lw(s,o),a=Uy(n,t,s,"in"===o||"not-in"===o);return xu.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class nw extends $y{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nw(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Nu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)uw(n,i),n=ch(n,i)}(e._query,t),new Zv(e.firestore,e.converter,ch(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rw extends Zy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new rw(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new sc(oc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sc(oc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Su(t,n)}(e._query,this._field,this._direction);return new Zv(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new eh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class iw extends Zy{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new iw(e,t,n)}_apply(e){return new Zv(e.firestore,e.converter,lh(e._query,this._limit,this._limitType))}}class ow extends Zy{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ow(e,t,n)}_apply(e){const t=aw(e,this.type,this._docOrFields,this._inclusive);return new Zv(e.firestore,e.converter,function(e,t){return new eh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class sw extends Zy{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new sw(e,t,n)}_apply(e){const t=aw(e,this.type,this._docOrFields,this._inclusive);return new Zv(e.firestore,e.converter,function(e,t){return new eh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function aw(e,t,n,r){if(n[0]=kr(n[0]),n[0]instanceof Qy)return function(e,t,n,r,i){if(!r)throw new sc(oc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of oh(e))if(s.field.isKeyField())o.push(au(t,r.key));else{const e=r.data.field(s.field);if(Gl(e))throw new sc(oc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new sc(oc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Eu(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=xy(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new sc(oc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new sc(oc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!ih(e)&&-1!==o.indexOf("/"))throw new sc(oc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Ic.fromString(o));if(!Cc.isDocumentKey(n))throw new sc(oc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Cc(n);a.push(au(t,i))}else{const e=Uy(n,r,o);a.push(e)}}return new Eu(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function cw(e,t,n){if("string"==typeof(n=kr(n))){if(""===n)throw new sc(oc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ih(t)&&-1!==n.indexOf("/"))throw new sc(oc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ic.fromString(n));if(!Cc.isDocumentKey(r))throw new sc(oc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return au(e,new Cc(r))}if(n instanceof ey)return au(e,n._key);throw new sc(oc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Gv(n),"."))}function lw(e,t){if(!Array.isArray(e)||0===e.length)throw new sc(oc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function uw(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new sc(oc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new sc(oc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class hw{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(eu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Pl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new _y(Hl(e.latitude),Hl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ql(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const t=Wl(e);return new _c(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ic.fromString(e);rc(df(n));const r=new Xl(n.get(1),n.get(3)),i=new Cc(n.popFirst(5));return r.isEqual(t)||Za("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function dw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class fw extends hw{constructor(e){super(),this.firestore=e}convertBytes(e){return new yy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ey(this.firestore,null,t)}}class pw{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mw extends Qy{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new gw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Jy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class gw extends mw{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class vw{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new pw(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new gw(this._firestore,this._userDataWriter,n.key,n,new pw(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sc(oc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new gw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new pw(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new gw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:yw(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function yw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nc()}}function ww(e,t){return e instanceof mw&&t instanceof mw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vw&&t instanceof vw&&e._firestore===t._firestore&&oy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class bw extends hw{constructor(e){super(),this.firestore=e}convertBytes(e){return new yy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ey(this.firestore,null,t)}}function _w(e){e=Qv(e,ey);const t=Qv(e.firestore,ly),n=uy(t),r=new bw(t);return function(e,t){const n=new ac;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=ic(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new sc(oc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=_g(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Rv(e),t,n))),n.promise}(n,e._key).then((n=>new mw(t,r,e._key,n,new pw(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Ew(e){e=Qv(e,Zv);const t=Qv(e.firestore,ly),n=uy(t),r=new bw(t);return function(e,t){const n=new ac;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await fm(e,t,!0),i=new Fg(t,r.ls),o=i.ca(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=_g(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Rv(e),t,n))),n.promise}(n,e._query).then((n=>new vw(t,r,e,n)))}function Tw(e,t,n){e=Qv(e,ey);const r=Qv(e.firestore,ly),i=dw(e.converter,t,n);return xw(r,[Ny(xy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qh.none())])}function Iw(e,t,n){e=Qv(e,ey);const r=Qv(e.firestore,ly),i=xy(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return o="string"==typeof(t=kr(t))||t instanceof wy?jy(i,"updateDoc",e._key,t,n,a):My(i,"updateDoc",e._key,t),xw(r,[o.toMutation(e._key,Qh.exists(!0))])}function Sw(e){return xw(Qv(e.firestore,ly),[new ad(e._key,Qh.none())])}function kw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=kr(e);let a={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||ay(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges};if(ay(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,h,d;if(e instanceof ey)h=Qv(e.firestore,ly),d=nh(e._key.path),u={next:t=>{n[c]&&n[c](Nw(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=Qv(e,Zv);h=Qv(t.firestore,ly),d=t._query;const r=new bw(h);u={next:e=>{n[c]&&n[c](new vw(h,r,t,e))},error:n[c+1],complete:n[c+2]},Xy(e._query)}return function(e,t,n,r){const i=new Ev(r),o=new Pg(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Cg(await jv(e),o))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>xg(await jv(e),o)))}}(uy(h),d,l,u)}function Cw(e,t){return function(e,t){const n=new Ev(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){ic(e).q_.add(t),t.next()}(await jv(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){ic(e).q_.delete(t)}(await jv(e),n)))}}(uy(e=Qv(e,ly)),ay(t)?t:{next:t})}function xw(e,t){return function(e,t){const n=new ac;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=gv(e);try{const e=await function(e,t){const n=ic(e),r=_c.now(),i=t.reduce(((e,t)=>e.add(t.key)),xh());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=wh(),c=xh();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=ed(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new rd(e.key,t,bu(t.value.mapValue),Qh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Eh(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Dl(yc)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await iv(r,e.changes),await ag(r.remoteStore)}catch(e){const t=_g(e,"Failed to persist write");n.reject(t)}}(await Lv(e),t,n))),n.promise}(uy(e),t)}function Nw(e,t,n){const r=n.docs.get(t._key),i=new bw(e);return new mw(e,i,t._key,r,new pw(n.hasPendingWrites,n.fromCache),t.converter)}const Aw={maxAttempts:5};class Ow{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xy(e)}set(e,t,n){this._verifyNotCommitted();const r=Pw(e,this._firestore),i=dw(r.converter,t,n),o=Ny(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Qh.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Pw(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=kr(t))||t instanceof wy?jy(this._dataReader,"WriteBatch.update",r._key,t,n,s):My(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Qh.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pw(e,this._firestore);return this._mutations=this._mutations.concat(new ad(t._key,Qh.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sc(oc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pw(e,t){if((e=kr(e)).firestore!==t)throw new sc(oc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Rw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xy(e)}get(e){const t=Pw(e,this._firestore),n=new fw(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return nc();const r=e[0];if(r.isFoundDocument())return new Qy(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Qy(this._firestore,n,t._key,null,t.converter);throw nc()}))}set(e,t,n){const r=Pw(e,this._firestore),i=dw(r.converter,t,n),o=Ny(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Pw(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=kr(t))||t instanceof wy?jy(this._dataReader,"Transaction.update",r._key,t,n,s):My(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Pw(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pw(e,this._firestore),n=new bw(this._firestore);return super.get(e).then((e=>new mw(this._firestore,n,t._key,e._document,new pw(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ya=e}(Bt),Lt(new Fe("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new ly(new hc(e.getProvider("auth-internal")),new mc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sc(oc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Kt(Ga,"4.4.0",e),Kt(Ga,"4.4.0","esm2017")}();const Dw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t};class Lw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}function Mw(e){return e&&e._delegate?e._delegate:e}function jw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Uw(){if("undefined"===typeof Uint8Array)throw new sc("unimplemented","Uint8Arrays are not available in this environment.")}function Fw(){if("undefined"==typeof atob)throw new sc("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Vw{constructor(e){this._delegate=e}static fromBase64String(e){return Fw(),new Vw(yy.fromBase64String(e))}static fromUint8Array(e){return Uw(),new Vw(yy.fromUint8Array(e))}toBase64(){return Fw(),this._delegate.toBase64()}toUint8Array(){return Uw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Bw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class zw{enableIndexedDbPersistence(e,t){return function(e,t){vy(e=Qv(e,ly));const n=uy(e);if(n._uninitializedComponentsProvider)throw new sc(oc.FAILED_PRECONDITION,"SDK cache is already specified.");ec("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new bv;return dy(n,i,new yv(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){vy(e=Qv(e,ly));const t=uy(e);if(t._uninitializedComponentsProvider)throw new sc(oc.FAILED_PRECONDITION,"SDK cache is already specified.");ec("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new bv;return dy(t,r,new wv(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new sc(oc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ac;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!zc.D())return Promise.resolve();const t=e+"main";await zc.delete(t)}(tm(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class qw{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Xl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ec("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$v(this._delegate,e,t,n)}enableNetwork(){return py(this._delegate)}disableNetwork(){return my(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Wv("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return fy(this._delegate)}onSnapshotsInSync(e){return Cw(this._delegate,e)}get app(){if(!this._appCompat)throw new sc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rb(this,ny(this._delegate,e))}catch(t){throw Yw(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qw(this,ry(this._delegate,e))}catch(t){throw Yw(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new eb(this,function(e,t){if(e=Qv(e,Xv),qv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sc(oc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Zv(e,null,function(e){return new eh(Ic.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Yw(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Qv(e,ly);const r=Object.assign(Object.assign({},Aw),n);return function(e){if(e.maxAttempts<1)throw new sc(oc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new ac;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Mv(e);new Sv(e.asyncQueue,i,n,t,r).run()})),r.promise}(uy(e),(n=>t(new Rw(e,n))),r)}(this._delegate,(t=>e(new Hw(this,t))))}batch(){return uy(this._delegate),new Kw(new Ow(this._delegate,(e=>xw(this._delegate,e))))}loadBundle(e){return function(e,t){const n=uy(e=Qv(e,ly)),r=new cy;return Vv(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return gy(this._delegate,e).then((e=>e?new eb(this,e):null))}}class Ww extends hw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vw(new yy(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qw.forKey(t,this.firestore,null)}}class Hw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ww(e)}get(e){const t=ib(e);return this._delegate.get(t).then((e=>new $w(this._firestore,new mw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=ib(e);return n?(jw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=ib(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=ib(e);return this._delegate.delete(t),this}}class Kw{constructor(e){this._delegate=e}set(e,t,n){const r=ib(e);return n?(jw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=ib(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=ib(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gw{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new gw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zw(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Gw.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Gw(e,new Ww(e),t),r.set(t,i)),i}}Gw.INSTANCES=new WeakMap;class Qw{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ww(e)}static forPath(e,t,n){if(e.length%2!==0)throw new sc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new Qw(t,new ey(t._delegate,n,new Cc(e)))}static forKey(e,t,n){return new Qw(t,new ey(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new rb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rb(this.firestore,ny(this._delegate,e))}catch(t){throw Yw(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Mw(e))instanceof ey&&iy(this._delegate,e)}set(e,t){t=jw("DocumentReference.set",t);try{return t?Tw(this._delegate,e,t):Tw(this._delegate,e)}catch(n){throw Yw(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Iw(this._delegate,e):Iw(this._delegate,e,t,...r)}catch(o){throw Yw(o,"updateDoc()","DocumentReference.update()")}}delete(){return Sw(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Jw(t),i=Xw(t,(e=>new $w(this.firestore,new mw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return kw(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?_w(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Qv(e,ey);const t=Qv(e.firestore,ly);return Uv(uy(t),e._key,{source:"server"}).then((n=>Nw(t,e,n)))}(this._delegate):function(e){e=Qv(e,ey);const t=Qv(e.firestore,ly);return Uv(uy(t),e._key).then((n=>Nw(t,e,n)))}(this._delegate),t.then((e=>new $w(this.firestore,new mw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Qw(this.firestore,e?this._delegate.withConverter(Gw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Yw(e,t,n){return e.message=e.message.replace(t,n),e}function Jw(e){for(const t of e)if("object"===typeof t&&!Bw(t))return t;return{}}function Xw(e,t){var n,r;let i;return i=Bw(e[0])?e[0]:Bw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class $w{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qw(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ww(this._delegate,e._delegate)}}class Zw extends $w{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||nc(),t}}class eb{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ww(e)}where(e,t,n){try{return new eb(this.firestore,ew(this._delegate,function(e,t,n){const r=t,i=Jy("where",e);return tw._create(i,r,n)}(e,t,n)))}catch(r){throw Yw(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new eb(this.firestore,ew(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Jy("orderBy",e);return rw._create(n,t)}(e,t)))}catch(n){throw Yw(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new eb(this.firestore,ew(this._delegate,(Yv("limit",t=e),iw._create("limit",t,"F"))))}catch(t){throw Yw(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new eb(this.firestore,ew(this._delegate,(Yv("limitToLast",t=e),iw._create("limitToLast",t,"L"))))}catch(t){throw Yw(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new eb(this.firestore,ew(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ow._create("startAt",t,!0)}(...arguments)))}catch(e){throw Yw(e,"startAt()","Query.startAt()")}}startAfter(){try{return new eb(this.firestore,ew(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ow._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Yw(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new eb(this.firestore,ew(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sw._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Yw(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new eb(this.firestore,ew(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sw._create("endAt",t,!0)}(...arguments)))}catch(e){throw Yw(e,"endAt()","Query.endAt()")}}isEqual(e){return oy(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ew(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Qv(e,Zv);const t=Qv(e.firestore,ly),n=uy(t),r=new bw(t);return Fv(n,e._query,{source:"server"}).then((n=>new vw(t,r,e,n)))}(this._delegate):function(e){e=Qv(e,Zv);const t=Qv(e.firestore,ly),n=uy(t),r=new bw(t);return Xy(e._query),Fv(n,e._query).then((n=>new vw(t,r,e,n)))}(this._delegate),t.then((e=>new nb(this.firestore,new vw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Jw(t),i=Xw(t,(e=>new nb(this.firestore,new vw(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return kw(this._delegate,r,i)}withConverter(e){return new eb(this.firestore,e?this._delegate.withConverter(Gw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class tb{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new eb(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Zw(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new tb(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Zw(this._firestore,n))}))}isEqual(e){return ww(this._delegate,e._delegate)}}class rb extends eb{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qw(this.firestore,e):null}doc(e){try{return new Qw(this.firestore,void 0===e?ry(this._delegate):ry(this._delegate,e))}catch(t){throw Yw(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Qv(e.firestore,ly),r=ry(e),i=dw(e.converter,t);return xw(n,[Ny(xy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qh.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Qw(this.firestore,e)))}isEqual(e){return iy(this._delegate,e._delegate)}withConverter(e){return new rb(this.firestore,e?this._delegate.withConverter(Gw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ib(e){return Qv(e,ey)}class ob{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new wy(...t)}static documentId(){return new ob(kc.keyField().canonicalString())}isEqual(e){return(e=Mw(e))instanceof wy&&this._delegate._internalPath.isEqual(e._internalPath)}}class sb{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Py("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new sb(e)}static delete(){const e=new Ay("deleteField");return e._methodName="FieldValue.delete",new sb(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ry("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new sb(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Dy("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new sb(e)}static increment(e){const t=new Ly("increment",e);return t._methodName="FieldValue.increment",new sb(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ab={Firestore:qw,GeoPoint:_y,Timestamp:_c,Blob:Vw,Transaction:Hw,WriteBatch:Kw,DocumentReference:Qw,DocumentSnapshot:$w,Query:eb,QueryDocumentSnapshot:Zw,QuerySnapshot:nb,CollectionReference:rb,FieldPath:ob,FieldValue:sb,setLogLevel:function(e){var t;t=e,Ja.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var cb;(function(e,t){e.INTERNAL.registerComponent(new Fe("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ab)))})(cb=yn,((e,t)=>new qw(e,t,new zw))),cb.registerVersion("@firebase/firestore-compat","0.3.23");const lb=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new hb;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class hb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const db=function(e){try{return ub.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const fb=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,pb=()=>{try{return fb()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&db(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}};function mb(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function gb(){var e;const t=null===(e=pb())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function vb(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function yb(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function wb(){const e=mb();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function bb(){try{return"object"===typeof indexedDB}catch(e){return!1}}class _b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eb.prototype.create)}}class Eb{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Tb,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new _b(n,o,t)}}const Tb=/\{\$([^}]+)}/g;function Ib(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Sb(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function kb(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Cb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=xb),void 0===r.error&&(r.error=xb),void 0===r.complete&&(r.complete=xb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function xb(){}function Nb(e){return e&&e._delegate?e._delegate:e}const Ab=[];var Ob;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ob||(Ob={}));const Pb={debug:Ob.DEBUG,verbose:Ob.VERBOSE,info:Ob.INFO,warn:Ob.WARN,error:Ob.ERROR,silent:Ob.SILENT},Rb=Ob.INFO,Db={[Ob.DEBUG]:"log",[Ob.VERBOSE]:"log",[Ob.INFO]:"info",[Ob.WARN]:"warn",[Ob.ERROR]:"error"},Lb=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Db[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};function Mb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const jb={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ub="EMAIL_SIGNIN",Fb="PASSWORD_RESET",Vb="RECOVER_EMAIL",Bb="REVERT_SECOND_FACTOR_ADDITION",zb="VERIFY_AND_CHANGE_EMAIL",qb="VERIFY_EMAIL";function Wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hb=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Kb=Wb,Gb=new Eb("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qb=new class{constructor(e){this.name=e,this._logLevel=Rb,this._logHandler=Lb,this._userLogHandler=null,Ab.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ob))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Pb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ob.DEBUG,...t),this._logHandler(this,Ob.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ob.VERBOSE,...t),this._logHandler(this,Ob.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ob.INFO,...t),this._logHandler(this,Ob.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ob.WARN,...t),this._logHandler(this,Ob.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ob.ERROR,...t),this._logHandler(this,Ob.ERROR,...t)}}("@firebase/auth");function Yb(e){if(Qb.logLevel<=Ob.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qb.error("Auth (".concat(Bt,"): ").concat(e),...n)}}function Jb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw e_(e,...n)}function Xb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e_(e,...n)}function $b(e,t,n){const r=Object.assign(Object.assign({},Kb()),{[t]:n});return new Eb("auth","Firebase",r).create(t,{appName:e.name})}function Zb(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Jb(e,"argument-error"),$b(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function e_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Gb.create(e,...n)}function t_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw e_(t,...r)}}function n_(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Yb(t),new Error(t)}function r_(e,t){e||n_(t)}function i_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function o_(){return"http:"===s_()||"https:"===s_()}function s_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class a_{constructor(e,t){this.shortDelay=e,this.longDelay=t,r_(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mb())||yb()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(o_()||vb()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function c_(e,t){r_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class l_{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void n_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void n_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void n_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const u_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},h_=new a_(3e4,6e4);function d_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function f_(e,t,n,r){return p_(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Ib(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),l_.fetch()(g_(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function p_(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},u_),t);try{const t=new y_(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw w_(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw w_(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw w_(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw w_(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw $b(e,a,s);Jb(e,a)}}catch(i){if(i instanceof _b)throw i;Jb(e,"network-request-failed",{message:String(i)})}}async function m_(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await f_(e,t,n,r,i);return"mfaPendingCredential"in o&&Jb(e,"multi-factor-auth-required",{_serverResponse:o}),o}function g_(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?c_(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function v_(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y_{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Xb(this.auth,"network-request-failed"))),h_.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function w_(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xb(e,t,r);return i.customData._tokenResponse=n,i}function b_(e){return void 0!==e&&void 0!==e.getResponse}function __(e){return void 0!==e&&void 0!==e.enterprise}class E_{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return v_(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function T_(e,t){return f_(e,"GET","/v2/recaptchaConfig",d_(e,t))}function I_(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function S_(e){return 1e3*Number(e)}function k_(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Yb("JWT malformed, contained fewer than 3 sections"),null;try{const e=db(n);return e?JSON.parse(e):(Yb("Failed to decode base64 JWT payload"),null)}catch(i){return Yb("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function C_(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof _b&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class x_{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class N_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=I_(this.lastLoginAt),this.creationTime=I_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function A_(e){var t;const n=e.auth,r=await e.getIdToken(),i=await C_(e,async function(e,t){return f_(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));t_(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Mb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new N_(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class O_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){t_(e.idToken,"internal-error"),t_("undefined"!==typeof e.idToken,"internal-error"),t_("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=k_(e);return t_(t,"internal-error"),t_("undefined"!==typeof t.exp,"internal-error"),t_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t_(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await p_(e,{},(async()=>{const n=Ib({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=g_(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",l_.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new O_;return n&&(t_("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(t_("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(t_("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new O_,this.toJSON())}_performRefresh(){return n_("not implemented")}}function P_(e,t){t_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class R_{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Mb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new N_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await C_(this,this.stsTokenManager.getToken(this.auth,e));return t_(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Nb(e),r=await n.getIdToken(t),i=k_(r);t_(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:I_(S_(i.auth_time)),issuedAtTime:I_(S_(i.iat)),expirationTime:I_(S_(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Nb(e);await A_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(t_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new R_(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){t_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await A_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await C_(this,async function(e,t){return f_(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;t_(y&&E,e,"internal-error");const T=O_.fromJSON(this.name,E);t_("string"===typeof y,e,"internal-error"),P_(u,e.name),P_(h,e.name),t_("boolean"===typeof w,e,"internal-error"),t_("boolean"===typeof b,e,"internal-error"),P_(d,e.name),P_(f,e.name),P_(p,e.name),P_(m,e.name),P_(g,e.name),P_(v,e.name);const I=new R_({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new O_;r.updateFromServerResponse(t);const i=new R_({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await A_(i),i}}const D_=new Map;function L_(e){r_(e instanceof Function,"Expected a class definition");let t=D_.get(e);return t?(r_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,D_.set(e,t),t)}class M_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}M_.type="NONE";const j_=M_;function U_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class F_{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=U_(this.userKey,r.apiKey,i),this.fullPersistenceKey=U_("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?R_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new F_(L_(j_),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||L_(j_);const o=U_(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=R_._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(c){}}))),new F_(i,e,n)):new F_(i,e,n)}}function V_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(W_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(B_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(K_(t))return"Blackberry";if(G_(t))return"Webos";if(z_(t))return"Safari";if((t.includes("chrome/")||q_(t))&&!t.includes("edge/"))return"Chrome";if(H_(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function B_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return/firefox\//i.test(e)}function z_(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return/crios\//i.test(e)}function W_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return/iemobile/i.test(e)}function H_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return/android/i.test(e)}function K_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return/blackberry/i.test(e)}function G_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return/webos/i.test(e)}function Q_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Y_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return Q_(e)||H_(e)||G_(e)||K_(e)||/windows phone/i.test(e)||W_(e)}function J_(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=V_(mb());break;case"Worker":t="".concat(V_(mb()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Bt,"/").concat(r)}class X_{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class $_{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Z_{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new X_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=L_(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await F_.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return t_(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await A_(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Nb(e):null;return t&&t_(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&t_(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(L_(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return f_(e,"GET","/v2/passwordPolicy",d_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new $_(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Eb("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return f_(e,"POST","/v2/accounts:revokeToken",d_(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&L_(e)||this._popupRedirectResolver;t_(t,this,"argument-error"),this.redirectPersistenceManager=await F_.create(this,[L_(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(t_(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return t_(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Qb.logLevel<=Ob.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qb.warn("Auth (".concat(Bt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function eE(e){return Nb(e)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Cb(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return t_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nE(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Xb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function rE(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class iE{constructor(e){this.type="recaptcha-enterprise",this.auth=eE(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;__(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{T_(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new E_(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&__(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));nE("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function oE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new iE(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function sE(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await oE(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await oE(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function aE(e,t,n){const r=eE(e);t_(r._canInitEmulator,r,"emulator-config-failed"),t_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=cE(t),{host:s,port:a}=function(e){const t=cE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:lE(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:lE(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function cE(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function lE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class uE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return n_("not implemented")}_getIdTokenResponse(e){return n_("not implemented")}_linkToIdToken(e,t){return n_("not implemented")}_getReauthenticationResolver(e){return n_("not implemented")}}async function hE(e,t){return f_(e,"POST","/v1/accounts:resetPassword",d_(e,t))}async function dE(e,t){return f_(e,"POST","/v1/accounts:signUp",t)}async function fE(e,t){return m_(e,"POST","/v1/accounts:signInWithPassword",d_(e,t))}async function pE(e,t){return f_(e,"POST","/v1/accounts:sendOobCode",d_(e,t))}async function mE(e,t){return pE(e,t)}async function gE(e,t){return pE(e,t)}class vE extends uE{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new vE(e,t,"password")}static _fromEmailAndCode(e,t){return new vE(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return sE(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fE);case"emailLink":return async function(e,t){return m_(e,"POST","/v1/accounts:signInWithEmailLink",d_(e,t))}(e,{email:this._email,oobCode:this._password});default:Jb(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return sE(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dE);case"emailLink":return async function(e,t){return m_(e,"POST","/v1/accounts:signInWithEmailLink",d_(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Jb(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yE(e,t){return m_(e,"POST","/v1/accounts:signInWithIdp",d_(e,t))}class wE extends uE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wE(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jb("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Mb(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new wE(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return yE(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yE(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yE(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ib(t)}return e}}const bE={USER_NOT_FOUND:"user-not-found"};class _E extends uE{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _E({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _E({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return m_(e,"POST","/v1/accounts:signInWithPhoneNumber",d_(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await m_(e,"POST","/v1/accounts:signInWithPhoneNumber",d_(e,t));if(n.temporaryProof)throw w_(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return m_(e,"POST","/v1/accounts:signInWithPhoneNumber",d_(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),bE)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new _E({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class EE{constructor(e){var t,n,r,i,o,s;const a=Sb(kb(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);t_(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Sb(kb(e)).link,n=t?Sb(kb(t)).deep_link_id:null,r=Sb(kb(e)).deep_link_id;return(r?Sb(kb(r)).link:null)||r||n||t||e}(e);try{return new EE(t)}catch(n){return null}}}class TE{constructor(){this.providerId=TE.PROVIDER_ID}static credential(e,t){return vE._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=EE.parseLink(t);return t_(n,"argument-error"),vE._fromEmailAndCode(e,n.code,n.tenantId)}}TE.PROVIDER_ID="password",TE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",TE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class IE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class SE extends IE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kE extends SE{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return t_("providerId"in t&&"signInMethod"in t,"argument-error"),wE._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return t_(e.idToken||e.accessToken,"argument-error"),wE._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return kE.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return kE.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new kE(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(c){return null}}}class CE extends SE{constructor(){super("facebook.com")}static credential(e){return wE._fromParams({providerId:CE.PROVIDER_ID,signInMethod:CE.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return CE.credentialFromTaggedObject(e)}static credentialFromError(e){return CE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return CE.credential(t.oauthAccessToken)}catch(n){return null}}}CE.FACEBOOK_SIGN_IN_METHOD="facebook.com",CE.PROVIDER_ID="facebook.com";class xE extends SE{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wE._fromParams({providerId:xE.PROVIDER_ID,signInMethod:xE.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xE.credentialFromTaggedObject(e)}static credentialFromError(e){return xE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return xE.credential(n,r)}catch(i){return null}}}xE.GOOGLE_SIGN_IN_METHOD="google.com",xE.PROVIDER_ID="google.com";class NE extends SE{constructor(){super("github.com")}static credential(e){return wE._fromParams({providerId:NE.PROVIDER_ID,signInMethod:NE.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return NE.credentialFromTaggedObject(e)}static credentialFromError(e){return NE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return NE.credential(t.oauthAccessToken)}catch(n){return null}}}NE.GITHUB_SIGN_IN_METHOD="github.com",NE.PROVIDER_ID="github.com";class AE extends uE{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return yE(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yE(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yE(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new AE(n,i):null}static _create(e,t){return new AE(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class OE extends IE{constructor(e){t_(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return OE.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return OE.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=AE.fromJSON(e);return t_(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return AE._create(r,n)}catch(i){return null}}}class PE extends SE{constructor(){super("twitter.com")}static credential(e,t){return wE._fromParams({providerId:PE.PROVIDER_ID,signInMethod:PE.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return PE.credentialFromTaggedObject(e)}static credentialFromError(e){return PE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return PE.credential(n,r)}catch(i){return null}}}async function RE(e,t){return m_(e,"POST","/v1/accounts:signUp",d_(e,t))}PE.TWITTER_SIGN_IN_METHOD="twitter.com",PE.PROVIDER_ID="twitter.com";class DE{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await R_._fromIdTokenResponse(e,n,r),o=LE(n);return new DE({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=LE(n);return new DE({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function LE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ME extends _b{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ME.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ME(e,t,n,r)}}function jE(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ME._fromErrorAndOperation(e,n,t,r);throw n}))}function UE(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function FE(e,t){const n=Nb(e);await BE(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return f_(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=UE(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function VE(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await C_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return DE._forOperation(e,"link",r)}async function BE(e,t,n){await A_(t);const r=!1===e?"provider-already-linked":"no-such-provider";t_(UE(t.providerData).has(n)===e,t.auth,r)}async function zE(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await C_(e,jE(r,i,t,e),n);t_(o.idToken,r,"internal-error");const s=k_(o.idToken);t_(s,r,"internal-error");const{sub:a}=s;return t_(e.uid===a,r,"user-mismatch"),DE._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Jb(r,"user-mismatch"),o}}async function qE(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await jE(e,r,t),o=await DE._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function WE(e,t){return qE(eE(e),t)}async function HE(e,t){const n=Nb(e);return await BE(!1,n,t.providerId),VE(n,t)}async function KE(e,t){return zE(Nb(e),t)}async function GE(e,t){const n=eE(e),r=await async function(e,t){return m_(e,"POST","/v1/accounts:signInWithCustomToken",d_(e,t))}(n,{token:t,returnSecureToken:!0}),i=await DE._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class QE{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?YE._fromServerResponse(e,t):"totpInfo"in t?JE._fromServerResponse(e,t):Jb(e,"internal-error")}}class YE extends QE{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new YE(t)}}class JE extends QE{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new JE(t)}}function XE(e,t,n){var r;t_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),t_("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(t_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(t_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function $E(e){const t=eE(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ZE(e,t){await async function(e,t){return f_(e,"POST","/v1/accounts:update",d_(e,t))}(Nb(e),{oobCode:t})}async function eT(e,t){const n=Nb(e),r=await hE(n,{oobCode:t}),i=r.requestType;switch(t_(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":t_(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":t_(r.mfaInfo,n,"internal-error");default:t_(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=QE._fromServerResponse(eE(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function tT(e,t){const n={identifier:t,continueUri:o_()?i_():"http://localhost"},{signinMethods:r}=await async function(e,t){return f_(e,"POST","/v1/accounts:createAuthUri",d_(e,t))}(Nb(e),n);return r||[]}async function nT(e,t){const n=Nb(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&XE(n.auth,r,t);const{email:i}=await async function(e,t){return pE(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function rT(e,t,n){const r=Nb(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&XE(r.auth,i,n);const{email:o}=await async function(e,t){return pE(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function iT(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Nb(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await C_(i,async function(e,t){return f_(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function oT(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await C_(e,async function(e,t){return f_(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class sT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class aT extends sT{constructor(e,t,n,r){super(e,t,n),this.username=r}}class cT extends sT{constructor(e,t){super(e,"facebook.com",t)}}class lT extends aT{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class uT extends sT{constructor(e,t){super(e,"google.com",t)}}class hT extends aT{constructor(e,t,n){super(e,"twitter.com",t,n)}}function dT(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=k_(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new sT(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new cT(o,i);case"github.com":return new lT(o,i);case"google.com":return new uT(o,i);case"twitter.com":return new hT(o,i,e.screenName||null);case"custom":case"anonymous":return new sT(o,null);default:return new sT(o,r,i)}}(n)}class fT{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new fT("enroll",e,t)}static _fromMfaPendingCredential(e){return new fT("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return fT._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return fT._fromIdtoken(e.multiFactorSession.idToken)}return null}}class pT{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=eE(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>QE._fromServerResponse(n,e)));t_(r.mfaPendingCredential,n,"internal-error");const o=fT._fromMfaPendingCredential(r.mfaPendingCredential);return new pT(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await DE._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return t_(t.user,n,"internal-error"),DE._forOperation(t.user,t.operationType,s);default:Jb(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class mT{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>QE._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new mT(e)}async getSession(){return fT._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await C_(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await C_(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},f_(r,"POST","/v2/accounts/mfaEnrollment:withdraw",d_(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var r,i}}const gT=new WeakMap;const vT="__sak";class yT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vT,"1"),this.storage.removeItem(vT),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class wT extends yT{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=mb();return z_(e)||Q_(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Y_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);wb()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wT.type="LOCAL";const bT=wT;class _T extends yT{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_T.type="SESSION";const ET=_T;class TT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new TT(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function IT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}TT.receivers=[];class ST{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=IT("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function kT(){return window}function CT(){return"undefined"!==typeof kT().WorkerGlobalScope&&"function"===typeof kT().importScripts}const xT="firebaseLocalStorageDb",NT="firebaseLocalStorage",AT="fbase_key";class OT{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function PT(e,t){return e.transaction([NT],t?"readwrite":"readonly").objectStore(NT)}function RT(){const e=indexedDB.open(xT,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(NT,{keyPath:AT})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(NT)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(xT);return new OT(e).toPromise()}(),t(await RT()))}))}))}async function DT(e,t,n){const r=PT(e,!0).put({[AT]:t,value:n});return new OT(r).toPromise()}function LT(e,t){const n=PT(e,!0).delete(t);return new OT(n).toPromise()}class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await RT()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=TT._getInstance(CT()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ST(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await RT();return await DT(e,vT,"1"),await LT(e,vT),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>DT(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=PT(e,!1).get(t),r=await new OT(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>LT(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=PT(e,!1).getAll();return new OT(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}MT.type="LOCAL";const jT=MT;const UT=1e12;class FT{constructor(e){this.auth=e,this.counter=UT,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new VT(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||UT;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||UT;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||UT;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class VT{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;t_(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const BT=rE("rcb"),zT=new a_(3e4,6e4);class qT{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=kT().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t_(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&b_(kT().grecaptcha)?Promise.resolve(kT().grecaptcha):new Promise(((n,r)=>{const i=kT().setTimeout((()=>{r(Xb(e,"network-request-failed"))}),zT.get());kT()[BT]=()=>{kT().clearTimeout(i),delete kT()[BT];const o=kT().grecaptcha;if(!o||!b_(o))return void r(Xb(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};nE("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Ib({onload:BT,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Xb(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=kT().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class WT{async load(e){return new FT(e)}clearedOneInstance(){}}const HT="recaptcha",KT={theme:"light",type:"image"};class GT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},KT);this.parameters=n,this.type=HT,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=eE(e),this.isInvisible="invisible"===this.parameters.size,t_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;t_(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new WT:new qT,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){t_(!this.parameters.sitekey,this.auth,"argument-error"),t_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),t_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=kT()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){t_(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){t_(o_()&&!CT(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await f_(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);t_(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return t_(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class QT{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_E._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function YT(e,t,n){var r;const i=await n.verify();try{let o;if(t_("string"===typeof i,e,"argument-error"),t_(n.type===HT,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){t_("enroll"===t.type,e,"internal-error");const n=await function(e,t){return f_(e,"POST","/v2/accounts/mfaEnrollment:start",d_(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{t_("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;t_(n,e,"missing-multi-factor-info");const s=await function(e,t){return f_(e,"POST","/v2/accounts/mfaSignIn:start",d_(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return f_(e,"POST","/v1/accounts:sendVerificationCode",d_(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class JT{constructor(e){this.providerId=JT.PROVIDER_ID,this.auth=eE(e)}verifyPhoneNumber(e,t){return YT(this.auth,e,Nb(t))}static credential(e,t){return _E._fromVerification(e,t)}static credentialFromResult(e){const t=e;return JT.credentialFromTaggedObject(t)}static credentialFromError(e){return JT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?_E._fromTokenResponse(n,r):null}}function XT(e,t){return t?L_(t):(t_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}JT.PROVIDER_ID="phone",JT.PHONE_SIGN_IN_METHOD="phone";class $T extends uE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yE(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ZT(e){return qE(e.auth,new $T(e),e.bypassAuthState)}function eI(e){const{auth:t,user:n}=e;return t_(n,t,"internal-error"),zE(n,new $T(e),e.bypassAuthState)}async function tI(e){const{auth:t,user:n}=e;return t_(n,t,"internal-error"),VE(n,new $T(e),e.bypassAuthState)}class nI{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZT;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return eI;default:Jb(this.auth,"internal-error")}}resolve(e){r_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){r_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rI=new a_(2e3,1e4);class iI extends nI{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,iI.currentPopupAction&&iI.currentPopupAction.cancel(),iI.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return t_(e,this.auth,"internal-error"),e}async onExecution(){r_(1===this.filter.length,"Popup operations only handle one event");const e=IT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Xb(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Xb(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iI.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Xb(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,rI.get())};e()}}iI.currentPopupAction=null;const oI="pendingRedirect",sI=new Map;class aI extends nI{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=sI.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=hI(t),r=uI(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}sI.set(this.auth._key(),e)}return this.bypassAuthState||sI.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function cI(e,t){return uI(e)._set(hI(t),"true")}function lI(e,t){sI.set(e._key(),t)}function uI(e){return L_(e._redirectPersistence)}function hI(e){return U_(oI,e.config.apiKey,e.name)}function dI(e,t,n){return async function(e,t,n){const r=eE(e);Zb(e,t,IE),await r._initializationPromise;const i=XT(r,n);return await cI(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function fI(e,t,n){return async function(e,t,n){const r=Nb(e);Zb(r.auth,t,IE),await r.auth._initializationPromise;const i=XT(r.auth,n);await cI(i,r.auth);const o=await gI(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function pI(e,t,n){return async function(e,t,n){const r=Nb(e);Zb(r.auth,t,IE),await r.auth._initializationPromise;const i=XT(r.auth,n);await BE(!1,r,t.providerId),await cI(i,r.auth);const o=await gI(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function mI(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=eE(e),i=XT(r,t),o=new aI(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function gI(e){const t=IT("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class vI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wI(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!wI(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xb(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yI(e))}saveEventToCache(e){this.cachedEventUids.add(yI(e)),this.lastProcessedEventTime=Date.now()}}function yI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function wI(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function bI(e){return f_(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const _I=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EI=/^https?/;function TI(e){const t=i_(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!EI.test(n))return!1;if(_I.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const II=new a_(3e4,6e4);function SI(){const e=kT().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let kI=null;function CI(e){return kI=kI||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){SI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{SI(),n(Xb(e,"network-request-failed"))},timeout:II.get()})}if(null===(i=null===(r=kT().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=kT().gapi)||void 0===o?void 0:o.load)){const t=rE("iframefcb");return kT()[t]=()=>{gapi.load?s():n(Xb(e,"network-request-failed"))},nE("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw kI=null,e}))}(e),kI}const xI=new a_(5e3,15e3),NI="__/auth/iframe",AI="emulator/auth/iframe",OI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RI(e){const t=e.config;t_(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?c_(t,AI):"https://".concat(e.config.authDomain,"/").concat(NI),r={apiKey:t.apiKey,appName:e.name,v:Bt},i=PI.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Ib(r).slice(1))}const DI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class LI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function MI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},DI),{width:r.toString(),height:i.toString(),top:o,left:s}),l=mb().toLowerCase();n&&(a=q_(l)?"_blank":n),B_(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Q_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new LI(null);const h=window.open(t||"",a,u);t_(h,e,"popup-blocked");try{h.focus()}catch(d){}return new LI(h)}const jI="__/auth/handler",UI="emulator/auth/handler",FI=encodeURIComponent("fac");async function VI(e,t,n,r,i,o){t_(e.config.authDomain,e,"auth-domain-config-required"),t_(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Bt,eventId:i};if(t instanceof IE){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof SE){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(FI,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(jI);return c_(t,UI)}(e),"?").concat(Ib(a).slice(1)).concat(l)}const BI="webStorageSupport";const zI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=mI,this._overrideRedirectResult=lI}async _openPopup(e,t,n,r){var i;r_(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return MI(e,await VI(e,t,n,i_(),r),IT())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){kT().location.href=e}(await VI(e,t,n,i_(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(r_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await CI(e),n=kT().gapi;return t_(n,e,"internal-error"),t.open({where:document.body,url:RI(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OI,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Xb(e,"network-request-failed"),o=kT().setTimeout((()=>{r(i)}),xI.get());function s(){kT().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new vI(e);return t.register("authEvent",(t=>{t_(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(BI,{type:BI},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[BI];void 0!==i&&t(!!i),Jb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await bI(e);for(const r of t)try{if(TI(r))return}catch(n){}Jb(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Y_()||z_()||Q_()}};class qI{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return n_("unexpected MultiFactorSessionType")}}}class WI extends qI{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new WI(e)}_finalizeEnroll(e,t,n){return function(e,t){return f_(e,"POST","/v2/accounts/mfaEnrollment:finalize",d_(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return f_(e,"POST","/v2/accounts/mfaSignIn:finalize",d_(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class HI{constructor(){}static assertion(e){return WI._fromCredential(e)}}HI.FACTOR_ID="phone";var KI="@firebase/auth",GI="1.5.1";class QI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){t_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=pb())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var YI;function JI(){return window}YI="Browser",Lt(new Fe("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;t_(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:YI,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J_(YI)},l=new Z_(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(L_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Lt(new Fe("auth-internal",(e=>(e=>new QI(e))(eE(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(KI,GI,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(YI)),Kt(KI,GI,"esm2017");async function XI(e,t,n){var r;const{BuildInfo:i}=JI();r_(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(r_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return Q_()?s.ibi=i.packageName:H_()?s.apn=i.packageName:Jb(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,VI(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function $I(e){const{cordova:t}=JI();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const ZI=20;class eS extends vI{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function tS(e){const t=await iS()._get(oS(e));return t&&await iS()._remove(oS(e)),t}function nS(e,t){var n,r;const i=function(e){const t=sS(e),n=t.link?decodeURIComponent(t.link):void 0,r=sS(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return sS(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=sS(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Xb(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function rS(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<ZI;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function iS(){return L_(bT)}function oS(e){return U_("authEvent",e.config.apiKey,e.name)}function sS(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Sb(n.join("?"))}const aS=class{constructor(){this._redirectPersistence=ET,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mI,this._overrideRedirectResult=lI}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new eS(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Jb(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,c,l,u;const h=JI();t_("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),t_("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),t_("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),t_("function"===typeof(null===(c=null===(a=null===(s=null===h||void 0===h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),t_("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),sI.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:rS(),postBody:null,tenantId:e.tenantId,error:Xb(e,"no-auth-event")}}(e,n,r);await function(e,t){return iS()._set(oS(e),t)}(e,o);const s=await XI(e,o,t);return async function(e,t,n){const{cordova:r}=JI();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{s(Xb(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),H_()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await $I(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=JI(),n={};Q_()?n.iosBundleId=t.packageName:H_()?n.androidPackageName=t.packageName:Jb(e,"operation-not-supported-in-this-environment"),await bI(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=JI(),o=setTimeout((async()=>{await tS(e),t.onEvent(cS())}),500),s=async n=>{clearTimeout(o);const r=await tS(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=nS(r,n.url)),t.onEvent(i||cS())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,c="".concat(i.packageName.toLowerCase(),"://");JI().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function cS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xb("no-auth-event")}}function lS(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function uS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return!("file:"!==lS()&&"ionic:"!==lS()&&"capacitor:"!==lS()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function hS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return wb()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb();return/Edge\/\d+/.test(e)}(e)}function dS(){try{const e=self.localStorage,t=IT();if(e)return e.setItem(t,"1"),e.removeItem(t),!hS()||bb()}catch(e){return fS()&&bb()}return!1}function fS(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function pS(){return("http:"===lS()||"https:"===lS()||vb()||uS())&&!(yb()||gb())&&dS()&&!fS()}function mS(){return uS()&&"undefined"!==typeof document}const gS={LOCAL:"local",NONE:"none",SESSION:"session"},vS=t_,yS="persistence";async function wS(e){await e._initializationPromise;const t=bS(),n=U_(yS,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function bS(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const _S=t_;class ES{constructor(){this.browserResolver=L_(zI),this.cordovaResolver=L_(aS),this.underlyingResolver=null,this._redirectPersistence=ET,this._completeRedirectFn=mI,this._overrideRedirectResult=lI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return mS()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _S(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!mS()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function TS(e){return e.unwrap()}function IS(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new xS(e,function(e,t){var n;const r=Nb(e),i=t;return t_(t.customData.operationType,r,"argument-error"),t_(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),pT._fromError(r,i)}(e,t))}else if(r){const e=SS(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function SS(e){const{_tokenResponse:t}=e instanceof _b?e.customData:e;if(!t)return null;if(!(e instanceof _b)&&"temporaryProof"in t&&"phoneNumber"in t)return JT.credentialFromResult(e);const n=t.providerId;if(!n||n===jb.PASSWORD)return null;let r;switch(n){case jb.GOOGLE:r=xE;break;case jb.FACEBOOK:r=CE;break;case jb.GITHUB:r=NE;break;case jb.TWITTER:r=PE;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?AE._create(n,s):wE._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new kE(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof _b?r.credentialFromError(e):r.credentialFromResult(e)}function kS(e,t){return t.catch((t=>{throw t instanceof _b&&IS(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,SS(r)),additionalUserInfo:dT(e),user:NS.getOrCreate(n)};var r}))}async function CS(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>kS(e,n.confirm(t))}}class xS{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return kS(TS(this.auth),this.resolver.resolveSignIn(e))}}class NS{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Nb(e);return gT.has(t)||gT.set(t,mT._fromUser(t)),gT.get(t)}(e)}static getOrCreate(e){return NS.USER_MAP.has(e)||NS.USER_MAP.set(e,new NS(e)),NS.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return kS(this.auth,HE(this._delegate,e))}async linkWithPhoneNumber(e,t){return CS(this.auth,async function(e,t,n){const r=Nb(e);await BE(!1,r,"phone");const i=await YT(r.auth,t,Nb(n));return new QT(i,(e=>HE(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return kS(this.auth,async function(e,t,n){const r=Nb(e);Zb(r.auth,t,IE);const i=XT(r.auth,n);return new iI(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ES))}async linkWithRedirect(e){return await wS(eE(this.auth)),pI(this._delegate,e,ES)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return kS(this.auth,KE(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return CS(this.auth,async function(e,t,n){const r=Nb(e),i=await YT(r.auth,t,Nb(n));return new QT(i,(e=>KE(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return kS(this.auth,async function(e,t,n){const r=Nb(e);Zb(r.auth,t,IE);const i=XT(r.auth,n);return new iI(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ES))}async reauthenticateWithRedirect(e){return await wS(eE(this.auth)),fI(this._delegate,e,ES)}sendEmailVerification(e){return nT(this._delegate,e)}async unlink(e){return await FE(this._delegate,e),this}updateEmail(e){return function(e,t){return oT(Nb(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return oT(Nb(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await VE(Nb(e),t)}(this._delegate,e)}updateProfile(e){return iT(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return rT(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}NS.USER_MAP=new WeakMap;const AS=t_;class OS{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;AS(n,"invalid-api-key",{appName:e.name}),AS(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?ES:void 0;this._delegate=t.initialize({options:{persistence:RS(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Hb),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?NS.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){aE(this._delegate,e,t)}applyActionCode(e){return ZE(this._delegate,e)}checkActionCode(e){return eT(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await hE(Nb(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$E(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return kS(this._delegate,async function(e,t,n){const r=eE(e),i=sE(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RE),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$E(e),t})),s=await DE._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return tT(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=EE.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){AS(pS(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await eE(e)._initializationPromise,mI(e,t,!1)}(this._delegate,ES);return e?kS(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){eE(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=PS(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=PS(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=eE(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){t_(t.handleCodeInApp,r,"argument-error"),t&&XE(r,e,t)}(i,n),await sE(r,i,"getOobCode",gE)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=eE(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&XE(r,i,n),await sE(r,i,"getOobCode",mE)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){vS(Object.values(gS).includes(t),e,"invalid-persistence-type"),yb()?vS(t!==gS.SESSION,e,"unsupported-persistence-type"):gb()?vS(t===gS.NONE,e,"unsupported-persistence-type"):fS()?vS(t===gS.NONE||t===gS.LOCAL&&bb(),e,"unsupported-persistence-type"):vS(t===gS.NONE||dS(),e,"unsupported-persistence-type")}(this._delegate,e),e){case gS.SESSION:t=ET;break;case gS.LOCAL:t=await L_(jT)._isAvailable()?jT:bT;break;case gS.NONE:t=j_;break;default:return Jb("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return kS(this._delegate,async function(e){var t;const n=eE(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new DE({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await RE(n,{returnSecureToken:!0}),i=await DE._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return kS(this._delegate,WE(this._delegate,e))}signInWithCustomToken(e){return kS(this._delegate,GE(this._delegate,e))}signInWithEmailAndPassword(e,t){return kS(this._delegate,function(e,t,n){return WE(Nb(e),TE.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&$E(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return kS(this._delegate,async function(e,t,n){const r=Nb(e),i=TE.credentialWithLink(t,n||i_());return t_(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),WE(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return CS(this._delegate,async function(e,t,n){const r=eE(e),i=await YT(r,t,Nb(n));return new QT(i,(e=>WE(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return AS(pS(),this._delegate,"operation-not-supported-in-this-environment"),kS(this._delegate,async function(e,t,n){const r=eE(e);Zb(e,t,IE);const i=XT(r,n);return new iI(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,ES))}async signInWithRedirect(e){return AS(pS(),this._delegate,"operation-not-supported-in-this-environment"),await wS(this._delegate),dI(this._delegate,e,ES)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await eT(Nb(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function PS(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&NS.getOrCreate(e)),error:t,complete:n}}function RS(e,t){const n=function(e,t){const n=bS();if(!n)return[];const r=U_(yS,e,t);switch(n.getItem(r)){case gS.NONE:return[j_];case gS.LOCAL:return[jT,ET];case gS.SESSION:return[ET];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(jT)||n.push(jT),"undefined"!==typeof window)for(const r of[bT,ET])n.includes(r)||n.push(r);return n.includes(j_)||n.push(j_),n}OS.Persistence=gS;class DS{constructor(){this.providerId="phone",this._delegate=new JT(TS(yn.auth()))}static credential(e,t){return JT.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}DS.PHONE_SIGN_IN_METHOD=JT.PHONE_SIGN_IN_METHOD,DS.PROVIDER_ID=JT.PROVIDER_ID;const LS=t_;class MS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yn.app();var r;LS(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new GT(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new Fe("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new OS(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ub,PASSWORD_RESET:Fb,RECOVER_EMAIL:Vb,REVERT_SECOND_FACTOR_ADDITION:Bb,VERIFY_AND_CHANGE_EMAIL:zb,VERIFY_EMAIL:qb}},EmailAuthProvider:TE,FacebookAuthProvider:CE,GithubAuthProvider:NE,GoogleAuthProvider:xE,OAuthProvider:kE,SAMLAuthProvider:OE,PhoneAuthProvider:DS,PhoneMultiFactorGenerator:HI,RecaptchaVerifier:MS,TwitterAuthProvider:PE,Auth:OS,AuthCredential:uE,Error:_b}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.1")}(yn);const jS={apiKey:"AIzaSyAUlqVFqNfKTY34UCA0_jt9kHlTqMgDzi0",authDomain:"ar-classroom-1bb48.firebaseapp.com",projectId:"ar-classroom-1bb48",storageBucket:"ar-classroom-1bb48.appspot.com",messagingSenderId:"801778279327",appId:"1:801778279327:web:e63f67b115057a5e2c53aa",measurementId:"G-DEC44C4SPG"};const US=class{constructor(e){void 0!==yn.apps&&(yn.apps.length||yn.initializeApp(jS)),this.firestore=yn.firestore(),this.auth=yn.auth()}};const FS=class extends US{get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.firestore.collection("games").doc(t.gameId).collection("players").doc(e).get().then(this._convertDocToPlayer)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.firestore;if("gameId"in e){const n=e.gameId;delete e.gameId,t=t.collection("games").doc(n).collection("players")}return t.add(e).then((e=>e.get())).then(this._convertDocToPlayer)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=this.firestore;return"gameId"in e&&(n=n.collection("games").doc(e.gameId)),n=n.collection("players"),"limit"in e&&(n=n.limit(e.limit)),void 0!==t?n.onSnapshot((e=>{let n=[];e.forEach((e=>n.push(this._convertDocToPlayer(e)))),t(n)})):n.get().then((e=>e.docs.map((e=>this._convertDocToQuestion(e)))))}_convertDocToPlayer(e){return Object.assign({id:e.id},e.data())}},VS=e=>(new FS).create(e);var BS=["className","cssModule","fluid","tag"],zS={tag:Ln,fluid:xn().oneOfType([xn().bool,xn().string]),className:xn().string,cssModule:xn().object},qS=function(e){var t=e.className,n=e.cssModule,i=e.fluid,o=e.tag,s=En(e,BS),a="container";!0===i?a="container-fluid":i&&(a="container-"+i);var c=On(An()(t,a),n);return r.createElement(o,_n({},s,{className:c}))};qS.propTypes=zS,qS.defaultProps={tag:"div"};const WS=qS,HS="styles_centered__j0I7d";var KS=n(184);const GS=e=>(0,KS.jsx)(WS,{className:HS,style:{maxWidth:e.maxWidth||null,height:e.verticalCentered?"100%":null},children:e.children});class QS{static get STATE_DRAFT(){return"draft"}static get STATE_WAITING_FOR_PLAYERS(){return"waitingForPlayers"}}const YS=class extends US{create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.firestore.collection("games").add(Object.assign({state:QS.STATE_DRAFT},e)).then((e=>e.get())).then(this._convertDocToGame)}get(e,t){const n=this._getGameDoc(e);return void 0!==t?n.onSnapshot((e=>t(this._convertDocToGame(e)))):n.get().then(this._convertDocToGame)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.firestore.collection("games");return"ownerId"in e&&(t=t.where("ownerId","==",e.ownerId)),"state"in e&&(t=t.where("state","==",e.state)),"shortCode"in e&&(t=t.where("shortCode","==",e.shortCode)),"limit"in e&&(t=t.limit(e.limit)),t.get().then((e=>e.docs.map((e=>this._convertDocToGame(e)))))}update(e,t){const n=this._getGameDoc(e);return"currentQuestionId"in t&&(t.currentQuestion=n.collection("questions").doc(t.currentQuestionId),delete t.currentQuestionId),n.update(t)}_getGameDoc(e){return this.firestore.collection("games").doc(e)}_convertDocToGame(e){let t=Object.assign({id:e.id},e.data());return"currentQuestion"in t&&(t.currentQuestionId=t.currentQuestion.id,t.currentQuestion=t.currentQuestion.path),t}},JS=(e,t)=>(new YS).get(e,t),XS=e=>{let{playerName:t,setPlayerName:n,joinGame:r}=e;return(0,KS.jsxs)(Bn,{onSubmit:e=>{e.preventDefault(),r()},children:[(0,KS.jsxs)(Hn,{children:[(0,KS.jsx)(Zn,{children:"\u8f38\u5165\u4f60\u7684\u66b1\u7a31:"}),(0,KS.jsx)(rr,{value:t,onChange:e=>{const t=e.target.value.replace(/[^a-zA-Z0-9!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]+/g,"");n(t)},pattern:"[a-zA-Z0-9!@#$%^&*()_+{}\\[\\]:;<>,.?~\\\\/-]+",title:"English, symble, numbers only",placeholder:"\u53ea\u9650\u8f38\u5165\u82f1\u6587\u3001\u7b26\u865f\u3001\u6578\u5b57"})]}),(0,KS.jsx)(ar,{color:"primary",type:"submit",children:"\u52a0\u5165\u623f\u9593"})]})},$S=()=>{let{gameId:e}=$();const[t,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[s,a]=(0,r.useState)(null);let c="";(0,r.useEffect)((()=>{if(i){bn.firestore().collection("SID").doc(i).set({name:t,id:i}).then((()=>{console.log("Player data stored in Firestore!")})).catch((e=>{console.error("Error storing player data: ",e)}))}}),[i,t]),(0,r.useEffect)((()=>{e&&null===s&&JS(e).then(a)}),[e,s]),c="?playUrl=/play/"+e+"/as/"+i;return(0,KS.jsxs)(GS,{maxWidth:500,verticalCentered:!0,children:[(0,KS.jsx)("h1",{children:s?s.name:null}),i?void window.location.replace("/Avatar-classroom/#/draw".concat(c)):(0,KS.jsx)(XS,{playerName:t,setPlayerName:n,joinGame:()=>VS({name:t,gameId:e}).then((e=>o(e.id)))})]})};var ZS=["className","cssModule","noGutters","tag","form","widths"],ek=xn().oneOfType([xn().number,xn().string]),tk={tag:Ln,noGutters:xn().bool,className:xn().string,cssModule:xn().object,form:xn().bool,xs:ek,sm:ek,md:ek,lg:ek,xl:ek},nk={tag:"div",widths:["xs","sm","md","lg","xl"]},rk=function(e){var t=e.className,n=e.cssModule,i=e.noGutters,o=e.tag,s=e.form,a=e.widths,c=En(e,ZS),l=[];a.forEach((function(t,n){var r=e[t];if(delete c[t],r){var i=!n;l.push(i?"row-cols-"+r:"row-cols-"+t+"-"+r)}}));var u=On(An()(t,i?"no-gutters":null,s?"form-row":"row",l),n);return r.createElement(o,_n({},c,{className:u}))};rk.propTypes=tk,rk.defaultProps=nk;const ik=rk;var ok=["className","cssModule","widths","tag"],sk=xn().oneOfType([xn().number,xn().string]),ak=xn().oneOfType([xn().bool,xn().number,xn().string,xn().shape({size:xn().oneOfType([xn().bool,xn().number,xn().string]),order:sk,offset:sk})]),ck={tag:Ln,xs:ak,sm:ak,md:ak,lg:ak,xl:ak,className:xn().string,cssModule:xn().object,widths:xn().array},lk={tag:"div",widths:["xs","sm","md","lg","xl"]},uk=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},hk=function(e){var t=e.className,n=e.cssModule,i=e.widths,o=e.tag,s=En(e,ok),a=[];i.forEach((function(t,r){var i=e[t];if(delete s[t],i||""===i){var o=!r;if(jn(i)){var c,l=o?"-":"-"+t+"-",u=uk(o,t,i.size);a.push(On(An()(((c={})[u]=i.size||""===i.size,c["order"+l+i.order]=i.order||0===i.order,c["offset"+l+i.offset]=i.offset||0===i.offset,c)),n))}else{var h=uk(o,t,i);a.push(h)}}})),a.length||a.push("col");var c=On(An()(t,a),n);return r.createElement(o,_n({},s,{className:c}))};hk.propTypes=ck,hk.defaultProps=lk;const dk=hk;var fk=["className","cssModule","type","size","color","children","tag"],pk={tag:Ln,type:xn().string,size:xn().string,color:xn().string,className:xn().string,cssModule:xn().object,children:xn().string},mk=function(e){var t=e.className,n=e.cssModule,i=e.type,o=e.size,s=e.color,a=e.children,c=e.tag,l=En(e,fk),u=On(An()(t,!!o&&"spinner-"+i+"-"+o,"spinner-"+i,!!s&&"text-"+s),n);return r.createElement(c,_n({role:"status"},l,{className:u}),a&&r.createElement("span",{className:On("sr-only",n)},a))};mk.propTypes=pk,mk.defaultProps={tag:"div",type:"border",children:"Loading..."};const gk=mk;function vk(e){return vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vk(e)}function yk(e){var t=function(e,t){if("object"!==vk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vk(t)?t:String(t)}function wk(e,t,n){return(t=yk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bk=n(8267),_k=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ek(Object(n),!0).forEach((function(t){wk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ik=Tk(Tk({},bk.Transition.propTypes),{},{children:xn().oneOfType([xn().arrayOf(xn().node),xn().node]),tag:Ln,baseClass:xn().string,baseClassActive:xn().string,className:xn().string,cssModule:xn().object,innerRef:xn().oneOfType([xn().object,xn().string,xn().func])}),Sk=Tk(Tk({},bk.Transition.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:150,appear:!0,enter:!0,exit:!0,in:!0});function kk(e){var t=e.tag,n=e.baseClass,i=e.baseClassActive,o=e.className,s=e.cssModule,a=e.children,c=e.innerRef,l=En(e,_k),u=function(e,t){for(var n,r=Array.isArray(t)?t:[t],i=r.length,o={};i>0;)o[n=r[i-=1]]=e[n];return o}(l,Mn),h=function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(l,Mn);return r.createElement(bk.Transition,u,(function(e){var l="entered"===e,u=On(An()(o,n,l&&i),s);return r.createElement(t,_n({className:u},h,{ref:c}),a)}))}kk.propTypes=Ik,kk.defaultProps=Sk;const Ck=kk;var xk=["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"];function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ak(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nk(Object(n),!0).forEach((function(t){wk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ok={children:xn().node,className:xn().string,closeClassName:xn().string,closeAriaLabel:xn().string,cssModule:xn().object,color:xn().string,fade:xn().bool,isOpen:xn().bool,toggle:xn().func,tag:Ln,transition:xn().shape(Ck.propTypes),innerRef:xn().oneOfType([xn().object,xn().string,xn().func])},Pk={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Ak(Ak({},Ck.defaultProps),{},{unmountOnExit:!0})};function Rk(e){var t=e.className,n=e.closeClassName,i=e.closeAriaLabel,o=e.cssModule,s=e.tag,a=e.color,c=e.isOpen,l=e.toggle,u=e.children,h=e.transition,d=e.fade,f=e.innerRef,p=En(e,xk),m=On(An()(t,"alert","alert-"+a,{"alert-dismissible":l}),o),g=On(An()("close",n),o),v=Ak(Ak(Ak({},Ck.defaultProps),h),{},{baseClass:d?h.baseClass:"",timeout:d?h.timeout:0});return r.createElement(Ck,_n({},p,v,{tag:s,className:m,in:c,role:"alert",innerRef:f}),l?r.createElement("button",{type:"button",className:g,"aria-label":i,onClick:l},r.createElement("span",{"aria-hidden":"true"},"\xd7")):null,u)}Rk.propTypes=Ok,Rk.defaultProps=Pk;const Dk=Rk,Lk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(new FS).get(e,t)};const Mk=class extends US{create(e){const t=this._popAttr(e,"gameId"),n=this._popAttr(e,"playerId"),r=this._popAttr(e,"questionId");return this.firestore.collection("games").doc(t).collection("answers").add(Object.assign({player:this.firestore.doc(["/games",t,"players",n].join("/")),question:this.firestore.doc(["/games",t,"questions",r].join("/"))},e)).then((e=>e.get())).then(this._convertDocToAnswer)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.firestore;return"gameId"in e&&(t=t.collection("games").doc(e.gameId)),t=t.collection("answers"),"questionId"in e&&(t=t.where("question","==",this.firestore.doc("games/".concat(e.gameId,"/questions/").concat(e.questionId)))),"limit"in e&&(t=t.limit(e.limit)),t.get().then((e=>e.docs.map((e=>this._convertDocToAnswer(e)))))}_convertDocToAnswer(e){return Object.assign({id:e.id},e.data())}_popAttr(e,t){const n=e[t];return delete e[t],n}};function jk(e,t){const n=e[t];return delete e[t],n}const Uk=class extends US{get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.firestore,r={};return"gameId"in t&&(n=n.collection("games").doc(t.gameId).collection("questions"),r.gameId=t.gameId),n.doc(e).get().then((e=>this._convertDocToQuestion(e,r)))}create(e){let t=Object.assign({},e);const n=jk(t,"gameId");return this.firestore.collection("games").doc(n).collection("questions").add(t).then((e=>e.get())).then((e=>this._convertDocToQuestion(e,{gameId:n})))}update(e,t){let n=Object.assign({},t);const r=jk(n,"gameId");return this.firestore.collection("games").doc(r).collection("questions").doc(e).update(n)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.firestore,n={};return"gameId"in e&&(t=t.collection("games").doc(e.gameId).collection("questions"),n.gameId=e.gameId),"from"in e&&(t=t.where("order",">",e.from)),t=t.orderBy("order"),"limit"in e&&(t=t.limit(e.limit)),t.get().then((e=>e.docs.map((e=>this._convertDocToQuestion(e,n)))))}_convertDocToQuestion(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({id:e.id},e.data(),t)}},Fk=e=>{const t=new Uk,n=(new Date).getTime();return(new YS).get(e.gameId).then((e=>t.get(e.currentQuestionId,{gameId:e.id}))).then((t=>(e.isCorrect=t.correctAnswer===e.choice,e.questionId=t.id,e.timestamp=n,console.log(e),(new Mk).create(e))))},Vk=e=>{let{recordAnswer:t,isAnswerDisabled:n}=e;return(0,KS.jsx)(ik,{children:["A","B","C","D"].map((e=>(0,KS.jsx)(dk,{sm:12,md:6,className:"mb-4",children:(0,KS.jsx)(ar,{color:"info",outline:!0,className:"w-100 h-100",onClick:()=>t(e),disabled:n,children:(0,KS.jsx)("strong",{children:e})})},e)))})},Bk=()=>{let{gameId:e,playerId:t}=$();const[n,i]=(0,r.useState)(),[o,s]=(0,r.useState)(""),[a,c]=(0,r.useState)(null),[l,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(!1),f=e=>{e&&(c(null),i(e))};(0,r.useEffect)((()=>{e&&t&&(JS(e,f),Lk(t,{gameId:e}).then((e=>s(e.name))))}),[e,t]);const p=n=>{h||(d(!0),Fk({playerId:t,playerName:o,gameId:e,choice:n}).then((e=>{c(e),setTimeout((()=>{c(null),d(!1)}),3e3)})).catch((e=>{u(e),setTimeout((()=>{u(""),d(!1)}),5e3)})))};switch(n?n.state:null){case"pendingQuestion":return(0,KS.jsx)(GS,{maxWidth:500,verticalCentered:!0,children:(0,KS.jsxs)("div",{children:[(0,KS.jsx)("a",{children:"\u6e96\u5099\u56de\u7b54\u4e0b\u4e00\u984c"}),(0,KS.jsx)(gk,{color:"info",type:"grow",size:"sm",children:"Loading..."}),(0,KS.jsx)("a",{children:"\u8acb\u770b\u6295\u5f71\u5594!"})]})});case"showingQuestion":return(0,KS.jsxs)(GS,{maxWidth:500,verticalCentered:!0,children:[(0,KS.jsx)(ik,{className:"mb-4",children:(0,KS.jsxs)(dk,{sm:12,children:[(0,KS.jsxs)("h2",{children:["Hi ",o,"!"]}),(0,KS.jsx)("h3",{children:"\u8acb\u770b\u6295\u5f71\u9078\u64c7\u7b54\u6848:"})]})}),(0,KS.jsx)(Vk,{recordAnswer:p,isAnswerDisabled:h}),l?(0,KS.jsx)(Dk,{color:"danger",children:l}):null,a&&h?(0,KS.jsx)(ik,{className:"mb-4",children:(0,KS.jsx)(dk,{sm:12,children:(0,KS.jsxs)("h2",{children:["\u4f60\u9078\u4e86 ",a.choice,"!"]})})}):(0,KS.jsx)(KS.Fragment,{})]});case"showingQuestionResults":return(0,KS.jsx)(GS,{maxWidth:500,verticalCentered:!0,children:(0,KS.jsxs)("div",{children:[(0,KS.jsx)("a",{children:"\u986f\u793a\u56de\u7b54\u7d50\u679c"}),(0,KS.jsx)(gk,{color:"info",type:"grow",size:"sm",children:"Loading..."}),(0,KS.jsx)("a",{children:"\u8acb\u770b\u6295\u5f71\u5594!"})]})});default:return(0,KS.jsx)(GS,{maxWidth:500,verticalCentered:!0,children:(0,KS.jsxs)("div",{children:[(0,KS.jsx)("a",{children:"\u7b49\u5f85\u8ab2\u7a0b\u958b\u59cb"}),(0,KS.jsx)(gk,{color:"info",type:"grow",size:"sm",children:"Loading..."}),(0,KS.jsx)("a",{children:"\u958b\u59cb\u5f8c\u8acb\u770b\u6295\u5f71\u5594!"})]})})}};var zk=["className","cssModule","tag","flush","horizontal"],qk={tag:Ln,flush:xn().bool,className:xn().string,cssModule:xn().object,horizontal:xn().oneOfType([xn().bool,xn().string])},Wk=function(e){var t=e.className,n=e.cssModule,i=e.tag,o=e.flush,s=e.horizontal,a=En(e,zk),c=On(An()(t,"list-group",o?"list-group-flush":function(e){return!1!==e&&(!0===e||"xs"===e?"list-group-horizontal":"list-group-horizontal-"+e)}(s)),n);return r.createElement(i,_n({},a,{className:c}))};Wk.propTypes=qk,Wk.defaultProps={tag:"ul",horizontal:!1};const Hk=Wk;var Kk=["className","cssModule","tag","active","disabled","action","color"],Gk={tag:Ln,active:xn().bool,disabled:xn().bool,color:xn().string,action:xn().bool,className:xn().any,cssModule:xn().object},Qk=function(e){e.preventDefault()},Yk=function(e){var t=e.className,n=e.cssModule,i=e.tag,o=e.active,s=e.disabled,a=e.action,c=e.color,l=En(e,Kk),u=On(An()(t,!!o&&"active",!!s&&"disabled",!!a&&"list-group-item-action",!!c&&"list-group-item-"+c,"list-group-item"),n);return s&&(l.onClick=Qk),r.createElement(i,_n({},l,{className:u}))};Yk.propTypes=Gk,Yk.defaultProps={tag:"li"};const Jk=Yk;var Xk=n(741);const $k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new FS;return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:new YS).update(e,{state:"waitingForPlayers"}),n.list({gameId:e},t)},Zk="styles_hero_heading__sIiJN";function eC(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=eC(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const tC=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=eC(e))&&(r&&(r+=" "),r+=t);return r};var nC={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function rC(e){var t=typeof e;return"string"===t||"number"===t?nC[e]||e:""}var iC=function(e,t){return e&&t},oC=function(e,t){return e&&!0!==e&&e+" "+t},sC=function(e,t){return e&&(!0===e?t:e+" "+t)},aC=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},cC=function(e){return"justified"===e?"justified":oC(e,"aligned")},lC=function(e){return oC(e,"aligned")},uC=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?rC(e):rC(e)+" "+t};const hC=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};const dC=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var o=n();if(o)return o}return t.href?"a":i.as||"div"};const fC="object"==typeof global&&global&&global.Object===Object&&global;var pC="object"==typeof self&&self&&self.Object===Object&&self;const mC=fC||pC||Function("return this")();const gC=mC.Symbol;var vC=Object.prototype,yC=vC.hasOwnProperty,wC=vC.toString,bC=gC?gC.toStringTag:void 0;const _C=function(e){var t=yC.call(e,bC),n=e[bC];try{e[bC]=void 0;var r=!0}catch(o){}var i=wC.call(e);return r&&(t?e[bC]=n:delete e[bC]),i};var EC=Object.prototype.toString;const TC=function(e){return EC.call(e)};var IC=gC?gC.toStringTag:void 0;const SC=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":IC&&IC in Object(e)?_C(e):TC(e)};const kC=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const CC=function(e){if(!kC(e))return!1;var t=SC(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const xC=mC["__core-js_shared__"];var NC=function(){var e=/[^.]+$/.exec(xC&&xC.keys&&xC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const AC=function(e){return!!NC&&NC in e};var OC=Function.prototype.toString;const PC=function(e){if(null!=e){try{return OC.call(e)}catch(t){}try{return e+""}catch(t){}}return""};var RC=/^\[object .+?Constructor\]$/,DC=Function.prototype,LC=Object.prototype,MC=DC.toString,jC=LC.hasOwnProperty,UC=RegExp("^"+MC.call(jC).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const FC=function(e){return!(!kC(e)||AC(e))&&(CC(e)?UC:RC).test(PC(e))};const VC=function(e,t){return null==e?void 0:e[t]};const BC=function(e,t){var n=VC(e,t);return FC(n)?n:void 0};const zC=BC(Object,"create");const qC=function(){this.__data__=zC?zC(null):{},this.size=0};const WC=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var HC=Object.prototype.hasOwnProperty;const KC=function(e){var t=this.__data__;if(zC){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return HC.call(t,e)?t[e]:void 0};var GC=Object.prototype.hasOwnProperty;const QC=function(e){var t=this.__data__;return zC?void 0!==t[e]:GC.call(t,e)};const YC=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zC&&void 0===t?"__lodash_hash_undefined__":t,this};function JC(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}JC.prototype.clear=qC,JC.prototype.delete=WC,JC.prototype.get=KC,JC.prototype.has=QC,JC.prototype.set=YC;const XC=JC;const $C=function(){this.__data__=[],this.size=0};const ZC=function(e,t){return e===t||e!==e&&t!==t};const ex=function(e,t){for(var n=e.length;n--;)if(ZC(e[n][0],t))return n;return-1};var tx=Array.prototype.splice;const nx=function(e){var t=this.__data__,n=ex(t,e);return!(n<0)&&(n==t.length-1?t.pop():tx.call(t,n,1),--this.size,!0)};const rx=function(e){var t=this.__data__,n=ex(t,e);return n<0?void 0:t[n][1]};const ix=function(e){return ex(this.__data__,e)>-1};const ox=function(e,t){var n=this.__data__,r=ex(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function sx(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sx.prototype.clear=$C,sx.prototype.delete=nx,sx.prototype.get=rx,sx.prototype.has=ix,sx.prototype.set=ox;const ax=sx;const cx=BC(mC,"Map");const lx=function(){this.size=0,this.__data__={hash:new XC,map:new(cx||ax),string:new XC}};const ux=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const hx=function(e,t){var n=e.__data__;return ux(t)?n["string"==typeof t?"string":"hash"]:n.map};const dx=function(e){var t=hx(this,e).delete(e);return this.size-=t?1:0,t};const fx=function(e){return hx(this,e).get(e)};const px=function(e){return hx(this,e).has(e)};const mx=function(e,t){var n=hx(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function gx(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}gx.prototype.clear=lx,gx.prototype.delete=dx,gx.prototype.get=fx,gx.prototype.has=px,gx.prototype.set=mx;const vx=gx;const yx=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const wx=function(e){return this.__data__.has(e)};function bx(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new vx;++t<n;)this.add(e[t])}bx.prototype.add=bx.prototype.push=yx,bx.prototype.has=wx;const _x=bx;const Ex=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};const Tx=function(e){return e!==e};const Ix=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};const Sx=function(e,t,n){return t===t?Ix(e,t,n):Ex(e,Tx,n)};const kx=function(e,t){return!!(null==e?0:e.length)&&Sx(e,t,0)>-1};const Cx=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};const xx=function(e,t){return e.has(t)};const Nx=BC(mC,"Set");const Ax=function(){};const Ox=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var Px=Nx&&1/Ox(new Nx([,-0]))[1]==1/0?function(e){return new Nx(e)}:Ax;const Rx=Px;const Dx=function(e,t,n){var r=-1,i=kx,o=e.length,s=!0,a=[],c=a;if(n)s=!1,i=Cx;else if(o>=200){var l=t?null:Rx(e);if(l)return Ox(l);s=!1,i=xx,c=new _x}else c=t?[]:a;e:for(;++r<o;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h===h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),a.push(u)}else i(c,h,n)||(c!==a&&c.push(h),a.push(u))}return a};const Lx=function(e){return e&&e.length?Dx(e):[]};const Mx=Array.isArray;const jx=function(e,t){return function(n){return e(t(n))}};const Ux=jx(Object.getPrototypeOf,Object);const Fx=function(e){return null!=e&&"object"==typeof e};var Vx=Function.prototype,Bx=Object.prototype,zx=Vx.toString,qx=Bx.hasOwnProperty,Wx=zx.call(Object);const Hx=function(e){if(!Fx(e)||"[object Object]"!=SC(e))return!1;var t=Ux(e);if(null===t)return!0;var n=qx.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&zx.call(n)==Wx};const Kx=function(e){return"number"==typeof e||Fx(e)&&"[object Number]"==SC(e)};const Gx=function(e){return"string"==typeof e||!Mx(e)&&Fx(e)&&"[object String]"==SC(e)};const Qx=function(e){return!0===e||!1===e||Fx(e)&&"[object Boolean]"==SC(e)};const Yx=function(e){return null==e};function Jx(e,t,n,i){if(void 0===i&&(i={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(Yx(n)||Qx(n))return null;var o=Gx(n),s=Kx(n),a=CC(n),c=r.isValidElement(n),l=Hx(n),u=o||s||Mx(n);if(!a&&!c&&!l&&!u)return null;var h=i.defaultProps,d=void 0===h?{}:h,f=c&&n.props||l&&n||u&&t(n),p=i.overrideProps,m=void 0===p?{}:p;m=CC(m)?m(_n({},d,f)):m;var g=_n({},d,f,m);if(d.className||m.className||f.className){var v=tC(d.className,m.className,f.className);g.className=Lx(v.split(" ")).join(" ")}if((d.style||m.style||f.style)&&(g.style=_n({},d.style,f.style,m.style)),Yx(g.key)){var y=g.childKey,w=i.autoGenerateKey,b=void 0===w||w;Yx(y)?b&&(o||s)&&(g.key=n):(g.key="function"===typeof y?y(g):y,delete g.childKey)}return c?r.cloneElement(n,g):"function"===typeof g.children?g.children(e,_n({},g,{children:void 0})):u||l?r.createElement(e,g):a?n(e,g,g.children):void 0}function Xx(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return Jx(e,t,n,r)}}var $x=Xx("input",(function(e){return{type:e}})),Zx=Xx("label",(function(e){return{children:e}})),eN=Xx("p",(function(e){return{children:e}}));function tN(e){var t=e.children,n=e.className,i=e.computer,o=e.color,s=e.floated,a=e.largeScreen,c=e.mobile,l=e.only,u=e.stretched,h=e.tablet,d=e.textAlign,f=e.verticalAlign,p=e.widescreen,m=e.width,g=tC(o,iC(u,"stretched"),aC(l,"only"),cC(d),oC(s,"floated"),lC(f),uC(i,"wide computer"),uC(a,"wide large screen"),uC(c,"wide mobile"),uC(h,"wide tablet"),uC(p,"wide widescreen"),uC(m,"wide"),"column",n),v=hC(tN,e),y=dC(tN,e);return r.createElement(y,_n({},v,{className:g}),t)}tN.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],tN.propTypes={},tN.create=Xx(tN,(function(e){return{children:e}}));const nN=tN;function rN(e){var t=e.centered,n=e.children,i=e.className,o=e.color,s=e.columns,a=e.divided,c=e.only,l=e.reversed,u=e.stretched,h=e.textAlign,d=e.verticalAlign,f=tC(o,iC(t,"centered"),iC(a,"divided"),iC(u,"stretched"),aC(c,"only"),aC(l,"reversed"),cC(h),lC(d),uC(s,"column",!0),"row",i),p=hC(rN,e),m=dC(rN,e);return r.createElement(m,_n({},p,{className:f}),n)}rN.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],rN.propTypes={};const iN=rN;function oN(e){var t=e.celled,n=e.centered,i=e.children,o=e.className,s=e.columns,a=e.container,c=e.divided,l=e.doubling,u=e.inverted,h=e.padded,d=e.relaxed,f=e.reversed,p=e.stackable,m=e.stretched,g=e.textAlign,v=e.verticalAlign,y=tC("ui",iC(n,"centered"),iC(a,"container"),iC(l,"doubling"),iC(u,"inverted"),iC(p,"stackable"),iC(m,"stretched"),sC(t,"celled"),sC(c,"divided"),sC(h,"padded"),sC(d,"relaxed"),aC(f,"reversed"),cC(g),lC(v),uC(s,"column",!0),"grid",o),w=hC(oN,e),b=dC(oN,e);return r.createElement(b,_n({},w,{className:y}),i)}oN.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],oN.Column=nN,oN.Row=iN,oN.propTypes={};const sN=oN;const aN=function(e){return"symbol"==typeof e||Fx(e)&&"[object Symbol]"==SC(e)};var cN=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lN=/^\w*$/;const uN=function(e,t){if(Mx(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aN(e))||(lN.test(e)||!cN.test(e)||null!=t&&e in Object(t))};function hN(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(hN.Cache||vx),n}hN.Cache=vx;const dN=hN;var fN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pN=/\\(\\)?/g;const mN=function(e){var t=dN(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(fN,(function(e,n,r,i){t.push(r?i.replace(pN,"$1"):n||e)})),t}));const gN=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var vN=gC?gC.prototype:void 0,yN=vN?vN.toString:void 0;const wN=function e(t){if("string"==typeof t)return t;if(Mx(t))return gN(t,e)+"";if(aN(t))return yN?yN.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};const bN=function(e){return null==e?"":wN(e)};const _N=function(e,t){return Mx(e)?e:uN(e,t)?[e]:mN(bN(e))};const EN=function(e){if("string"==typeof e||aN(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};const TN=function(e,t){for(var n=0,r=(t=_N(t,e)).length;null!=e&&n<r;)e=e[EN(t[n++])];return n&&n==r?e:void 0};const IN=function(){try{var e=BC(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const SN=function(e,t,n){"__proto__"==t&&IN?IN(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var kN=Object.prototype.hasOwnProperty;const CN=function(e,t,n){var r=e[t];kN.call(e,t)&&ZC(r,n)&&(void 0!==n||t in e)||SN(e,t,n)};var xN=/^(?:0|[1-9]\d*)$/;const NN=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&xN.test(e))&&e>-1&&e%1==0&&e<t};const AN=function(e,t,n,r){if(!kC(e))return e;for(var i=-1,o=(t=_N(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var c=EN(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var u=a[c];void 0===(l=r?r(u,c,a):void 0)&&(l=kC(u)?u:NN(t[i+1])?[]:{})}CN(a,c,l),a=a[c]}return e};const ON=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=TN(e,s);n(a,s)&&AN(o,_N(s,e),a)}return o};const PN=function(e,t){return null!=e&&t in Object(e)};const RN=function(e){return Fx(e)&&"[object Arguments]"==SC(e)};var DN=Object.prototype,LN=DN.hasOwnProperty,MN=DN.propertyIsEnumerable;const jN=RN(function(){return arguments}())?RN:function(e){return Fx(e)&&LN.call(e,"callee")&&!MN.call(e,"callee")};const UN=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const FN=function(e,t,n){for(var r=-1,i=(t=_N(t,e)).length,o=!1;++r<i;){var s=EN(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&UN(i)&&NN(s,i)&&(Mx(e)||jN(e))};const VN=function(e,t){return null!=e&&FN(e,t,PN)};const BN=function(e,t){return ON(e,t,(function(t,n){return VN(e,n)}))};const zN=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var qN=gC?gC.isConcatSpreadable:void 0;const WN=function(e){return Mx(e)||jN(e)||!!(qN&&e&&e[qN])};const HN=function e(t,n,r,i,o){var s=-1,a=t.length;for(r||(r=WN),o||(o=[]);++s<a;){var c=t[s];n>0&&r(c)?n>1?e(c,n-1,r,i,o):zN(o,c):i||(o[o.length]=c)}return o};const KN=function(e){return(null==e?0:e.length)?HN(e,1):[]};const GN=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var QN=Math.max;const YN=function(e,t,n){return t=QN(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=QN(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),GN(e,this,a)}};const JN=function(e){return function(){return e}};const XN=function(e){return e};const $N=IN?function(e,t){return IN(e,"toString",{configurable:!0,enumerable:!1,value:JN(t),writable:!0})}:XN;var ZN=Date.now;const eA=function(e){var t=0,n=0;return function(){var r=ZN(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const tA=eA($N);const nA=function(e){return tA(YN(e,void 0,KN),e+"")}((function(e,t){return null==e?{}:BN(e,t)}));const rA=function(e){return null!=e&&UN(e.length)&&!CC(e)};var iA=/\s/;const oA=function(e){for(var t=e.length;t--&&iA.test(e.charAt(t)););return t};var sA=/^\s+/;const aA=function(e){return e?e.slice(0,oA(e)+1).replace(sA,""):e};var cA=/^[-+]0x[0-9a-f]+$/i,lA=/^0b[01]+$/i,uA=/^0o[0-7]+$/i,hA=parseInt;const dA=function(e){if("number"==typeof e)return e;if(aN(e))return NaN;if(kC(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=kC(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=aA(e);var n=lA.test(e);return n||uA.test(e)?hA(e.slice(2),n?2:8):cA.test(e)?NaN:+e};var fA=1/0;const pA=function(e){return e?(e=dA(e))===fA||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};const mA=function(e){var t=pA(e),n=t%1;return t===t?n?t-n:t:0};const gA=function(e,t){return gN(t,(function(t){return e[t]}))};const vA=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const yA=function(){return!1};var wA="object"==typeof exports&&exports&&!exports.nodeType&&exports,bA=wA&&"object"==typeof module&&module&&!module.nodeType&&module,_A=bA&&bA.exports===wA?mC.Buffer:void 0;const EA=(_A?_A.isBuffer:void 0)||yA;var TA={};TA["[object Float32Array]"]=TA["[object Float64Array]"]=TA["[object Int8Array]"]=TA["[object Int16Array]"]=TA["[object Int32Array]"]=TA["[object Uint8Array]"]=TA["[object Uint8ClampedArray]"]=TA["[object Uint16Array]"]=TA["[object Uint32Array]"]=!0,TA["[object Arguments]"]=TA["[object Array]"]=TA["[object ArrayBuffer]"]=TA["[object Boolean]"]=TA["[object DataView]"]=TA["[object Date]"]=TA["[object Error]"]=TA["[object Function]"]=TA["[object Map]"]=TA["[object Number]"]=TA["[object Object]"]=TA["[object RegExp]"]=TA["[object Set]"]=TA["[object String]"]=TA["[object WeakMap]"]=!1;const IA=function(e){return Fx(e)&&UN(e.length)&&!!TA[SC(e)]};const SA=function(e){return function(t){return e(t)}};var kA="object"==typeof exports&&exports&&!exports.nodeType&&exports,CA=kA&&"object"==typeof module&&module&&!module.nodeType&&module,xA=CA&&CA.exports===kA&&fC.process,NA=function(){try{var e=CA&&CA.require&&CA.require("util").types;return e||xA&&xA.binding&&xA.binding("util")}catch(t){}}();var AA=NA&&NA.isTypedArray;const OA=AA?SA(AA):IA;var PA=Object.prototype.hasOwnProperty;const RA=function(e,t){var n=Mx(e),r=!n&&jN(e),i=!n&&!r&&EA(e),o=!n&&!r&&!i&&OA(e),s=n||r||i||o,a=s?vA(e.length,String):[],c=a.length;for(var l in e)!t&&!PA.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||NN(l,c))||a.push(l);return a};var DA=Object.prototype;const LA=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||DA)};const MA=jx(Object.keys,Object);var jA=Object.prototype.hasOwnProperty;const UA=function(e){if(!LA(e))return MA(e);var t=[];for(var n in Object(e))jA.call(e,n)&&"constructor"!=n&&t.push(n);return t};const FA=function(e){return rA(e)?RA(e):UA(e)};const VA=function(e){return null==e?[]:gA(e,FA(e))};var BA=Math.max;const zA=function(e,t,n,r){e=rA(e)?e:VA(e),n=n&&!r?mA(n):0;var i=e.length;return n<0&&(n=BA(i+n,0)),Gx(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Sx(e,t,n)>-1};const qA=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};const WA=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}();const HA=function(e,t){return function(n,r){if(null==n)return n;if(!rA(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}};const KA=HA((function(e,t){return e&&WA(e,t,FA)}));const GA=function(){this.__data__=new ax,this.size=0};const QA=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const YA=function(e){return this.__data__.get(e)};const JA=function(e){return this.__data__.has(e)};const XA=function(e,t){var n=this.__data__;if(n instanceof ax){var r=n.__data__;if(!cx||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new vx(r)}return n.set(e,t),this.size=n.size,this};function $A(e){var t=this.__data__=new ax(e);this.size=t.size}$A.prototype.clear=GA,$A.prototype.delete=QA,$A.prototype.get=YA,$A.prototype.has=JA,$A.prototype.set=XA;const ZA=$A;const eO=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const tO=function(e,t,n,r,i,o){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var h=-1,d=!0,f=2&n?new _x:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var p=e[h],m=t[h];if(r)var g=s?r(m,p,h,t,e,o):r(p,m,h,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!eO(t,(function(e,t){if(!xx(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d};const nO=mC.Uint8Array;const rO=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var iO=gC?gC.prototype:void 0,oO=iO?iO.valueOf:void 0;const sO=function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new nO(e),new nO(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ZC(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=rO;case"[object Set]":var c=1&r;if(a||(a=Ox),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var u=tO(a(e),a(t),r,i,o,s);return s.delete(e),u;case"[object Symbol]":if(oO)return oO.call(e)==oO.call(t)}return!1};const aO=function(e,t,n){var r=t(e);return Mx(e)?r:zN(r,n(e))};const cO=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o};const lO=function(){return[]};var uO=Object.prototype.propertyIsEnumerable,hO=Object.getOwnPropertySymbols;const dO=hO?function(e){return null==e?[]:(e=Object(e),cO(hO(e),(function(t){return uO.call(e,t)})))}:lO;const fO=function(e){return aO(e,FA,dO)};var pO=Object.prototype.hasOwnProperty;const mO=function(e,t,n,r,i,o){var s=1&n,a=fO(e),c=a.length;if(c!=fO(t).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in t:pO.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++l<c;){var m=e[u=a[l]],g=t[u];if(r)var v=s?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(f=!1)}return o.delete(e),o.delete(t),f};const gO=BC(mC,"DataView");const vO=BC(mC,"Promise");const yO=BC(mC,"WeakMap");var wO="[object Map]",bO="[object Promise]",_O="[object Set]",EO="[object WeakMap]",TO="[object DataView]",IO=PC(gO),SO=PC(cx),kO=PC(vO),CO=PC(Nx),xO=PC(yO),NO=SC;(gO&&NO(new gO(new ArrayBuffer(1)))!=TO||cx&&NO(new cx)!=wO||vO&&NO(vO.resolve())!=bO||Nx&&NO(new Nx)!=_O||yO&&NO(new yO)!=EO)&&(NO=function(e){var t=SC(e),n="[object Object]"==t?e.constructor:void 0,r=n?PC(n):"";if(r)switch(r){case IO:return TO;case SO:return wO;case kO:return bO;case CO:return _O;case xO:return EO}return t});const AO=NO;var OO="[object Arguments]",PO="[object Array]",RO="[object Object]",DO=Object.prototype.hasOwnProperty;const LO=function(e,t,n,r,i,o){var s=Mx(e),a=Mx(t),c=s?PO:AO(e),l=a?PO:AO(t),u=(c=c==OO?RO:c)==RO,h=(l=l==OO?RO:l)==RO,d=c==l;if(d&&EA(e)){if(!EA(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new ZA),s||OA(e)?tO(e,t,n,r,i,o):sO(e,t,c,n,r,i,o);if(!(1&n)){var f=u&&DO.call(e,"__wrapped__"),p=h&&DO.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new ZA),i(m,g,n,r,o)}}return!!d&&(o||(o=new ZA),mO(e,t,n,r,i,o))};const MO=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Fx(t)&&!Fx(n)?t!==t&&n!==n:LO(t,n,r,i,e,o))};const jO=function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var c=(a=n[i])[0],l=e[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in e))return!1}else{var h=new ZA;if(r)var d=r(l,u,c,e,t,h);if(!(void 0===d?MO(u,l,3,r,h):d))return!1}}return!0};const UO=function(e){return e===e&&!kC(e)};const FO=function(e){for(var t=FA(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,UO(i)]}return t};const VO=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const BO=function(e){var t=FO(e);return 1==t.length&&t[0][2]?VO(t[0][0],t[0][1]):function(n){return n===e||jO(n,e,t)}};const zO=function(e,t,n){var r=null==e?void 0:TN(e,t);return void 0===r?n:r};const qO=function(e,t){return uN(e)&&UO(t)?VO(EN(e),t):function(n){var r=zO(n,e);return void 0===r&&r===t?VN(n,e):MO(t,r,3)}};const WO=function(e){return function(t){return null==t?void 0:t[e]}};const HO=function(e){return function(t){return TN(t,e)}};const KO=function(e){return uN(e)?WO(EN(e)):HO(e)};const GO=function(e){return"function"==typeof e?e:null==e?XN:"object"==typeof e?Mx(e)?qO(e[0],e[1]):BO(e):KO(e)};const QO=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n};const YO=function(e,t,n){var r=Mx(e)?qA:QO,i=arguments.length<3;return r(e,GO(t,4),n,i,KA)};var JO=Object.prototype.hasOwnProperty;const XO=function(e){if(null==e)return!0;if(rA(e)&&(Mx(e)||"string"==typeof e||"function"==typeof e.splice||EA(e)||OA(e)||jN(e)))return!e.length;var t=AO(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(LA(e))return!UA(e).length;for(var n in e)if(JO.call(e,n))return!1;return!0};const $O=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const ZO=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};const eP=function(e,t){return t.length<2?e:TN(e,ZO(t,0,-1))};const tP=function(e,t){return tA(YN(e,t,XN),e+"")};const nP=tP((function(e,t,n){t=_N(t,e);var r=null==(e=eP(e,t))?e:e[EN($O(t))];return null==r?void 0:GN(r,e,n)}));var rP=n(7441),iP=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)},oP=function(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")};var sP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}Sn(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=o.findDOMNode(this);this.prevNode=e,iP(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=o.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,iP(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&iP(this.props.innerRef,t)},n.componentWillUnmount=function(){iP(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(r.Component),aP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;iP(r.ref,e),iP(i,e),t.currentNode=e},t}Sn(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&iP(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return r.cloneElement(e,{ref:this.handleRefOverride})},t}(r.Component),cP=["children","innerRef"],lP=function(e){var t=e.children,n=e.innerRef,i=En(e,cP),o=r.Children.only(t),s=rP.isForwardRef(o)?aP:sP,a=o&&i&&Object.keys(i).length>0?r.cloneElement(o,i):o;return r.createElement(s,{innerRef:n},a)},uP=n(9613),hP=n.n(uP),dP="object"===typeof document&&null!==document,fP="object"===typeof window&&null!==window&&window.self===window;const pP=function e(){return Yx(e.override)?dP&&fP:e.override};var mP=Math.max,gP=Math.min;const vP=function(e,t,n){return e>=gP(t,n)&&e<mP(t,n)};const yP=function(e,t,n){return t=pA(t),void 0===n?(n=t,t=0):n=pA(n),e=dA(e),vP(e,t,n)};const wP=function(e){return e&&e.length?e[0]:void 0};const bP=function(e,t){var n;return KA(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};const _P=function(e,t,n){if(!kC(n))return!1;var r=typeof t;return!!("number"==r?rA(n)&&NN(t,n.length):"string"==r&&t in n)&&ZC(n[t],e)};const EP=function(e,t,n){var r=Mx(e)?eO:bP;return n&&_P(e,t,n)&&(t=void 0),r(e,GO(t,3))};const TP=function(e,t){if(EP([t,e],Yx))return!1;if(t.target&&(nP(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return nP(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(EP([n,r],Yx))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var o=wP(i),s=o.top,a=o.bottom,c=o.left,l=o.right;return!EP([s,a,c,l],Yx)&&(yP(r,s,a+.001)&&yP(n,c,l+.001))};var IP=n(6775),SP=n.n(IP);const kP=IP.instance;var CP=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};const xP=function(e){return void 0===e};var NP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(t=e.call.apply(e,[this].concat(r))||this).constructor,s=o.autoControlledProps,a=o.getAutoControlledStateFromProps,c=nP(Tn(t),"getInitialAutoControlledState",t.props)||{},l=s.reduce((function(e,n){return e[n]=function(e,t,n,r){void 0===r&&(r=!1);var i,o=t[e];if(void 0!==o)return o;if(r){var s=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==s)return s;if(n){var a=n[e];if(void 0!==a)return a}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}(n,t.props,c,!0),e}),{});return t.state=_n({},c,l,{autoControlledProps:s,getAutoControlledStateFromProps:a}),t}return Sn(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!xP(e[n])&&(t[n]=e[n]),t}),{});if(r){var o=r(e,_n({},t,i),t);return _n({},i,o)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(r.Component);function AP(e){var t=e.children,n=e.className,i=e.content,o=e.size,s=tC(o,"icons",n),a=hC(AP,e),c=dC(AP,e);return r.createElement(c,_n({},a,{className:s}),CP(t)?i:t)}AP.handledProps=["as","children","className","content","size"],AP.propTypes={},AP.defaultProps={as:"i"};const OP=AP;var PP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():nP(t.props,"onClick",e,t.props)},t}Sn(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return Yx(n)?e["aria-hidden"]="true":e["aria-label"]=n,Yx(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,i=e.circular,o=e.className,s=e.color,a=e.corner,c=e.disabled,l=e.fitted,u=e.flipped,h=e.inverted,d=e.link,f=e.loading,p=e.name,m=e.rotated,g=e.size,v=tC(s,p,g,iC(n,"bordered"),iC(i,"circular"),iC(c,"disabled"),iC(l,"fitted"),iC(h,"inverted"),iC(d,"link"),iC(f,"loading"),sC(a,"corner"),oC(u,"flipped"),oC(m,"rotated"),"icon",o),y=hC(t,this.props),w=dC(t,this.props),b=this.getIconAriaOptions();return r.createElement(w,_n({},y,b,{className:v,onClick:this.handleClick}))},t}(r.PureComponent);PP.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],PP.propTypes={},PP.defaultProps={as:"i"},PP.Group=OP,PP.create=Xx(PP,(function(e){return{name:e}}));const RP=PP;var DP=n(7854),LP=n.n(DP),MP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){iP(t.props.innerRef,e)},t}Sn(t,e);var n=t.prototype;return n.componentDidMount=function(){nP(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){nP(this.props,"onUnmount",null,this.props)},n.render=function(){if(!pP())return null;var e=this.props,t=e.children,n=e.mountNode,i=void 0===n?document.body:n;return(0,o.createPortal)(r.createElement(lP,{innerRef:this.handleRef},t),i)},t}(r.Component);MP.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],MP.propTypes={};const jP=MP;var UP=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).contentRef=r.createRef(),t.triggerRef=r.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||TP(t.triggerRef.current,e)||r&&TP(t.contentRef.current,r)||TP(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&LP().getCode(e)===LP().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];nP.apply(void 0,[r,"props.onBlur",e].concat(s));var c=e.relatedTarget||document.activeElement,l=nP(t.contentRef.current,"contains",c);i&&!l&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,o=n.openOnTriggerClick,s=t.state.open,a=arguments.length,c=new Array(a>1?a-1:0),l=1;l<a;l++)c[l-1]=arguments[l];nP.apply(void 0,[r,"props.onClick",e].concat(c)),s&&i?t.close(e):!s&&o&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];nP.apply(void 0,[r,"props.onFocus",e].concat(s)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,o=n.mouseLeaveDelay,s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];nP.apply(void 0,[r,"props.onMouseLeave",e].concat(a)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,o))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,o=n.openOnTriggerMouseEnter,s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];nP.apply(void 0,[r,"props.onMouseEnter",e].concat(a)),o&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){nP(t.props,"onOpen",e,_n({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=_n({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),nP(t.props,"onClose",e,_n({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=_n({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){nP(t.props,"onMount",null,t.props)},t.handleUnmount=function(){nP(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,iP(t.props.triggerRef,e)},t}Sn(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,i=e.mountNode,o=e.trigger,s=this.state.open;return r.createElement(r.Fragment,null,s&&r.createElement(r.Fragment,null,r.createElement(jP,{innerRef:this.contentRef,mountNode:i,onMount:this.handleMount,onUnmount:this.handleUnmount},t),r.createElement(SP(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),r.createElement(SP(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),r.createElement(SP(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),r.createElement(SP(),{name:"click",on:this.handleDocumentClick,pool:n}),r.createElement(SP(),{name:"keydown",on:this.handleEscape,pool:n})),o&&r.createElement(lP,{innerRef:this.handleTriggerRef},r.cloneElement(o,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(NP);UP.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],UP.propTypes={},UP.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},UP.autoControlledProps=["open"],UP.Inner=jP;const FP=UP;const VP=function(e,t){var n=-1,r=rA(e)?Array(e.length):[];return KA(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};const BP=function(e,t){return(Mx(e)?gN:VP)(e,GO(t,3))};const zP=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const qP=function(e){return"function"==typeof e?e:XN};const WP=function(e,t){return(Mx(e)?zP:KA)(e,qP(t))};var HP=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],KP=[].concat(HP,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),GP=["alt","height","src","srcSet","width","loading"],QP=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?KP:r,o=n.includeAria,s=void 0===o||o,a={},c={};return WP(e,(function(e,t){var n=s&&(/^aria-.*$/.test(t)||"role"===t);(zA(i,t)||n?a:c)[t]=e})),[a,c]};function YP(e){var t=e.blurring,n=e.className,i=e.children,o=e.content,s=e.dimmed,a=tC(iC(t,"blurring"),iC(s,"dimmed"),"dimmable",n),c=hC(YP,e),l=dC(YP,e);return r.createElement(l,_n({},c,{className:a}),CP(i)?o:i)}YP.handledProps=["as","blurring","children","className","content","dimmed"],YP.propTypes={};const JP=YP;var XP=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).containerRef=(0,r.createRef)(),t.contentRef=(0,r.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;nP(t.props,"onClick",e,t.props),n&&n!==e.target&&TP(n,e)||nP(t.props,"onClickOutside",e,t.props)},t}Sn(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,i=e.children,o=e.className,s=e.content,a=e.disabled,c=e.inverted,l=e.page,u=e.simple,h=e.verticalAlign,d=tC("ui",iC(n,"active transition visible"),iC(a,"disabled"),iC(c,"inverted"),iC(l,"page"),iC(u,"simple"),lC(h),"dimmer",o),f=hC(t,this.props),p=dC(t,this.props),m=CP(i)?s:i;return r.createElement(lP,{innerRef:this.containerRef},r.createElement(p,_n({},f,{className:d,onClick:this.handleClick}),m&&r.createElement("div",{className:"content",ref:this.contentRef},m)))},t}(r.Component);XP.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],XP.propTypes={};var $P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){pP()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){pP()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return Sn(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.page,o=hC(t,this.props);return i?r.createElement(FP,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},r.createElement(XP,_n({},o,{active:n,page:i}))):r.createElement(XP,_n({},o,{active:n,page:i}))},t}(r.Component);function ZP(e){var t=e.children,n=e.className,i=e.content,o=e.size,s=tC("ui",o,n,"images"),a=hC(ZP,e),c=dC(ZP,e);return r.createElement(c,_n({},a,{className:s}),CP(t)?i:t)}$P.handledProps=["active","page"],$P.propTypes={},$P.Dimmable=JP,$P.Inner=XP,$P.create=Xx($P,(function(e){return{content:e}})),ZP.handledProps=["as","children","className","content","size"],ZP.propTypes={};const eR=ZP;function tR(e){var t=e.avatar,n=e.bordered,i=e.centered,o=e.children,s=e.circular,a=e.className,c=e.content,l=e.dimmer,u=e.disabled,h=e.floated,d=e.fluid,f=e.hidden,p=e.href,m=e.inline,g=e.label,v=e.rounded,y=e.size,w=e.spaced,b=e.verticalAlign,_=e.wrapped,E=e.ui,T=tC(iC(E,"ui"),y,iC(t,"avatar"),iC(n,"bordered"),iC(s,"circular"),iC(i,"centered"),iC(u,"disabled"),iC(d,"fluid"),iC(f,"hidden"),iC(m,"inline"),iC(v,"rounded"),sC(w,"spaced"),oC(h,"floated"),lC(b),"image",a),I=hC(tR,e),S=QP(I,{htmlProps:GP}),k=S[0],C=S[1],x=dC(tR,e,(function(){if(!Yx(l)||!Yx(g)||!Yx(_)||!CP(o))return"div"}));return CP(o)?CP(c)?"img"===x?r.createElement(x,_n({},C,k,{className:T})):r.createElement(x,_n({},C,{className:T,href:p}),$P.create(l,{autoGenerateKey:!1}),aR.create(g,{autoGenerateKey:!1}),r.createElement("img",k)):r.createElement(x,_n({},I,{className:T}),c):r.createElement(x,_n({},I,{className:T}),o)}tR.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],tR.Group=eR,tR.propTypes={},tR.defaultProps={as:"img",ui:!0},tR.create=Xx(tR,(function(e){return{src:e}}));const nR=tR;function rR(e){var t=e.children,n=e.className,i=e.content,o=tC("detail",n),s=hC(rR,e),a=dC(rR,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?i:t)}rR.handledProps=["as","children","className","content"],rR.propTypes={},rR.create=Xx(rR,(function(e){return{content:e}}));const iR=rR;function oR(e){var t=e.children,n=e.circular,i=e.className,o=e.color,s=e.content,a=e.size,c=e.tag,l=tC("ui",o,a,iC(n,"circular"),iC(c,"tag"),"labels",i),u=hC(oR,e),h=dC(oR,e);return r.createElement(h,_n({},u,{className:l}),CP(t)?s:t)}oR.handledProps=["as","children","circular","className","color","content","size","tag"],oR.propTypes={};const sR=oR;var aR=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){nP(e,"onClick",n),nP(t.props,"onRemove",n,t.props)}}},t}return Sn(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.attached,o=e.basic,s=e.children,a=e.circular,c=e.className,l=e.color,u=e.content,h=e.corner,d=e.detail,f=e.empty,p=e.floating,m=e.horizontal,g=e.icon,v=e.image,y=e.onRemove,w=e.pointing,b=e.prompt,_=e.removeIcon,E=e.ribbon,T=e.size,I=e.tag,S=tC("ui",l,(!0===w?"pointing":("left"===w||"right"===w)&&w+" pointing")||("above"===w||"below"===w)&&"pointing "+w,T,iC(n,"active"),iC(o,"basic"),iC(a,"circular"),iC(f,"empty"),iC(p,"floating"),iC(m,"horizontal"),iC(!0===v,"image"),iC(b,"prompt"),iC(I,"tag"),sC(h,"corner"),sC(E,"ribbon"),oC(i,"attached"),"label",c),k=hC(t,this.props),C=dC(t,this.props);if(!CP(s))return r.createElement(C,_n({},k,{className:S,onClick:this.handleClick}),s);var x=xP(_)?"delete":_;return r.createElement(C,_n({className:S,onClick:this.handleClick},k),RP.create(g,{autoGenerateKey:!1}),"boolean"!==typeof v&&nR.create(v,{autoGenerateKey:!1}),u,iR.create(d,{autoGenerateKey:!1}),y&&RP.create(x,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(r.Component);function cR(e){var t=e.children,n=e.className,i=e.content,o=e.hidden,s=e.visible,a=tC(iC(s,"visible"),iC(o,"hidden"),"content",n),c=hC(cR,e),l=dC(cR,e);return r.createElement(l,_n({},c,{className:a}),CP(t)?i:t)}aR.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],aR.propTypes={},aR.Detail=iR,aR.Group=sR,aR.create=Xx(aR,(function(e){return{content:e}})),cR.handledProps=["as","children","className","content","hidden","visible"],cR.propTypes={};const lR=cR;function uR(e){var t=e.attached,n=e.basic,i=e.buttons,o=e.children,s=e.className,a=e.color,c=e.compact,l=e.content,u=e.floated,h=e.fluid,d=e.icon,f=e.inverted,p=e.labeled,m=e.negative,g=e.positive,v=e.primary,y=e.secondary,w=e.size,b=e.toggle,_=e.vertical,E=e.widths,T=tC("ui",a,w,iC(n,"basic"),iC(c,"compact"),iC(h,"fluid"),iC(d,"icon"),iC(f,"inverted"),iC(p,"labeled"),iC(m,"negative"),iC(g,"positive"),iC(v,"primary"),iC(y,"secondary"),iC(b,"toggle"),iC(_,"vertical"),sC(t,"attached"),oC(u,"floated"),uC(E),"buttons",s),I=hC(uR,e),S=dC(uR,e);return Yx(i)?r.createElement(S,_n({},I,{className:T}),CP(o)?l:o):r.createElement(S,_n({},I,{className:T}),BP(i,(function(e){return mR.create(e)})))}uR.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],uR.propTypes={};const hR=uR;function dR(e){var t=e.className,n=e.text,i=tC("or",t),o=hC(dR,e),s=dC(dR,e);return r.createElement(s,_n({},o,{className:i,"data-text":n}))}dR.handledProps=["as","className","text"],dR.propTypes={};const fR=dR;var pR=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).ref=(0,r.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!Yx(n)||!Yx(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return Yx(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(e){return nP(t.ref.current,"focus",e)},t.handleClick=function(e){t.props.disabled?e.preventDefault():nP(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,o=e.icon;return!0===o||o&&(n||CP(r)&&Yx(i))},t}Sn(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return Yx(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,i=e.animated,o=e.attached,s=e.basic,a=e.children,c=e.circular,l=e.className,u=e.color,h=e.compact,d=e.content,f=e.disabled,p=e.floated,m=e.fluid,g=e.icon,v=e.inverted,y=e.label,w=e.labelPosition,b=e.loading,_=e.negative,E=e.positive,T=e.primary,I=e.secondary,S=e.size,k=e.toggle,C=e.type,x=tC(u,S,iC(n,"active"),iC(s,"basic"),iC(c,"circular"),iC(h,"compact"),iC(m,"fluid"),iC(this.hasIconClass(),"icon"),iC(v,"inverted"),iC(b,"loading"),iC(_,"negative"),iC(E,"positive"),iC(T,"primary"),iC(I,"secondary"),iC(k,"toggle"),sC(i,"animated"),sC(o,"attached")),N=tC(sC(w||!!y,"labeled")),A=tC(iC(f,"disabled"),oC(p,"floated")),O=hC(t,this.props),P=dC(t,this.props,this.computeElementType),R=this.computeTabIndex(P);if(!Yx(y)){var D=tC("ui",x,"button",l),L=tC("ui",N,"button",l,A),M=aR.create(y,{defaultProps:{basic:!0,pointing:"left"===w?"right":"left"},autoGenerateKey:!1});return r.createElement(P,_n({},O,{className:L,onClick:this.handleClick}),"left"===w&&M,r.createElement(lP,{innerRef:this.ref},r.createElement("button",{className:D,"aria-pressed":k?!!n:void 0,disabled:f,type:C,tabIndex:R},RP.create(g,{autoGenerateKey:!1})," ",d)),("right"===w||!w)&&M)}var j=tC("ui",x,A,N,"button",l),U=!CP(a),F=this.computeButtonAriaRole(P);return r.createElement(lP,{innerRef:this.ref},r.createElement(P,_n({},O,{className:j,"aria-pressed":k?!!n:void 0,disabled:f&&"button"===P||void 0,onClick:this.handleClick,role:F,type:C,tabIndex:R}),U&&a,!U&&RP.create(g,{autoGenerateKey:!1}),!U&&d))},t}(r.Component);pR.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],pR.propTypes={},pR.defaultProps={as:"button"},pR.Content=lR,pR.Group=hR,pR.Or=fR,pR.create=Xx(pR,(function(e){return{content:e}}));const mR=pR;var gR=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonOverrides=function(e){return{onClick:function(n,r){nP(e,"onClick",n,r),nP(t.props,"onActionClick",n,r)}}},t}return Sn(t,e),t.prototype.render=function(){var e=this,n=this.props,i=n.actions,o=n.children,s=n.className,a=n.content,c=tC("actions",s),l=hC(t,this.props),u=dC(t,this.props);return CP(o)?CP(a)?r.createElement(u,_n({},l,{className:c}),BP(i,(function(t){return mR.create(t,{overrideProps:e.handleButtonOverrides})}))):r.createElement(u,_n({},l,{className:c}),a):r.createElement(u,_n({},l,{className:c}),o)},t}(r.Component);function vR(e){var t=e.children,n=e.className,i=e.content,o=e.image,s=e.scrolling,a=tC(n,iC(o,"image"),iC(s,"scrolling"),"content"),c=hC(vR,e),l=dC(vR,e);return r.createElement(l,_n({},c,{className:a}),CP(t)?i:t)}gR.handledProps=["actions","as","children","className","content","onActionClick"],gR.propTypes={},gR.create=Xx(gR,(function(e){return{actions:e}})),vR.handledProps=["as","children","className","content","image","scrolling"],vR.propTypes={},vR.create=Xx(vR,(function(e){return{content:e}}));const yR=vR;function wR(e){var t=e.children,n=e.className,i=e.content,o=tC("description",n),s=hC(wR,e),a=dC(wR,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?i:t)}wR.handledProps=["as","children","className","content"],wR.propTypes={};const bR=wR;const _R=pP()?r.useLayoutEffect:r.useEffect;var ER=/\s+/;var TR=new Map,IR=function(e,t){var n=function(e){var t=[];return e?(e.forEach((function(e){"string"===typeof e.current&&e.current.split(ER).forEach((function(e){t.push(e)}))})),t.filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))):[]}(t),r=function(e,t){return[t.filter((function(t){return-1===e.indexOf(t)})),e.filter((function(e){return-1===t.indexOf(e)}))]}(TR.get(e)||[],n),i=r[0],o=r[1];e&&(i.forEach((function(t){return e.classList.add(t)})),o.forEach((function(t){return e.classList.remove(t)}))),TR.set(e,n)},SR=new function(){var e=this;this.add=function(t,n){if(e.nodes.has(t)){e.nodes.get(t).add(n)}else{var r=new Set;r.add(n),e.nodes.set(t,r)}},this.del=function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);1!==r.size?r.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map};function kR(e){var t=e.blurring,n=e.children,i=e.className,o=e.centered,s=e.content,a=e.inverted,c=e.mountNode,l=e.scrolling,u=r.useRef(),h=tC("ui",iC(a,"inverted"),iC(!o,"top aligned"),"page modals dimmer transition visible active",i),d=tC("dimmable dimmed",iC(t,"blurring"),iC(l,"scrolling")),f=hC(kR,e),p=dC(kR,e);return function(e,t){var n=r.useRef(),i=r.useRef(!1);_R((function(){if(n.current=t,i.current){var r=oP(e)?e.current:e;SR.emit(r,IR)}i.current=!0}),[t]),_R((function(){var t=oP(e)?e.current:e;return SR.add(t,n),SR.emit(t,IR),function(){SR.del(t,n),SR.emit(t,IR)}}),[e])}(c,d),r.useEffect((function(){u.current&&u.current.style&&u.current.style.setProperty("display","flex","important")}),[]),r.createElement(lP,{innerRef:u},r.createElement(p,_n({},f,{className:h}),CP(n)?s:n))}kR.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"],kR.propTypes={},kR.create=Xx(kR,(function(e){return{content:e}}));const CR=kR;function xR(e){var t=e.children,n=e.className,i=e.content,o=tC("header",n),s=hC(xR,e),a=dC(xR,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?i:t)}xR.handledProps=["as","children","className","content"],xR.propTypes={},xR.create=Xx(xR,(function(e){return{content:e}}));const NR=xR;var AR=function(e){function t(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=e.call.apply(e,[this].concat(o))||this).legacy=pP()&&!window.ActiveXObject&&"ActiveXObject"in window,n.ref=(0,r.createRef)(),n.dimmerRef=(0,r.createRef)(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return pP()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(e){return{onActionClick:function(t,r){nP(e,"onActionClick",t,r),nP(n.props,"onActionClick",t,n.props),n.handleClose(t)}}},n.handleClose=function(e){n.setState({open:!1}),nP(n.props,"onClose",e,_n({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDimmerClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!t||TP(n.ref.current,r)||TP(n.ref.current,e)||(n.setState({open:!1}),nP(n.props,"onClose",e,_n({},n.props,{open:!1})))},n.handleIconOverrides=function(e){return{onClick:function(t){nP(e,"onClick",t),n.handleClose(t)}}},n.handleOpen=function(e){nP(n.props,"onOpen",e,_n({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),kP.sub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),kP.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),nP(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),kP.unsub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),kP.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),nP(n.props,"onUnmount",e,n.props)},n.setPositionAndClassNames=function(){var e,t=n.props.centered,r={};if(n.ref.current){var i=n.ref.current.getBoundingClientRect(),o=function(e){var t=e.height+0,n=e.height+0,r=window.innerHeight;return r/2+-n/2+t+50<r}(i);e=!o;var s=n.legacy?function(e,t,n){var r=t&&e?-n.height/2:0;return{marginLeft:-n.width/2,marginTop:r}}(o,t,i):{};hP()(n.state.legacyStyles,s)||(r.legacyStyles=s),n.state.scrolling!==e&&(r.scrolling=e)}XO(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(e){var i=n.props,o=i.actions,s=i.basic,a=i.children,c=i.className,l=i.closeIcon,u=i.content,h=i.header,d=i.size,f=i.style,p=n.state,m=p.legacyStyles,g=p.scrolling,v=tC("ui",d,iC(s,"basic"),iC(n.legacy,"legacy"),iC(g,"scrolling"),"modal transition visible active",c),y=dC(t,n.props),w=!0===l?"close":l,b=RP.create(w,{overrideProps:n.handleIconOverrides});return r.createElement(lP,{innerRef:n.ref},r.createElement(y,_n({},e,{className:v,style:_n({},m,f)}),b,CP(a)?r.createElement(r.Fragment,null,NR.create(h,{autoGenerateKey:!1}),yR.create(u,{autoGenerateKey:!1}),gR.create(o,{overrideProps:n.handleActionsOverrides})):a))},n}Sn(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.handlePortalUnmount()},n.render=function(){var e=this.props,n=e.centered,i=e.closeOnDocumentClick,o=e.dimmer,s=e.eventPool,a=e.trigger,c=this.state,l=c.open,u=c.scrolling,h=this.getMountNode();if(!pP())return(0,r.isValidElement)(a)?a:null;var d=hC(t,this.props),f=FP.handledProps,p=YO(d,(function(e,t,n){return zA(f,n)||(e[n]=t),e}),{}),m=nA(d,f);return r.createElement(FP,_n({closeOnDocumentClick:i},m,{trigger:a,eventPool:s,mountNode:h,open:l,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),r.createElement(lP,{innerRef:this.dimmerRef},CR.create(Hx(o)?o:{},{autoGenerateKey:!1,defaultProps:{blurring:"blurring"===o,inverted:"inverted"===o},overrideProps:{children:this.renderContent(p),centered:n,mountNode:h,scrolling:u}})))},t}(NP);AR.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],AR.propTypes={},AR.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},AR.autoControlledProps=["open"],AR.Actions=gR,AR.Content=yR,AR.Description=bR,AR.Dimmer=CR,AR.Header=NR;const OR=AR,PR=e=>{let{players:t}=e;return(0,KS.jsxs)("div",{children:[(0,KS.jsx)("a",{style:{fontSize:28,fontWeight:"bold"},children:"\u6b63\u5728\u7b49\u5f85\u5b78\u751f\u52a0\u5165"}),(0,KS.jsx)(gk,{color:"dark",type:"grow",children:"Loading..."}),(0,KS.jsxs)("h1",{children:["\u5df2\u6709\xa0",(0,KS.jsx)("a",{className:"display-3",children:t.length}),"\xa0\u4f4d\u5b78\u751f\u52a0\u5165"]}),(0,KS.jsx)(Hk,{children:t.map((e=>(0,KS.jsx)(Jk,{children:e.name},e.id)))})]})},RR=e=>{let{imageSize:t}=e;const[n,i]=(0,r.useState)(null),o=(0,r.useRef)(null),s=(0,r.useRef)(null),a=window.location.href.replace("lobby","join");return(0,r.useEffect)((()=>{(async e=>{try{const t=await Xk.toDataURL(e);i(t)}catch(t){console.error("QR code generation error:",t)}})(a)}),[]),(0,r.useEffect)((()=>{if(n){const e=o.current,t=e.getContext("2d"),r=new Image;r.src=n,r.onload=()=>{t.clearRect(0,0,e.width,e.height),t.drawImage(r,0,0)}}}),[n]),(0,KS.jsxs)("div",{className:"qr-code-container",children:[(0,KS.jsx)("canvas",{ref:o,width:t,height:t,style:{display:"none"}}),(0,KS.jsx)("img",{ref:s,src:n,alt:"QR Code",className:"qr-code-image",style:{width:t,height:t}})]})},DR=e=>{let{gameId:t}=$();const[n,i]=(0,r.useState)([]),[o,s]=(0,r.useState)(null),a=window.location.origin,c="".concat(a.replace("https://",""),"/Avatar-classroom/#/join-s/"),l="".concat(a,"/Avatar-classroom/#/join-s/"),[u,h]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t&&($k(t,i),JS(t).then(s))}),[t]),(0,KS.jsxs)(sN,{children:[(0,KS.jsxs)(sN.Row,{centered:!0,columns:2,children:[(0,KS.jsxs)(sN.Column,{className:"mr-2",width:7,children:[(0,KS.jsx)(sN.Row,{children:(0,KS.jsx)(GS,{verticalCentered:!0,maxWidth:800,children:(0,KS.jsxs)("h2",{children:["\u52a0\u5165\u904a\u6232\u8acb\u524d\u5f80",(0,KS.jsx)("br",{}),(0,KS.jsx)("a",{href:l,rel:"noopener noreferrer",target:"_blank",children:c}),(0,KS.jsx)("br",{}),"\u4e26\u8f38\u5165\u623f\u9593\u4ee3\u78bc"]})})}),(0,KS.jsx)(sN.Row,{verticalAlign:"middle",children:(0,KS.jsxs)(GS,{verticalCentered:!0,maxWidth:800,children:[(0,KS.jsx)("br",{}),(0,KS.jsx)("h1",{className:Zk,style:{fontSize:60},children:(0,KS.jsx)("strong",{children:o?o.shortCode:"___"})})]})})]}),(0,KS.jsxs)(sN.Column,{width:3,children:[(0,KS.jsxs)("h2",{children:["\u6216\u6383\u63cf QR code\xa0",(0,KS.jsx)(ar,{outline:!0,color:"dark",onClick:()=>h(!0),children:"\u653e\u5927"})]}),(0,KS.jsxs)(OR,{basic:!0,open:u,onClose:()=>h(!1),children:[(0,KS.jsx)(ar,{close:!0,color:"primary",onClick:()=>h(!1)}),(0,KS.jsx)(GS,{children:(0,KS.jsx)(RR,{imageSize:"700px"})})]}),(0,KS.jsx)(RR,{})]})]}),(0,KS.jsx)(sN.Row,{children:(0,KS.jsx)(GS,{verticalCentered:!0,maxWidth:800,children:(0,KS.jsx)(Te,{to:"/host/".concat(t,"/questions/pending"),children:(0,KS.jsx)(ar,{size:"lg",color:"primary",children:"\u958b\u59cb"})})})}),(0,KS.jsx)(sN.Row,{children:(0,KS.jsx)(GS,{verticalCentered:!0,maxWidth:800,children:(0,KS.jsx)(PR,{players:n})})})]})};const LR=class extends US{create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{email:t,password:n}=e;return this.auth.createUserWithEmailAndPassword(t,n).then((e=>{const t=e.user;return this._convertUser(t)})).catch((e=>{const t=e.code,n=e.message;"auth/weak-password"===t?alert("The password is too weak."):alert(n)}))}login(e){let{email:t,password:n}=e;return this.auth.signInWithEmailAndPassword(t,n).then((e=>{const t=e.user;return this._convertUser(t)})).catch((e=>{const t=e.code,n=e.message;"auth/weak-password"===t?alert("The password is too weak."):alert(n)}))}onCurrentUserChange(e){this.auth.onAuthStateChanged((t=>{t&&e(this._convertUser(t))}))}_convertUser(e){return{id:e.uid,email:e.email,name:e.displayName}}},MR=e=>{let{email:t,password:n}=e;return(new LR).create({email:t,password:n})},jR=e=>{let{email:t,password:n}=e;return(new LR).login({email:t,password:n})},UR=(e,t)=>{let{email:n,password:r,authFn:i,successCallback:o}=t;e.preventDefault(),i({email:n,password:r}).then((e=>o(e)))},FR=e=>{let{onUserChange:t}=e;const[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)("");return(0,KS.jsxs)(Bn,{className:"mb-5",onSubmit:e=>UR(e,{email:n,password:o,authFn:MR,successCallback:t}),children:[(0,KS.jsxs)(Hn,{children:[(0,KS.jsx)(Zn,{for:"email",children:"Email:"}),(0,KS.jsx)(rr,{id:"email",name:"email",value:n,onChange:e=>i(e.target.value)})]}),(0,KS.jsxs)(Hn,{children:[(0,KS.jsx)(Zn,{children:"Password:"}),(0,KS.jsx)(rr,{type:"password",name:"password",value:o,onChange:e=>s(e.target.value)})]}),(0,KS.jsx)(ar,{color:"primary",children:"Sign Up"})]})},VR=e=>{let{onUserChange:t}=e;const[n,i]=(0,r.useState)(""),[o,s]=(0,r.useState)("");return(0,KS.jsxs)(Bn,{className:"mb-5",onSubmit:e=>UR(e,{email:n,password:o,authFn:jR,successCallback:t}),children:[(0,KS.jsxs)(Hn,{children:[(0,KS.jsx)(Zn,{for:"email",children:"Email:"}),(0,KS.jsx)(rr,{id:"email",name:"email",value:n,onChange:e=>i(e.target.value)})]}),(0,KS.jsxs)(Hn,{children:[(0,KS.jsx)(Zn,{children:"Password:"}),(0,KS.jsx)(rr,{type:"password",name:"password",value:o,onChange:e=>s(e.target.value)})]}),(0,KS.jsx)(ar,{color:"primary",children:"Login"})]})},BR=e=>{const[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),s=e=>{e.preventDefault(),n(!t)};return i?(0,KS.jsx)(he,{to:"/games"}):t?(0,KS.jsxs)(GS,{maxWidth:500,verticalCentered:!0,children:[(0,KS.jsx)("h1",{children:"Login to Cahoots!"}),(0,KS.jsx)(VR,{onUserChange:o}),(0,KS.jsxs)("div",{children:["No account? ",(0,KS.jsx)("br",{}),(0,KS.jsx)(ar,{color:"link",onClick:s,children:"Sign Up!"})]})]}):(0,KS.jsxs)(GS,{maxWidth:500,verticalCentered:!0,children:[(0,KS.jsx)("h1",{children:"Signup for Cahoots!"}),(0,KS.jsx)(FR,{onUserChange:o}),(0,KS.jsxs)("div",{children:["Have an account? ",(0,KS.jsx)("br",{}),(0,KS.jsx)(ar,{color:"link",onClick:s,children:"Login"})]})]})},zR=()=>{const e=new LR;return new Promise((t=>e.onCurrentUserChange(t)))},qR=()=>{const e=new YS;return zR().then((t=>t?e.list({ownerId:t.id}):null))},WR=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(null);return(0,r.useEffect)((()=>{qR().then(t)}),[]),n?(0,KS.jsx)(he,{to:n}):(0,KS.jsxs)(WS,{style:{maxWidth:"500px"},children:[(0,KS.jsx)("h1",{children:"\u6211\u7684\u8ab2\u7a0b"}),(0,KS.jsxs)(Hk,{children:[e.map((e=>(0,KS.jsx)(Jk,{onClick:()=>i("/games/".concat(e.id)),tag:"button",action:!0,children:e.name},e.id))),(0,KS.jsx)(Jk,{onClick:()=>i("/games/create"),tag:"button",color:"info",action:!0,children:"\u5275\u5efa\u65b0\u8ab2\u7a0b"})]})]})},HR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YS;const n=String(Math.floor(Math.random()*Math.floor(9999)));return t.create(Object.assign({shortCode:n},e))},KR=e=>{const[t,n]=(0,r.useState)(null),[i,o]=(0,r.useState)(""),[s,a]=(0,r.useState)(null);return(0,r.useEffect)((()=>{zR().then(n)}),[]),s?(0,KS.jsx)(he,{to:"/games"}):(0,KS.jsxs)(WS,{style:{maxWidth:"500px"},children:[(0,KS.jsx)("h1",{children:"\u5275\u5efa\u60a8\u7684\u8ab2\u7a0b"}),(0,KS.jsxs)(Hn,{children:[(0,KS.jsx)(Zn,{for:"name",children:"\u8ab2\u7a0b\u540d\u7a31:"}),(0,KS.jsx)(rr,{id:"name",name:"name",value:i,onChange:e=>o(e.target.value)})]}),(0,KS.jsx)(ar,{color:"primary",onClick:()=>{return e={name:i,ownerId:t.id},n=a,HR(e).then(n);var e,n},children:"\u78ba\u8a8d"})]})},GR=e=>(new Uk).list(e);var QR=["className","cssModule","color","body","inverse","outline","tag","innerRef"],YR={tag:Ln,inverse:xn().bool,color:xn().string,body:xn().bool,outline:xn().bool,className:xn().string,cssModule:xn().object,innerRef:xn().oneOfType([xn().object,xn().string,xn().func])},JR=function(e){var t=e.className,n=e.cssModule,i=e.color,o=e.body,s=e.inverse,a=e.outline,c=e.tag,l=e.innerRef,u=En(e,QR),h=On(An()(t,"card",!!s&&"text-white",!!o&&"card-body",!!i&&(a?"border":"bg")+"-"+i),n);return r.createElement(c,_n({},u,{className:h,ref:l}))};JR.propTypes=YR,JR.defaultProps={tag:"div"};const XR=JR;var $R=["className","cssModule","tag"],ZR={tag:Ln,className:xn().string,cssModule:xn().object},eD=function(e){var t=e.className,n=e.cssModule,i=e.tag,o=En(e,$R),s=On(An()(t,"card-title"),n);return r.createElement(i,_n({},o,{className:s}))};eD.propTypes=ZR,eD.defaultProps={tag:"div"};const tD=eD;var nD=["className","cssModule","tag","size"],rD={tag:Ln,size:xn().string,className:xn().string,cssModule:xn().object},iD=function(e){var t=e.className,n=e.cssModule,i=e.tag,o=e.size,s=En(e,nD),a=On(An()(t,"input-group",o?"input-group-"+o:null),n);return r.createElement(i,_n({},s,{className:a}))};iD.propTypes=rD,iD.defaultProps={tag:"div"};const oD=iD;var sD=["className","cssModule","tag"],aD={tag:Ln,className:xn().string,cssModule:xn().object},cD=function(e){var t=e.className,n=e.cssModule,i=e.tag,o=En(e,sD),s=On(An()(t,"input-group-text"),n);return r.createElement(i,_n({},o,{className:s}))};cD.propTypes=aD,cD.defaultProps={tag:"span"};const lD=cD;var uD=["className","cssModule","tag","addonType","children"],hD={tag:Ln,addonType:xn().oneOf(["prepend","append"]).isRequired,children:xn().node,className:xn().string,cssModule:xn().object},dD=function(e){var t=e.className,n=e.cssModule,i=e.tag,o=e.addonType,s=e.children,a=En(e,uD),c=On(An()(t,"input-group-"+o),n);return"string"===typeof s?r.createElement(i,_n({},a,{className:c}),r.createElement(lD,{children:s})):r.createElement(i,_n({},a,{className:c,children:s}))};dD.propTypes=hD,dD.defaultProps={tag:"div"};const fD=dD,pD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uk,n=Object.assign({},e);if("id"in n){const e=jk(n,"id");return t.update(e,n)}return t.create(n)},mD=async(e,t)=>{const n=bn.firestore();try{await Sw(ry(n,"games",t,"questions",e)),window.location.reload()}catch(r){throw new Error("Error deleting question: "+r.message)}},gD="default",vD="saving",yD=e=>{let{question:t,game:n}=e;const[i,o]=(0,r.useState)(t),[s,a]=(0,r.useState)(gD),c=e=>{o(Object.assign({},i,e))};return(0,KS.jsx)("div",{children:(0,KS.jsxs)(XR,{body:!0,className:"mt-4 mb-4",children:[(0,KS.jsx)(tD,{children:(0,KS.jsx)(oD,{className:"mb-2",children:(0,KS.jsx)(rr,{type:"textarea",placeholder:"\u8acb\u8f38\u5165\u5b8c\u6574\u984c\u76ee",value:i.text||"",onChange:e=>c({text:e.target.value})})})}),["answerA","answerB","answerC","answerD"].map((e=>(0,KS.jsxs)(oD,{className:"mb-2",children:[(0,KS.jsx)(fD,{addonType:"prepend",children:(0,KS.jsx)(lD,{children:e})}),(0,KS.jsx)(rr,{type:"textarea",placeholder:"\u8acb\u8f38\u5165\u9078\u9805",value:e in i?i[e]:"",onChange:t=>c({[e]:t.target.value})})]},e))),(0,KS.jsxs)(Hn,{children:[(0,KS.jsx)(Zn,{for:"correctAnswerDropdown",children:"\u6b63\u78ba\u7b54\u6848"}),(0,KS.jsxs)(rr,{type:"select",name:"correctAnswer",id:"correctAnswerDropdown","data-testid":"correctAnswerDropdown",value:i.correctAnswer||"\u9078\u64c7\u6b63\u78ba\u7b54\u6848",onChange:e=>c({correctAnswer:e.target.value}),children:[(0,KS.jsx)("option",{children:"A"}),(0,KS.jsx)("option",{children:"B"}),(0,KS.jsx)("option",{children:"C"}),(0,KS.jsx)("option",{children:"D"}),(0,KS.jsx)("option",{hidden:!0,children:"\u9078\u64c7\u6b63\u78ba\u7b54\u6848"})]})]}),s===vD?(0,KS.jsxs)(ar,{disabled:!0,color:"primary",className:"mt-4",children:[(0,KS.jsx)(gk,{type:"grow",size:"sm",color:"info",className:"mr-2"}),"\u4fdd\u5b58\u4e2d..."]}):(0,KS.jsx)(ar,{color:"primary",className:"mt-4",onClick:()=>{a(vD),pD(i).then((()=>a(gD)))},children:"\u4fdd\u5b58"}),(0,KS.jsx)(ar,{color:"danger",className:"mt-4",onClick:async()=>{a(vD);try{await mD(i.id,n),a(gD)}catch(e){console.error("Error deleting question",e),a(gD)}},disabled:s===vD,children:s===vD?(0,KS.jsxs)(KS.Fragment,{children:[(0,KS.jsx)(gk,{type:"grow",size:"sm",color:"info",className:"mr-2"}),"\u522a\u9664\u4e2d..."]}):"\u522a\u9664\u984c\u76ee"})]})})},wD=e=>{const{gameId:t}=$(),[n,i]=(0,r.useState)(null),[o,s]=(0,r.useState)([]),[a,c]=(0,r.useState)(!1),l=X(),u=async()=>{if(t&&n)try{const e=bn.firestore();await Sw(ry(e,"games",t)),l("/games")}catch(e){console.error("\u522a\u9664\u904a\u6232\u6642\u767c\u751f\u932f\u8aa4",e)}};return(0,r.useEffect)((()=>{t&&null===n&&JS(t).then((e=>(i(e),e))).then((e=>GR({gameId:e.id}))).then(s)}),[t,n]),n?(0,KS.jsxs)(GS,{maxWidth:500,children:[(0,KS.jsx)("h1",{className:"mb-4",children:n.name}),(0,KS.jsxs)(WS,{children:[o.length>0?(0,KS.jsx)(Te,{to:"/lobby/".concat(t),children:(0,KS.jsx)(ar,{color:"success",size:"lg",children:"\u958b\u59cb\u8ab2\u7a0b"})}):null,(0,KS.jsx)("br",{}),(0,KS.jsx)("br",{}),(0,KS.jsx)(ar,{color:"primary",onClick:()=>c(!a),children:a?"\u7d50\u675f\u7de8\u8f2f":"\u7de8\u8f2f\u8ab2\u7a0b"}),(0,KS.jsx)("br",{}),(0,KS.jsx)("br",{}),(0,KS.jsx)(ar,{style:{marginBottom:20},onClick:u,color:"danger",children:"\u522a\u9664\u8ab2\u7a0b"})]}),a&&(0,KS.jsxs)(WS,{children:[o.map((e=>(0,KS.jsx)(yD,{question:e,game:t},e.id))),(0,KS.jsxs)(WS,{children:[(0,KS.jsx)(ar,{onClick:()=>{pD({gameId:t,order:o.length+1}).then((e=>s(o.concat([e]))))},children:"\u65b0\u589e\u984c\u76ee"}),(0,KS.jsx)("br",{}),(0,KS.jsx)("br",{})]})]})]}):(0,KS.jsx)(GS,{maxWidth:500,children:"Loading..."})},bD=e=>{const t=new YS,n=new Uk;return t.update(e,{state:"pendingQuestion"}),t.get(e).then((e=>"currentQuestion"in e?n.get(e.currentQuestion):void 0)).then((t=>{const r=t?t.order:0;return n.list({gameId:e,from:r,limit:1})})).then((n=>{const r=n[0];return r&&t.update(e,{currentQuestionId:r.id}),r}))},_D=e=>{let{endDate:t,intervalCallback:n,endedCallback:r}=e;setTimeout((()=>{const e=(e=>{const t=(e-Date.now())/1e3;return t>0?t:0})(t);e>0?(n(e),_D({endDate:t,intervalCallback:n,endedCallback:r})):r(e)}),1e3)},ED=e=>{let{seconds:t,intervalCallback:n,endedCallback:r}=e;const i=new Date(Date.now()+1e3*t);_D({endDate:i,intervalCallback:n,endedCallback:r})},TD=e=>{let{parentUrl:t}=e,{gameId:n}=$();const[i,o]=(0,r.useState)(3),[s,a]=(0,r.useState)(null);(0,r.useEffect)((()=>{n&&(ED({seconds:3,intervalCallback:o,endedCallback:o}),bD(n).then(a))}),[n]);let c="/host/"+n;return(0,KS.jsxs)(GS,{verticalCentered:!0,children:[(0,KS.jsx)("div",{style:{fontSize:25},children:"\u4e0b\u4e00\u984c..."}),(0,KS.jsx)("div",{className:"display-1 mt-4",children:Math.ceil(i)}),i<=0&&s?(0,KS.jsx)(he,{to:"".concat(c,"/questions/current")}):null]})};var ID=["className","cssModule","innerRef","tag"],SD={tag:Ln,className:xn().string,cssModule:xn().object,innerRef:xn().oneOfType([xn().object,xn().string,xn().func])},kD=function(e){var t=e.className,n=e.cssModule,i=e.innerRef,o=e.tag,s=En(e,ID),a=On(An()(t,"card-body"),n);return r.createElement(o,_n({},s,{className:a,ref:i}))};kD.propTypes=SD,kD.defaultProps={tag:"div"};const CD=kD;var xD=["className","cssModule","tag"],ND={tag:Ln,className:xn().string,cssModule:xn().object},AD=function(e){var t=e.className,n=e.cssModule,i=e.tag,o=En(e,xD),s=On(An()(t,"card-text"),n);return r.createElement(i,_n({},o,{className:s}))};AD.propTypes=ND,AD.defaultProps={tag:"p"};const OD=AD,PD=function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Uk).get(e,t)},RD=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new YS,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Mk;return n.update(e,{state:"showingQuestionResults"}),r.list({gameId:e,questionId:t}).then((e=>{let t={A:[],B:[],C:[],D:[]};const n=e.reduce(((e,t)=>((!e[t.playerName]||t.timestamp>e[t.playerName].timestamp)&&(e[t.playerName]=t),e)),{});return Object.values(n).forEach((e=>{t[e.choice]=t[e.choice].concat(e.playerName)})),t}))},DD=e=>(new Uk).list({gameId:e}).then((e=>e.length)),LD=(e,t)=>e.correctAnswer===t,MD=e=>{let{result:t,className:n,question:r}=e;return(0,KS.jsxs)("div",{className:n,children:[(0,KS.jsx)("h2",{className:"mb-4",style:{fontSize:29},children:r?r.text:null}),(0,KS.jsx)(ik,{children:Object.entries(t).map((e=>{let[t,n]=e;return(0,KS.jsx)(dk,{sm:12,md:6,className:"mb-4",children:(0,KS.jsx)(XR,{color:LD(r,t)?"success":null,inverse:!!LD(r,t)||null,children:(0,KS.jsxs)(CD,{children:[(0,KS.jsxs)(tD,{children:[(0,KS.jsx)("strong",{className:"mr-2",style:{fontSize:25},children:t}),LD(r,t)?"\u2714\ufe0f":"\u274c"]}),(0,KS.jsx)(tD,{children:(0,KS.jsx)("strong",{style:{fontSize:25},children:r["answer".concat(t)]})}),(0,KS.jsx)(OD,{style:{fontSize:17},children:n.join(", ")})]})})})}))})]})},jD=e=>{let{parentUrl:t}=e,{gameId:n,questionId:i}=$(),[o,s]=(0,r.useState)({}),[a,c]=(0,r.useState)(null),[l,u]=(0,r.useState)(null);(0,r.useEffect)((()=>{n&&i&&(PD(i,{gameId:n}).then(c),DD(n).then(u),RD(n,i).then(s))}),[n,i]);let h="/host/"+n;return(0,KS.jsxs)(GS,{verticalCentered:!0,children:[(0,KS.jsx)(MD,{className:"mb-4",result:o,question:a}),(0,KS.jsx)(WS,{children:a&&a.order>=l?(0,KS.jsx)(Te,{to:"".concat(h,"/results/final"),children:(0,KS.jsx)(ar,{color:"primary",children:"\u986f\u793a\u8ab2\u7a0b\u6700\u7d42\u7d50\u679c"})}):(0,KS.jsx)(Te,{to:"".concat(h,"/questions/pending"),children:(0,KS.jsx)(ar,{color:"primary",children:"\u4e0b\u4e00\u984c"})})})]})};var UD=["className","cssModule","color","innerRef","pill","tag"],FD={color:xn().string,pill:xn().bool,tag:Ln,innerRef:xn().oneOfType([xn().object,xn().func,xn().string]),children:xn().node,className:xn().string,cssModule:xn().object},VD=function(e){var t=e.className,n=e.cssModule,i=e.color,o=e.innerRef,s=e.pill,a=e.tag,c=En(e,UD),l=On(An()(t,"badge","badge-"+i,!!s&&"badge-pill"),n);return c.href&&"span"===a&&(a="a"),r.createElement(a,_n({},c,{className:l,ref:o}))};VD.propTypes=FD,VD.defaultProps={color:"secondary",pill:!1,tag:"span"};const BD=VD,zD=e=>(new Mk).list({gameId:e}).then((e=>{const t=e.sort(((e,t)=>e.playerName!==t.playerName?e.playerName.localeCompare(t.playerName):t.timestamp-e.timestamp)),n={};return t.forEach((e=>{!n[e.playerName]&&e.isCorrect&&(n[e.playerName]=1)})),n})),qD=(e,t)=>{const[,n]=e,[,r]=t;return n>r?-1:n<r?1:0},WD=e=>{let{results:t}=e,n=Object.entries(t);return n.sort(qD),(0,KS.jsx)(Hk,{children:n.slice(0,5).map(((e,t)=>{let[n,r]=e;return t<=2?(0,KS.jsxs)(Jk,{className:"d-flex justify-content-between",style:{fontSize:17},children:[n,(0,KS.jsx)(BD,{className:"ml-4 p-2",color:"success",children:r})]},n):(0,KS.jsxs)(Jk,{className:"d-flex justify-content-between",children:[n,(0,KS.jsx)(BD,{className:"ml-4 p-2",children:r})]},n)}))})},HD=e=>{let{gameId:t}=$(),[n,i]=(0,r.useState)({});return(0,r.useEffect)((()=>{t&&zD(t).then(i)}),[t]),(0,KS.jsxs)(GS,{verticalCentered:!0,maxWidth:500,children:[(0,KS.jsx)("h1",{children:"\u8ab2\u7a0b\u7d50\u679c"}),(0,KS.jsx)(WD,{results:n}),(0,KS.jsx)("br",{}),(0,KS.jsx)(WS,{children:(0,KS.jsx)(Te,{to:"/games",children:(0,KS.jsx)(ar,{color:"primary",children:"\u56de\u6211\u7684\u8ab2\u7a0b"})})}),(0,KS.jsx)("br",{}),(0,KS.jsx)(WS,{children:(0,KS.jsx)(Te,{to:"/",children:(0,KS.jsx)(ar,{color:"primary",children:"\u56de\u9996\u9801"})})})]})},KD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new YS,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Uk;return t.update(e,{state:"showingQuestion"}),t.get(e).then((e=>n.get(e.currentQuestion)))},GD=e=>{let{question:t,className:n}=e;return(0,KS.jsxs)("div",{className:n,children:[(0,KS.jsx)("h2",{className:"mb-4",style:{fontSize:29},children:t.text}),(0,KS.jsx)(ik,{children:["A","B","C","D"].map((e=>(0,KS.jsx)(dk,{sm:12,md:6,className:"mb-4",children:(0,KS.jsx)(XR,{children:(0,KS.jsxs)(CD,{children:[(0,KS.jsx)(tD,{children:(0,KS.jsx)("strong",{style:{fontSize:25},children:e})}),(0,KS.jsx)(OD,{style:{fontSize:25},children:t["answer".concat(e)]})]})})},e)))})]})},QD=e=>{let{isVisible:t,linkTo:n}=e;return t?(0,KS.jsx)(ar,{color:"primary",onClick:()=>{t&&(window.location.href=n)},children:"\u986f\u793a\u4f5c\u7b54\u7d50\u679c"}):null},YD=e=>{let{parentUrl:t}=e,{gameId:n}=$();const[i,o]=(0,r.useState)(null),[s,a]=(0,r.useState)(10);return(0,r.useEffect)((()=>{n&&(ED({seconds:10,intervalCallback:a,endedCallback:a}),KD(n).then(o))}),[n]),(0,KS.jsx)(GS,{verticalCentered:!0,children:i?(0,KS.jsxs)("div",{children:[(0,KS.jsx)(GD,{question:i}),(0,KS.jsx)("div",{className:"mt-4",children:"\u5269\u9918\u6642\u9593:"}),(0,KS.jsx)("div",{className:"display-1",children:Math.ceil(s)}),(0,KS.jsx)(QD,{isVisible:s<=0,linkTo:"https://cxw0520.github.io/AC-Three/?GID=".concat(n,"&QID=").concat(i.id)})]}):(0,KS.jsx)("div",{children:"\u8acb\u7a0d\u7b49..."})})};function JD(e){var t=e.children,n=e.className,i=e.content,o=tC("header",n),s=hC(JD,e),a=dC(JD,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?i:t)}JD.handledProps=["as","children","className","content"],JD.propTypes={};const XD=JD;const $D=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});var ZD=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,eL=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const tL=function(e){return(e=bN(e))&&e.replace(ZD,$D).replace(eL,"")};var nL=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const rL=function(e){return e.match(nL)||[]};var iL=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const oL=function(e){return iL.test(e)};var sL="\\ud800-\\udfff",aL="\\u2700-\\u27bf",cL="a-z\\xdf-\\xf6\\xf8-\\xff",lL="A-Z\\xc0-\\xd6\\xd8-\\xde",uL="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hL="["+uL+"]",dL="\\d+",fL="["+aL+"]",pL="["+cL+"]",mL="[^"+sL+uL+dL+aL+cL+lL+"]",gL="(?:\\ud83c[\\udde6-\\uddff]){2}",vL="[\\ud800-\\udbff][\\udc00-\\udfff]",yL="["+lL+"]",wL="(?:"+pL+"|"+mL+")",bL="(?:"+yL+"|"+mL+")",_L="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",EL="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",TL="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",IL="[\\ufe0e\\ufe0f]?",SL=IL+TL+("(?:\\u200d(?:"+["[^"+sL+"]",gL,vL].join("|")+")"+IL+TL+")*"),kL="(?:"+[fL,gL,vL].join("|")+")"+SL,CL=RegExp([yL+"?"+pL+"+"+_L+"(?="+[hL,yL,"$"].join("|")+")",bL+"+"+EL+"(?="+[hL,yL+wL,"$"].join("|")+")",yL+"?"+wL+"+"+_L,yL+"+"+EL,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dL,kL].join("|"),"g");const xL=function(e){return e.match(CL)||[]};const NL=function(e,t,n){return e=bN(e),void 0===(t=n?void 0:t)?oL(e)?xL(e):rL(e):e.match(t)||[]};var AL=RegExp("['\u2019]","g");const OL=function(e){return function(t){return qA(NL(tL(t).replace(AL,"")),e,"")}};const PL=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:ZO(e,t,n)};var RL=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const DL=function(e){return RL.test(e)};const LL=function(e){return e.split("")};var ML="\\ud800-\\udfff",jL="["+ML+"]",UL="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",FL="\\ud83c[\\udffb-\\udfff]",VL="[^"+ML+"]",BL="(?:\\ud83c[\\udde6-\\uddff]){2}",zL="[\\ud800-\\udbff][\\udc00-\\udfff]",qL="(?:"+UL+"|"+FL+")"+"?",WL="[\\ufe0e\\ufe0f]?",HL=WL+qL+("(?:\\u200d(?:"+[VL,BL,zL].join("|")+")"+WL+qL+")*"),KL="(?:"+[VL+UL+"?",UL,BL,zL,jL].join("|")+")",GL=RegExp(FL+"(?="+FL+")|"+KL+HL,"g");const QL=function(e){return e.match(GL)||[]};const YL=function(e){return DL(e)?QL(e):LL(e)};const JL=function(e){return function(t){t=bN(t);var n=DL(t)?YL(t):void 0,r=n?n[0]:t.charAt(0),i=n?PL(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase");const XL=OL((function(e,t,n){return e+(n?" ":"")+JL(t)}));var $L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||nP(t.props,"onClick",e,t.props)},t}return Sn(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.children,o=e.className,s=e.color,a=e.content,c=e.disabled,l=e.fitted,u=e.header,h=e.icon,d=e.link,f=e.name,p=e.onClick,m=e.position,g=tC(s,m,iC(n,"active"),iC(c,"disabled"),iC(!0===h||h&&!(f||a),"icon"),iC(u,"header"),iC(d,"link"),sC(l,"fitted"),"item",o),v=dC(t,this.props,(function(){if(p)return"a"})),y=hC(t,this.props);return CP(i)?r.createElement(v,_n({},y,{className:g,onClick:this.handleClick}),RP.create(h,{autoGenerateKey:!1}),CP(a)?XL(f):a):r.createElement(v,_n({},y,{className:g,onClick:this.handleClick}),i)},t}(r.Component);function ZL(e){var t=e.children,n=e.className,i=e.content,o=e.position,s=tC(o,"menu",n),a=hC(ZL,e),c=dC(ZL,e);return r.createElement(c,_n({},a,{className:s}),CP(t)?i:t)}$L.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],$L.propTypes={},$L.create=Xx($L,(function(e){return{content:e,name:e}})),ZL.handledProps=["as","children","className","content","position"],ZL.propTypes={};const eM=ZL;var tM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),nP(e,"onClick",n,r),nP(t.props,"onItemClick",n,r)}}},t}Sn(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return BP(t,(function(t,r){return $L.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,i=e.borderless,o=e.children,s=e.className,a=e.color,c=e.compact,l=e.fixed,u=e.floated,h=e.fluid,d=e.icon,f=e.inverted,p=e.pagination,m=e.pointing,g=e.secondary,v=e.size,y=e.stackable,w=e.tabular,b=e.text,_=e.vertical,E=e.widths,T=tC("ui",a,v,iC(i,"borderless"),iC(c,"compact"),iC(h,"fluid"),iC(f,"inverted"),iC(p,"pagination"),iC(m,"pointing"),iC(g,"secondary"),iC(y,"stackable"),iC(b,"text"),iC(_,"vertical"),sC(n,"attached"),sC(u,"floated"),sC(d,"icon"),sC(w,"tabular"),oC(l,"fixed"),uC(E,"item"),s,"menu"),I=hC(t,this.props),S=dC(t,this.props);return r.createElement(S,_n({},I,{className:T}),CP(o)?this.renderItems():o)},t}(NP);tM.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],tM.propTypes={},tM.autoControlledProps=["activeIndex"],tM.Header=XD,tM.Item=$L,tM.Menu=eM,tM.create=Xx(tM,(function(e){return{items:e}}));const nM=tM;const rM=function(){const[e,t]=r.useState(null);return r.useEffect((()=>{bn.auth().onAuthStateChanged((e=>{t(e)}))}),[]),(0,KS.jsxs)(nM,{size:"large",children:[(0,KS.jsx)(nM.Item,{as:Te,to:"/",children:"Avatar Classroom"}),(0,KS.jsx)(nM.Menu,{position:"right",children:e?(0,KS.jsxs)(KS.Fragment,{children:[(0,KS.jsx)(nM.Item,{as:Te,to:"/games",children:"\u6211\u7684\u8ab2\u7a0b"}),(0,KS.jsx)(nM.Item,{as:Te,to:"/join-s",children:"\u5b78\u751f\u9023\u7d50"}),(0,KS.jsx)(nM.Item,{as:Te,to:"/settings",children:"\u8a2d\u5b9a"}),(0,KS.jsx)(nM.Item,{onClick:()=>bn.auth().signOut(),as:Te,to:"/",children:"\u767b\u51fa"})]}):(0,KS.jsxs)(KS.Fragment,{children:[(0,KS.jsx)(nM.Item,{as:Te,to:"/join-s",children:"\u5b78\u751f\u9023\u7d50"}),(0,KS.jsx)(nM.Item,{as:Te,to:"/signin",children:"\u8a3b\u518a/\u767b\u5165"})]})})]})};function iM(e){var t=e.children,n=e.className,i=e.content,o=e.fluid,s=e.text,a=e.textAlign,c=tC("ui",iC(s,"text"),iC(o,"fluid"),cC(a),"container",n),l=hC(iM,e),u=dC(iM,e);return r.createElement(u,_n({},l,{className:c}),CP(t)?i:t)}iM.handledProps=["as","children","className","content","fluid","text","textAlign"],iM.propTypes={};const oM=iM;const sM=function(e,t,n){return null==e?e:AN(e,t,n)};var aM=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).inputRef=(0,r.createRef)(),t.labelRef=(0,r.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,o=t.state.checked;return!n&&!i&&!(r&&o)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return Yx(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,o=r.indeterminate,s=nP(t.inputRef.current,"contains",e.target),a=nP(t.labelRef.current,"contains",e.target),c=!a&&!s,l=!Yx(n);a&&l||nP(t.props,"onClick",e,_n({},t.props,{checked:!i,indeterminate:!!o})),t.isClickFromMouse&&(t.isClickFromMouse=!1,a&&!l&&t.handleChange(e),c&&t.handleChange(e),a&&l&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(nP(t.props,"onChange",e,_n({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;nP(t.props,"onMouseDown",e,_n({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||nP(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,nP(t.props,"onMouseUp",e,_n({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;sM(t.inputRef,"current.indeterminate",!!e)},t}Sn(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,i=e.disabled,o=e.label,s=e.id,a=e.name,c=e.radio,l=e.readOnly,u=e.slider,h=e.toggle,d=e.type,f=e.value,p=this.state,m=p.checked,g=p.indeterminate,v=tC("ui",iC(m,"checked"),iC(i,"disabled"),iC(g,"indeterminate"),iC(Yx(o),"fitted"),iC(c,"radio"),iC(l,"read-only"),iC(u,"slider"),iC(h,"toggle"),"checkbox",n),y=hC(t,this.props),w=dC(t,this.props),b=QP(y,{htmlProps:HP}),_=b[0],E=b[1],T=Zx(o,{defaultProps:{htmlFor:s},autoGenerateKey:!1})||r.createElement("label",{htmlFor:s});return r.createElement(w,_n({},E,{className:v,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),r.createElement(lP,{innerRef:this.inputRef},r.createElement("input",_n({},_,{checked:m,className:"hidden",disabled:i,id:s,name:a,readOnly:!0,tabIndex:this.computeTabIndex(),type:d,value:f}))),r.createElement(lP,{innerRef:this.labelRef},T))},t}(NP);function cM(e){var t=e.slider,n=e.toggle,i=e.type,o=hC(cM,e),s=!(t||n)||void 0;return r.createElement(aM,_n({},o,{type:i,radio:s,slider:t,toggle:n}))}aM.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],aM.propTypes={},aM.defaultProps={type:"checkbox"},aM.autoControlledProps=["checked","indeterminate"],cM.handledProps=["slider","toggle","type"],cM.propTypes={},cM.defaultProps={type:"radio"};const lM=cM;function uM(e){var t=e.children,n=e.className,i=e.content,o=e.control,s=e.disabled,a=e.error,c=e.inline,l=e.label,u=e.required,h=e.type,d=e.width,f=e.id,p=tC(iC(s,"disabled"),iC(a,"error"),iC(c,"inline"),iC(u,"required"),uC(d,"wide"),"field",n),m=hC(uM,e),g=dC(uM,e),v=zO(a,"pointing","above"),y=aR.create(a,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:v,id:f?f+"-error-message":void 0,role:"alert","aria-atomic":!0}}),w=("below"===v||"right"===v)&&y,b=("above"===v||"left"===v)&&y;if(Yx(o))return Yx(l)?r.createElement(g,_n({},m,{className:p,id:f}),CP(t)?i:t):r.createElement(g,_n({},m,{className:p,id:f}),w,Zx(l,{autoGenerateKey:!1}),b);var _={"aria-describedby":f&&a?f+"-error-message":null,"aria-invalid":!!a||void 0},E=_n({},m,{content:i,children:t,disabled:s,required:u,type:h,id:f});return"input"!==o||"checkbox"!==h&&"radio"!==h?o===aM||o===lM?r.createElement(g,{className:p},w,(0,r.createElement)(o,_n({},_,E,{label:l})),b):r.createElement(g,{className:p},Zx(l,{defaultProps:{htmlFor:f},autoGenerateKey:!1}),w,(0,r.createElement)(o,_n({},_,E)),b):r.createElement(g,{className:p},r.createElement("label",null,w,(0,r.createElement)(o,_n({},_,E))," ",l,b))}uM.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],uM.propTypes={};const hM=uM;function dM(e){var t=e.control,n=hC(dM,e),i=dC(dM,e);return r.createElement(i,_n({},n,{control:t}))}dM.handledProps=["as","control"],dM.propTypes={},dM.defaultProps={as:hM,control:mR};const fM=dM;function pM(e){var t=e.control,n=hC(pM,e),i=dC(pM,e);return r.createElement(i,_n({},n,{control:t}))}pM.handledProps=["as","control"],pM.propTypes={},pM.defaultProps={as:hM,control:aM};const mM=pM;const gM=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i};const vM=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};const yM=function(e,t){var n=!0;return KA(e,(function(e,r,i){return n=!!t(e,r,i)})),n};const wM=function(e,t,n){var r=Mx(e)?vM:yM;return n&&_P(e,t,n)&&(t=void 0),r(e,GO(t,3))};const bM=function(e,t,n,r){var i=-1,o=kx,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=gN(t,SA(n))),r?(o=Cx,s=!1):t.length>=200&&(o=xx,s=!1,t=new _x(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h===h){for(var d=l;d--;)if(t[d]===h)continue e;c.push(u)}else o(t,h,r)||c.push(u)}return c};const _M=function(e){return Fx(e)&&rA(e)};var EM=tP((function(e,t){return _M(e)?bM(e,t):[]}));const TM=EM;const IM=function(e){return function(t,n,r){var i=Object(t);if(!rA(t)){var o=GO(n,3);t=FA(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}};var SM=Math.max;const kM=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mA(n);return i<0&&(i=SM(r+i,0)),Ex(e,GO(t,3),i)};const CM=IM(kM);const xM=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:mA(t),ZO(e,0,(t=r-t)<0?0:t)):[]};const NM=WO("length");var AM="\\ud800-\\udfff",OM="["+AM+"]",PM="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",RM="\\ud83c[\\udffb-\\udfff]",DM="[^"+AM+"]",LM="(?:\\ud83c[\\udde6-\\uddff]){2}",MM="[\\ud800-\\udbff][\\udc00-\\udfff]",jM="(?:"+PM+"|"+RM+")"+"?",UM="[\\ufe0e\\ufe0f]?",FM=UM+jM+("(?:\\u200d(?:"+[DM,LM,MM].join("|")+")"+UM+jM+")*"),VM="(?:"+[DM+PM+"?",PM,LM,MM,OM].join("|")+")",BM=RegExp(RM+"(?="+RM+")|"+VM+FM,"g");const zM=function(e){for(var t=BM.lastIndex=0;BM.test(e);)++t;return t};const qM=function(e){return DL(e)?zM(e):NM(e)};const WM=function(e){if(null==e)return 0;if(rA(e))return Gx(e)?qM(e):e.length;var t=AO(e);return"[object Map]"==t||"[object Set]"==t?e.size:UA(e).length};var HM=tP((function(e,t){return _M(e)?bM(e,HN(t,1,_M,!0)):[]}));const KM=HM;const GM=tP((function(e){return Dx(HN(e,1,_M,!0))}));const QM=function(e,t){return MO(e,t)};var YM=function(e){function t(){return e.apply(this,arguments)||this}return Sn(t,e),t.prototype.render=function(){var e=this.props,n=e.className,i=e.name,o=tC(i,"flag",n),s=hC(t,this.props),a=dC(t,this.props);return r.createElement(a,_n({},s,{className:o}))},t}(r.PureComponent);YM.handledProps=["as","className","name"],YM.propTypes={},YM.defaultProps={as:"i"},YM.create=Xx(YM,(function(e){return{name:e}}));const JM=YM;function XM(e){var t=e.className,n=tC("divider",t),i=hC(XM,e),o=dC(XM,e);return r.createElement(o,_n({},i,{className:n}))}XM.handledProps=["as","className"],XM.propTypes={};const $M=XM;var ZM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){nP(t.props,"onClick",e,t.props)},t}return Sn(t,e),t.prototype.render=function(){var e=this.props,n=e.active,i=e.children,o=e.className,s=e.content,a=e.disabled,c=e.description,l=e.flag,u=e.icon,h=e.image,d=e.label,f=e.selected,p=e.text,m=tC(iC(n,"active"),iC(a,"disabled"),iC(f,"selected"),"item",o),g=Yx(u)?function(e,t){return EP(r.Children.toArray(e),{type:t})}(i,"DropdownMenu")&&"dropdown":u,v=hC(t,this.props),y=dC(t,this.props),w={role:"option","aria-disabled":a,"aria-checked":n,"aria-selected":f};if(!CP(i))return r.createElement(y,_n({},v,w,{className:m,onClick:this.handleClick}),i);var b=JM.create(l,{autoGenerateKey:!1}),_=RP.create(g,{autoGenerateKey:!1}),E=nR.create(h,{autoGenerateKey:!1}),T=aR.create(d,{autoGenerateKey:!1}),I=Jx("span",(function(e){return{children:e}}),c,{defaultProps:{className:"description"},autoGenerateKey:!1}),S=Jx("span",(function(e){return{children:e}}),CP(s)?p:s,{defaultProps:{className:"text"},autoGenerateKey:!1});return r.createElement(y,_n({},v,w,{className:m,onClick:this.handleClick}),E,_,b,T,I,S)},t}(r.Component);ZM.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],ZM.propTypes={},ZM.create=Xx(ZM,(function(e){return e}));const ej=ZM;function tj(e){var t=e.children,n=e.className,i=e.content,o=e.icon,s=tC("header",n),a=hC(tj,e),c=dC(tj,e);return CP(t)?r.createElement(c,_n({},a,{className:s}),RP.create(o,{autoGenerateKey:!1}),i):r.createElement(c,_n({},a,{className:s}),t)}tj.handledProps=["as","children","className","content","icon"],tj.propTypes={},tj.create=Xx(tj,(function(e){return{content:e}}));const nj=tj;function rj(e){var t=e.children,n=e.className,i=e.content,o=e.direction,s=e.open,a=e.scrolling,c=tC(o,iC(s,"visible"),iC(a,"scrolling"),"menu transition",n),l=hC(rj,e),u=dC(rj,e);return r.createElement(u,_n({},l,{className:c}),CP(t)?i:t)}rj.handledProps=["as","children","className","content","direction","open","scrolling"],rj.propTypes={};const ij=rj;var oj=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=zO(e,"target.value");nP(t.props,"onChange",e,_n({},t.props,{value:n}))},t}return Sn(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,i=e.className,o=e.tabIndex,s=e.type,a=e.value,c=tC("search",i),l=hC(t,this.props);return r.createElement("input",_n({},l,{"aria-autocomplete":"list",autoComplete:n,className:c,onChange:this.handleChange,tabIndex:o,type:s,value:a}))},t}(r.Component);oj.handledProps=["as","autoComplete","className","tabIndex","type","value"],oj.propTypes={},oj.defaultProps={autoComplete:"off",type:"text"},oj.create=Xx(oj,(function(e){return{type:e}}));const sj=oj;function aj(e){var t=e.children,n=e.className,i=e.content,o=tC("divider",n),s=hC(aj,e),a=dC(aj,e);return r.createElement(a,_n({"aria-atomic":!0,"aria-live":"polite",role:"alert"},s,{className:o}),CP(t)?i:t)}aj.handledProps=["as","children","className","content"],aj.propTypes={},aj.create=Xx(aj,(function(e){return{content:e}}));const cj=aj;var lj=/[\\^$.*+?()[\]{}|]/g,uj=RegExp(lj.source);const hj=function(e){return(e=bN(e))&&uj.test(e)?e.replace(lj,"\\$&"):e};const dj=function(e,t){var n=[];return KA(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};const fj=function(e,t){return(Mx(e)?cO:dj)(e,GO(t,3))};function pj(e){var t=e.additionLabel,n=e.additionPosition,i=e.allowAdditions,o=e.deburr,s=e.multiple,a=e.options,c=e.search,l=e.searchQuery,u=e.value,h=a;if(s&&(h=fj(h,(function(e){return!zA(u,e.value)}))),c&&l)if(CC(c))h=c(h,l);else{var d=o?tL(l):l,f=new RegExp(hj(d),"i");h=fj(h,(function(e){return f.test(o?tL(e.text):e.text)}))}if(i&&c&&l&&!EP(h,{text:l})){var p={key:"addition",text:[r.isValidElement(t)?r.cloneElement(t,{key:"addition-label"}):t||"",r.createElement("b",{key:"addition-query"},l)],value:l,className:"addition","data-additional":!0};"top"===n?h.unshift(p):h.push(p)}return h}function mj(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,o=e.deburr,s=e.multiple,a=e.options,c=e.search,l=e.searchQuery,u=e.selectedIndex,h=e.value,d=pj({value:h,options:a,searchQuery:l,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:o,multiple:s,search:c}),f=YO(d,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!u||u<0){var p=f[0];t=s?p:kM(d,["value",h])||f[0]}else if(s)t=CM(f,(function(e){return e>=u})),u>=d.length-1&&(t=f[f.length-1]);else{var m=kM(d,["value",h]);t=zA(f,m)?m:void 0}return(!t||t<0)&&(t=f[0]),t}pj.handledProps=[];var gj=function(e,t){return Yx(e)?t:e},vj=function(e){return e?e.map((function(e){return nA(e,["key","value"])})):e};function yj(e){var t=e.flag,n=e.image,i=e.text;return CC(i)?i:{content:r.createElement(r.Fragment,null,JM.create(t),nR.create(n),i)}}var wj=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).searchRef=(0,r.createRef)(),t.sizerRef=(0,r.createRef)(),t.ref=(0,r.createRef)(),t.handleChange=function(e,n){nP(t.props,"onChange",e,_n({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;(xP(r)?!i:r)&&t.close(e,Ax)},t.closeOnEscape=function(e){t.props.closeOnEscape&&LP().getCode(e)===LP().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,o=r.selectOnNavigation;if(t.state.open){var s=((n={})[LP().ArrowDown]=1,n[LP().ArrowUp]=-1,n)[LP().getCode(e)];if(void 0!==s){e.preventDefault();var a=t.getSelectedIndexAfterMove(s);!i&&o&&t.makeSelectedItemActive(e,a),t.setState({selectedIndex:a})}}},t.openOnSpace=function(e){var n,r,i,o=t.state.focus&&!t.state.open&&LP().getCode(e)===LP().Spacebar,s="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);o&&(s&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var o=LP().getCode(e);o!==LP().ArrowDown&&o!==LP().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,o=r.value,s=t.props.multiple,a=t.getSelectedItem(n),c=zO(a,"value"),l=zO(a,"disabled");if(Yx(c)||!i||l)return o;var u=s?GM(o,[c]):c;return(s?!!KM(u,o).length:u!==o)&&(t.setState({value:u}),t.handleChange(e,u),a["data-additional"]&&nP(t.props,"onAddItem",e,_n({},t.props,{value:c}))),o},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,o=r.selectedIndex;if(i&&(LP().getCode(e)===LP().Enter||!n&&LP().getCode(e)===LP().Spacebar)){e.preventDefault();var s=WM(pj({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==s){var a=t.makeSelectedItemActive(e,o);t.setState({selectedIndex:mj({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:o,value:a,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&nP(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,o=t.state,s=o.searchQuery,a=o.value;if(LP().getCode(e)===LP().Backspace&&!s&&i&&r&&!XO(a)){e.preventDefault();var c=xM(a);t.setState({value:c}),t.handleChange(e,c)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&TP(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,nP(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,o=t.state,s=o.open,a=o.searchQuery;if(nP(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);s?nP(t.searchRef.current,"focus"):a.length>=r||1===r?t.open(e):nP(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();nP(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,o=r.search,s=t.state.value,a=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var c=n["data-additional"],l=i?GM(t.state.value,[a]):a;(i?!!KM(l,s).length:l!==s)&&(t.setState({value:l}),t.handleChange(e,l)),t.clearSearchQuery(),nP(o?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),c&&nP(t.props,"onAddItem",e,_n({},t.props,{value:a}))}},t.handleFocus=function(e){t.state.focus||(nP(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=zO(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,o=r.multiple,s=r.selectOnBlur;t.isMouseDown||(nP(t.props,"onBlur",e,t.props),s&&!o&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,o=t.state.open,s=r;nP(t.props,"onSearchChange",e,_n({},t.props,{searchQuery:s})),t.setState({searchQuery:s,selectedIndex:0}),!o&&s.length>=i?t.open():o&&1!==i&&s.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),nP(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=pj({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return zO(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return CM(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,o=e.multiple,s={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===s.role&&(s["aria-multiselectable"]=o),s},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),nP(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=TM(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=pj({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!wM(r,"disabled")){var i=r.length-1,o=n+e;return!t.props.wrapSelection&&(o>i||o<0)?o=n:o>i?o=0:o<0&&(o=i),r[o].disabled?t.getSelectedIndexAfterMove(e,o):o}},t.handleIconOverrides=function(e){var n=t.props.clearable;return{className:tC(n&&t.hasValue()&&"clear",e.className),onClick:function(n){nP(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return Yx(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:Yx(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){nP(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!XO(n):!Yx(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,o=n.top-r,s=i<0&&o>i;!s!==!t.state.upward&&t.setState({upward:s})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,o=r.search;i||(o&&nP(t.searchRef.current,"focus"),nP(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(nP(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,o=n.search,s=n.text,a=t.state,c=a.searchQuery,l=a.selectedIndex,u=a.value,h=a.open,d=t.hasValue(),f=tC(i&&!d&&"default","text",o&&c&&"filtered"),p=i;return s?p=s:h&&!r?e=t.getSelectedItem(l):d&&(e=t.getItemByValue(u)),cj.create(e?yj(e):p,{defaultProps:{className:f}})},t.renderSearchInput=function(){var e=t.props,n=e.search,i=e.searchInput,o=t.state.searchQuery;return n&&r.createElement(lP,{innerRef:t.searchRef},sj.create(i,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:o},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,i=e.multiple;return n&&i&&r.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,o=i.selectedLabel,s=i.value;if(n&&!XO(s)){var a=BP(s,t.getItemByValue);return BP(gM(a),(function(e,n){var i={active:e.value===o,as:"a",key:gj(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return aR.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,i=e.multiple,o=e.search,s=e.noResultsMessage,a=t.state,c=a.open,l=a.selectedIndex,u=a.value;if(n&&!c)return null;var h=pj({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==s&&o&&XO(h))return r.createElement("div",{className:"message"},s);var d=i?function(e){return zA(u,e)}:function(e){return e===u};return BP(h,(function(e,n){return ej.create(_n({active:d(e.value),selected:l===n},e,{key:gj(e.key,e.value),style:_n({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,i=e.direction,o=e.header,s=t.state.open,a=t.getDropdownMenuAriaOptions();if(!CP(n)){var c=r.Children.only(n),l=tC(i,iC(s,"visible"),c.props.className);return(0,r.cloneElement)(c,_n({className:l},a))}return r.createElement(ij,_n({},a,{direction:i,open:s}),nj.create(o,{autoGenerateKey:!1}),t.renderOptions())},t}Sn(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!hP()(n.__value,t.value)||!QM(vj(e.options),vj(n.__options)))&&(r.selectedIndex=mj({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!hP()(e,this.props)||!hP()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,o=n.openOnFocus,s=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var a=!s||s&&1===i&&!this.state.open;o&&a&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,i=e.button,o=e.className,s=e.compact,a=e.disabled,c=e.error,l=e.fluid,u=e.floating,h=e.icon,d=e.inline,f=e.item,p=e.labeled,m=e.loading,g=e.multiple,v=e.pointing,y=e.search,w=e.selection,b=e.scrolling,_=e.simple,E=e.trigger,T=this.state,I=T.focus,S=T.open,k=T.upward,C=tC("ui",iC(S,"active visible"),iC(a,"disabled"),iC(c,"error"),iC(m,"loading"),iC(n,"basic"),iC(i,"button"),iC(s,"compact"),iC(l,"fluid"),iC(u,"floating"),iC(d,"inline"),iC(p,"labeled"),iC(f,"item"),iC(g,"multiple"),iC(y,"search"),iC(w,"selection"),iC(_,"simple"),iC(b,"scrolling"),iC(k,"upward"),sC(v,"pointing"),"dropdown",o),x=hC(t,this.props),N=dC(t,this.props),A=this.getDropdownAriaOptions(N,this.props);return r.createElement(lP,{innerRef:this.ref},r.createElement(N,_n({},x,A,{className:C,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),E||this.renderText(),RP.create(h,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),S&&r.createElement(SP(),{name:"keydown",on:this.closeOnEscape}),S&&r.createElement(SP(),{name:"click",on:this.closeOnDocumentClick}),I&&r.createElement(SP(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(NP);function bj(e){var t=e.control,n=hC(bj,e),i=dC(bj,e);return r.createElement(i,_n({},n,{control:t}))}wj.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],wj.propTypes={},wj.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:yj,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},wj.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],wj.Divider=$M,wj.Header=nj,wj.Item=ej,wj.Menu=ij,wj.SearchInput=sj,wj.Text=cj,bj.handledProps=["as","control"],bj.propTypes={},bj.defaultProps={as:hM,control:wj};const _j=bj;function Ej(e){var t=e.children,n=e.className,i=e.grouped,o=e.inline,s=e.unstackable,a=e.widths,c=tC(iC(i,"grouped"),iC(o,"inline"),iC(s,"unstackable"),uC(a,null,!0),"fields",n),l=hC(Ej,e),u=dC(Ej,e);return r.createElement(u,_n({},l,{className:c}),t)}Ej.handledProps=["as","children","className","grouped","inline","unstackable","widths"],Ej.propTypes={};const Tj=Ej;var Ij=function(e){function t(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=e.call.apply(e,[this].concat(o))||this).inputRef=(0,r.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return Yx(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return Yx(r)?t?-1:void 0:r},n.focus=function(e){return n.inputRef.current.focus(e)},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=zO(e,"target.value");nP(n.props,"onChange",e,_n({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return _n({},t,e.props,{ref:function(t){iP(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,o=n.computeTabIndex(),s=hC(t,n.props),a=QP(s),c=a[0],l=a[1];return[_n({},c,{disabled:r,type:i,tabIndex:o,onChange:n.handleChange,ref:n.inputRef}),l]},n}return Sn(t,e),t.prototype.render=function(){var e=this,n=this.props,i=n.action,o=n.actionPosition,s=n.children,a=n.className,c=n.disabled,l=n.error,u=n.fluid,h=n.focus,d=n.icon,f=n.iconPosition,p=n.input,m=n.inverted,g=n.label,v=n.labelPosition,y=n.loading,w=n.size,b=n.transparent,_=n.type,E=tC("ui",w,iC(c,"disabled"),iC(l,"error"),iC(u,"fluid"),iC(h,"focus"),iC(m,"inverted"),iC(y,"loading"),iC(b,"transparent"),oC(o,"action")||iC(i,"action"),oC(f,"icon")||iC(d||y,"icon"),oC(v,"labeled")||iC(g,"labeled"),"input",a),T=dC(t,this.props),I=this.partitionProps(),S=I[0],k=I[1];if(!CP(s)){var C=BP(r.Children.toArray(s),(function(t){return"input"!==t.type?t:(0,r.cloneElement)(t,e.handleChildOverrides(t,S))}));return r.createElement(T,_n({},k,{className:E}),C)}var x=mR.create(i,{autoGenerateKey:!1}),N=aR.create(g,{defaultProps:{className:tC("label",zA(v,"corner")&&v)},autoGenerateKey:!1});return r.createElement(T,_n({},k,{className:E}),"left"===o&&x,"right"!==v&&N,$x(p||_,{defaultProps:S,autoGenerateKey:!1}),RP.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==o&&x,"right"===v&&N)},t}(r.Component);Ij.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],Ij.propTypes={},Ij.defaultProps={type:"text"},Ij.create=Xx(Ij,(function(e){return{type:e}}));const Sj=Ij;function kj(e){var t=e.control,n=hC(kj,e),i=dC(kj,e);return r.createElement(i,_n({},n,{control:t}))}kj.handledProps=["as","control"],kj.propTypes={},kj.defaultProps={as:hM,control:Sj};const Cj=kj;function xj(e){var t=e.control,n=hC(xj,e),i=dC(xj,e);return r.createElement(i,_n({},n,{control:t}))}xj.handledProps=["as","control"],xj.propTypes={},xj.defaultProps={as:hM,control:lM};const Nj=xj;function Aj(e){return r.createElement(wj,_n({},e,{selection:!0}))}Aj.handledProps=["options"],Aj.propTypes={},Aj.Divider=wj.Divider,Aj.Header=wj.Header,Aj.Item=wj.Item,Aj.Menu=wj.Menu;const Oj=Aj;function Pj(e){var t=e.control,n=e.options,i=hC(Pj,e),o=dC(Pj,e);return r.createElement(o,_n({},i,{control:t,options:n}))}Pj.handledProps=["as","control","options"],Pj.propTypes={},Pj.defaultProps={as:hM,control:Oj};const Rj=Pj;var Dj=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).ref=(0,r.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=zO(e,"target.value");nP(t.props,"onChange",e,_n({},t.props,{value:n}))},t.handleInput=function(e){var n=zO(e,"target.value");nP(t.props,"onInput",e,_n({},t.props,{value:n}))},t}return Sn(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,i=e.value,o=hC(t,this.props),s=dC(t,this.props);return r.createElement(lP,{innerRef:this.ref},r.createElement(s,_n({},o,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:i})))},t}(r.Component);Dj.handledProps=["as","onChange","onInput","rows","value"],Dj.propTypes={},Dj.defaultProps={as:"textarea",rows:3};const Lj=Dj;function Mj(e){var t=e.control,n=hC(Mj,e),i=dC(Mj,e);return r.createElement(i,_n({},n,{control:t}))}Mj.handledProps=["as","control"],Mj.propTypes={},Mj.defaultProps={as:hM,control:Lj};const jj=Mj;var Uj=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&nP(e,"preventDefault");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];nP.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))},t}return Sn(t,e),t.prototype.render=function(){var e=this.props,n=e.action,i=e.children,o=e.className,s=e.error,a=e.inverted,c=e.loading,l=e.reply,u=e.size,h=e.success,d=e.unstackable,f=e.warning,p=e.widths,m=tC("ui",u,iC(s,"error"),iC(a,"inverted"),iC(c,"loading"),iC(l,"reply"),iC(h,"success"),iC(d,"unstackable"),iC(f,"warning"),uC(p,null,!0),"form",o),g=hC(t,this.props),v=dC(t,this.props);return r.createElement(v,_n({},g,{action:n,className:m,onSubmit:this.handleSubmit}),i)},t}(r.Component);Uj.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],Uj.propTypes={},Uj.defaultProps={as:"form"},Uj.Field=hM,Uj.Button=fM,Uj.Checkbox=mM,Uj.Dropdown=_j,Uj.Group=Tj,Uj.Input=Cj,Uj.Radio=Nj,Uj.Select=Rj,Uj.TextArea=jj;const Fj=Uj;function Vj(e){var t=e.children,n=e.className,i=e.content,o=tC("content",n),s=hC(Vj,e),a=dC(Vj,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?i:t)}Vj.handledProps=["as","children","className","content"],Vj.propTypes={};const Bj=Vj;function zj(e){var t=e.children,n=e.className,i=e.content,o=tC("header",n),s=hC(zj,e),a=dC(zj,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?i:t)}zj.handledProps=["as","children","className","content"],zj.propTypes={},zj.create=Xx(zj,(function(e){return{content:e}}));const qj=zj;function Wj(e){var t=e.children,n=e.className,i=e.content,o=tC("content",n),s=hC(Wj,e),a=dC(Wj,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?i:t)}Wj.handledProps=["as","children","className","content"],Wj.propTypes={},Wj.defaultProps={as:"li"},Wj.create=Xx(Wj,(function(e){return{content:e}}));const Hj=Wj;function Kj(e){var t=e.children,n=e.className,i=e.items,o=tC("list",n),s=hC(Kj,e),a=dC(Kj,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?BP(i,Hj.create):t)}Kj.handledProps=["as","children","className","items"],Kj.propTypes={},Kj.defaultProps={as:"ul"},Kj.create=Xx(Kj,(function(e){return{items:e}}));const Gj=Kj;var Qj=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return Sn(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,i=e.children,o=e.className,s=e.color,a=e.compact,c=e.content,l=e.error,u=e.floating,h=e.header,d=e.hidden,f=e.icon,p=e.info,m=e.list,g=e.negative,v=e.onDismiss,y=e.positive,w=e.size,b=e.success,_=e.visible,E=e.warning,T=tC("ui",s,w,iC(a,"compact"),iC(l,"error"),iC(u,"floating"),iC(d,"hidden"),iC(f,"icon"),iC(p,"info"),iC(g,"negative"),iC(y,"positive"),iC(b,"success"),iC(_,"visible"),iC(E,"warning"),sC(n,"attached"),"message",o),I=v&&r.createElement(RP,{name:"close",onClick:this.handleDismiss}),S=hC(t,this.props),k=dC(t,this.props);return CP(i)?r.createElement(k,_n({},S,{className:T}),I,RP.create(f,{autoGenerateKey:!1}),(!Yx(h)||!Yx(c)||!Yx(m))&&r.createElement(Bj,null,qj.create(h,{autoGenerateKey:!1}),Gj.create(m,{autoGenerateKey:!1}),eN(c,{autoGenerateKey:!1}))):r.createElement(k,_n({},S,{className:T}),I,i)},t}(r.Component);Qj.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],Qj.propTypes={},Qj.Content=Bj,Qj.Header=qj,Qj.List=Gj,Qj.Item=Hj;const Yj=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Jj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yj(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Xj;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Xj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $j=function(e){try{return Jj.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const Zj=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,eU=()=>{try{return Zj()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&$j(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}};function tU(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}class nU extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,nU.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rU.prototype.create)}}class rU{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(iU,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new nU(n,o,t)}}const iU=/\{\$([^}]+)}/g;function oU(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function sU(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function aU(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class cU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=lU),void 0===r.error&&(r.error=lU),void 0===r.complete&&(r.complete=lU);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function lU(){}function uU(e){return e&&e._delegate?e._delegate:e}const hU=[];var dU;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(dU||(dU={}));const fU={debug:dU.DEBUG,verbose:dU.VERBOSE,info:dU.INFO,warn:dU.WARN,error:dU.ERROR,silent:dU.SILENT},pU=dU.INFO,mU={[dU.DEBUG]:"log",[dU.VERBOSE]:"log",[dU.INFO]:"info",[dU.WARN]:"warn",[dU.ERROR]:"error"},gU=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=mU[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};function vU(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function yU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wU=yU,bU=new rU("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_U=new class{constructor(e){this.name=e,this._logLevel=pU,this._logHandler=gU,this._userLogHandler=null,hU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dU))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?fU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dU.DEBUG,...t),this._logHandler(this,dU.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dU.VERBOSE,...t),this._logHandler(this,dU.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dU.INFO,...t),this._logHandler(this,dU.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dU.WARN,...t),this._logHandler(this,dU.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,dU.ERROR,...t),this._logHandler(this,dU.ERROR,...t)}}("@firebase/auth");function EU(e){if(_U.logLevel<=dU.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_U.error("Auth (".concat(Bt,"): ").concat(e),...n)}}function TU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kU(e,...n)}function IU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kU(e,...n)}function SU(e,t,n){const r=Object.assign(Object.assign({},wU()),{[t]:n});return new rU("auth","Firebase",r).create(t,{appName:e.name})}function kU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return bU.create(e,...n)}function CU(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw kU(t,...r)}}function xU(e){const t="INTERNAL ASSERTION FAILED: "+e;throw EU(t),new Error(t)}function NU(e,t){e||xU(t)}function AU(){return"http:"===OU()||"https:"===OU()}function OU(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function PU(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(AU()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class RU{constructor(e,t){this.shortDelay=e,this.longDelay=t,NU(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tU())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return PU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function DU(e,t){NU(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class LU{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void xU("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void xU("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void xU("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jU=new RU(3e4,6e4);function UU(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function FU(e,t,n,r){return VU(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=oU(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),LU.fetch()(zU(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function VU(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},MU),t);try{const t=new WU(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw HU(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw HU(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw HU(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw HU(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw SU(e,a,s);TU(e,a)}}catch(i){if(i instanceof nU)throw i;TU(e,"network-request-failed",{message:String(i)})}}async function BU(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await FU(e,t,n,r,i);return"mfaPendingCredential"in o&&TU(e,"multi-factor-auth-required",{_serverResponse:o}),o}function zU(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?DU(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function qU(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(IU(this.auth,"network-request-failed"))),jU.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function HU(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=IU(e,t,r);return i.customData._tokenResponse=n,i}function KU(e){return void 0!==e&&void 0!==e.enterprise}class GU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qU(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function QU(e,t){return FU(e,"GET","/v2/recaptchaConfig",UU(e,t))}function YU(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function JU(e){return 1e3*Number(e)}function XU(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return EU("JWT malformed, contained fewer than 3 sections"),null;try{const e=$j(n);return e?JSON.parse(e):(EU("Failed to decode base64 JWT payload"),null)}catch(i){return EU("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function $U(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof nU&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ZU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class eF{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=YU(this.lastLoginAt),this.creationTime=YU(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tF(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $U(e,async function(e,t){return FU(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));CU(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=vU(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new eF(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class nF{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){CU(e.idToken,"internal-error"),CU("undefined"!==typeof e.idToken,"internal-error"),CU("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=XU(e);return CU(t,"internal-error"),CU("undefined"!==typeof t.exp,"internal-error"),CU("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return CU(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await VU(e,{},(async()=>{const n=oU({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=zU(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",LU.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new nF;return n&&(CU("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(CU("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(CU("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nF,this.toJSON())}_performRefresh(){return xU("not implemented")}}function rF(e,t){CU("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class iF{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=vU(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new eF(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await $U(this,this.stsTokenManager.getToken(this.auth,e));return CU(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=uU(e),r=await n.getIdToken(t),i=XU(r);CU(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:YU(JU(i.auth_time)),issuedAtTime:YU(JU(i.iat)),expirationTime:YU(JU(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=uU(e);await tF(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(CU(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new iF(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){CU(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await tF(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $U(this,async function(e,t){return FU(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;CU(y&&E,e,"internal-error");const T=nF.fromJSON(this.name,E);CU("string"===typeof y,e,"internal-error"),rF(u,e.name),rF(h,e.name),CU("boolean"===typeof w,e,"internal-error"),CU("boolean"===typeof b,e,"internal-error"),rF(d,e.name),rF(f,e.name),rF(p,e.name),rF(m,e.name),rF(g,e.name),rF(v,e.name);const I=new iF({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new nF;r.updateFromServerResponse(t);const i=new iF({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await tF(i),i}}const oF=new Map;function sF(e){NU(e instanceof Function,"Expected a class definition");let t=oF.get(e);return t?(NU(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,oF.set(e,t),t)}class aF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aF.type="NONE";const cF=aF;function lF(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class uF{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=lF(this.userKey,r.apiKey,i),this.fullPersistenceKey=lF("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?iF._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new uF(sF(cF),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||sF(cF);const o=lF(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=iF._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(c){}}))),new uF(i,e,n)):new uF(i,e,n)}}function hF(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mF(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dF(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vF(t))return"Blackberry";if(yF(t))return"Webos";if(fF(t))return"Safari";if((t.includes("chrome/")||pF(t))&&!t.includes("edge/"))return"Chrome";if(gF(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function dF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tU();return/firefox\//i.test(e)}function fF(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:tU()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tU();return/crios\//i.test(e)}function mF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tU();return/iemobile/i.test(e)}function gF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tU();return/android/i.test(e)}function vF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tU();return/blackberry/i.test(e)}function yF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tU();return/webos/i.test(e)}function wF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tU();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bF(){return function(){const e=tU();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function _F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tU();return wF(e)||gF(e)||yF(e)||vF(e)||/windows phone/i.test(e)||mF(e)}function EF(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hF(tU());break;case"Worker":t="".concat(hF(tU()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Bt,"/").concat(r)}class TF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class IF{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class SF{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CF(this),this.idTokenSubscription=new CF(this),this.beforeStateQueue=new TF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sF(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await uF.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return CU(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tF(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?uU(e):null;return t&&CU(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&CU(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(sF(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return FU(e,"GET","/v2/passwordPolicy",UU(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new IF(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rU("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return FU(e,"POST","/v2/accounts:revokeToken",UU(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&sF(e)||this._popupRedirectResolver;CU(t,this,"argument-error"),this.redirectPersistenceManager=await uF.create(this,[sF(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(CU(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return CU(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(_U.logLevel<=dU.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_U.warn("Auth (".concat(Bt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function kF(e){return uU(e)}class CF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new cU(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return CU(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xF(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=IU("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function NF(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class AF{constructor(e){this.type="recaptcha-enterprise",this.auth=kF(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;KU(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{QU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new GU(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&KU(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));xF("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function OF(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new AF(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function PF(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await OF(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await OF(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}class RF{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xU("not implemented")}_getIdTokenResponse(e){return xU("not implemented")}_linkToIdToken(e,t){return xU("not implemented")}_getReauthenticationResolver(e){return xU("not implemented")}}async function DF(e,t){return FU(e,"POST","/v1/accounts:signUp",t)}async function LF(e,t){return BU(e,"POST","/v1/accounts:signInWithPassword",UU(e,t))}class MF extends RF{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new MF(e,t,"password")}static _fromEmailAndCode(e,t){return new MF(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return PF(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",LF);case"emailLink":return async function(e,t){return BU(e,"POST","/v1/accounts:signInWithEmailLink",UU(e,t))}(e,{email:this._email,oobCode:this._password});default:TU(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return PF(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DF);case"emailLink":return async function(e,t){return BU(e,"POST","/v1/accounts:signInWithEmailLink",UU(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:TU(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function jF(e,t){return BU(e,"POST","/v1/accounts:signInWithIdp",UU(e,t))}class UF extends RF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new UF(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):TU("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=vU(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new UF(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return jF(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,jF(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jF(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oU(t)}return e}}const FF={USER_NOT_FOUND:"user-not-found"};class VF extends RF{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new VF({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new VF({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return BU(e,"POST","/v1/accounts:signInWithPhoneNumber",UU(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await BU(e,"POST","/v1/accounts:signInWithPhoneNumber",UU(e,t));if(n.temporaryProof)throw HU(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return BU(e,"POST","/v1/accounts:signInWithPhoneNumber",UU(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),FF)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new VF({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class BF{constructor(e){var t,n,r,i,o,s;const a=sU(aU(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);CU(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=sU(aU(e)).link,n=t?sU(aU(t)).deep_link_id:null,r=sU(aU(e)).deep_link_id;return(r?sU(aU(r)).link:null)||r||n||t||e}(e);try{return new BF(t)}catch(n){return null}}}class zF{constructor(){this.providerId=zF.PROVIDER_ID}static credential(e,t){return MF._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=BF.parseLink(t);return CU(n,"argument-error"),MF._fromEmailAndCode(e,n.code,n.tenantId)}}zF.PROVIDER_ID="password",zF.EMAIL_PASSWORD_SIGN_IN_METHOD="password",zF.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class WF extends qF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class HF extends WF{constructor(){super("facebook.com")}static credential(e){return UF._fromParams({providerId:HF.PROVIDER_ID,signInMethod:HF.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return HF.credentialFromTaggedObject(e)}static credentialFromError(e){return HF.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return HF.credential(t.oauthAccessToken)}catch(n){return null}}}HF.FACEBOOK_SIGN_IN_METHOD="facebook.com",HF.PROVIDER_ID="facebook.com";class KF extends WF{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return UF._fromParams({providerId:KF.PROVIDER_ID,signInMethod:KF.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return KF.credentialFromTaggedObject(e)}static credentialFromError(e){return KF.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return KF.credential(n,r)}catch(i){return null}}}KF.GOOGLE_SIGN_IN_METHOD="google.com",KF.PROVIDER_ID="google.com";class GF extends WF{constructor(){super("github.com")}static credential(e){return UF._fromParams({providerId:GF.PROVIDER_ID,signInMethod:GF.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return GF.credentialFromTaggedObject(e)}static credentialFromError(e){return GF.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return GF.credential(t.oauthAccessToken)}catch(n){return null}}}GF.GITHUB_SIGN_IN_METHOD="github.com",GF.PROVIDER_ID="github.com";class QF extends WF{constructor(){super("twitter.com")}static credential(e,t){return UF._fromParams({providerId:QF.PROVIDER_ID,signInMethod:QF.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return QF.credentialFromTaggedObject(e)}static credentialFromError(e){return QF.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return QF.credential(n,r)}catch(i){return null}}}QF.TWITTER_SIGN_IN_METHOD="twitter.com",QF.PROVIDER_ID="twitter.com";class YF{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await iF._fromIdTokenResponse(e,n,r),o=JF(n);return new YF({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=JF(n);return new YF({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function JF(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class XF extends nU{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,XF.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new XF(e,t,n,r)}}function $F(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw XF._fromErrorAndOperation(e,n,t,r);throw n}))}async function ZF(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await $U(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return YF._forOperation(e,"link",r)}async function eV(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await $U(e,$F(r,i,t,e),n);CU(o.idToken,r,"internal-error");const s=XU(o.idToken);CU(s,r,"internal-error");const{sub:a}=s;return CU(e.uid===a,r,"user-mismatch"),YF._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&TU(r,"user-mismatch"),o}}async function tV(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await $F(e,r,t),o=await YF._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}new WeakMap;const nV="__sak";class rV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nV,"1"),this.storage.removeItem(nV),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class iV extends rV{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=tU();return fF(e)||wF(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=_F(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);bF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iV.type="LOCAL";class oV extends rV{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oV.type="SESSION";class sV{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new sV(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function aV(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}sV.receivers=[];class cV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=aV("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function lV(){return window}function uV(){return"undefined"!==typeof lV().WorkerGlobalScope&&"function"===typeof lV().importScripts}const hV="firebaseLocalStorageDb",dV="firebaseLocalStorage",fV="fbase_key";class pV{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function mV(e,t){return e.transaction([dV],t?"readwrite":"readonly").objectStore(dV)}function gV(){const e=indexedDB.open(hV,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(dV,{keyPath:fV})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(dV)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(hV);return new pV(e).toPromise()}(),t(await gV()))}))}))}async function vV(e,t,n){const r=mV(e,!0).put({[fV]:t,value:n});return new pV(r).toPromise()}function yV(e,t){const n=mV(e,!0).delete(t);return new pV(n).toPromise()}class wV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await gV()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sV._getInstance(uV()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new cV(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gV();return await vV(e,nV,"1"),await yV(e,nV),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>vV(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=mV(e,!1).get(t),r=await new pV(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>yV(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=mV(e,!1).getAll();return new pV(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}wV.type="LOCAL";NF("rcb"),new RU(3e4,6e4);const bV="recaptcha";async function _V(e,t,n){var r;const i=await n.verify();try{let o;if(CU("string"===typeof i,e,"argument-error"),CU(n.type===bV,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){CU("enroll"===t.type,e,"internal-error");const n=await function(e,t){return FU(e,"POST","/v2/accounts/mfaEnrollment:start",UU(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{CU("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;CU(n,e,"missing-multi-factor-info");const s=await function(e,t){return FU(e,"POST","/v2/accounts/mfaSignIn:start",UU(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return FU(e,"POST","/v1/accounts:sendVerificationCode",UU(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class EV{constructor(e){this.providerId=EV.PROVIDER_ID,this.auth=kF(e)}verifyPhoneNumber(e,t){return _V(this.auth,e,uU(t))}static credential(e,t){return VF._fromVerification(e,t)}static credentialFromResult(e){const t=e;return EV.credentialFromTaggedObject(t)}static credentialFromError(e){return EV.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?VF._fromTokenResponse(n,r):null}}EV.PROVIDER_ID="phone",EV.PHONE_SIGN_IN_METHOD="phone";class TV extends RF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jF(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jF(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jF(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function IV(e){return tV(e.auth,new TV(e),e.bypassAuthState)}function SV(e){const{auth:t,user:n}=e;return CU(n,t,"internal-error"),eV(n,new TV(e),e.bypassAuthState)}async function kV(e){const{auth:t,user:n}=e;return CU(n,t,"internal-error"),ZF(n,new TV(e),e.bypassAuthState)}class CV{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IV;case"linkViaPopup":case"linkViaRedirect":return kV;case"reauthViaPopup":case"reauthViaRedirect":return SV;default:TU(this.auth,"internal-error")}}resolve(e){NU(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){NU(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xV=new RU(2e3,1e4);class NV extends CV{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,NV.currentPopupAction&&NV.currentPopupAction.cancel(),NV.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return CU(e,this.auth,"internal-error"),e}async onExecution(){NU(1===this.filter.length,"Popup operations only handle one event");const e=aV();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(IU(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(IU(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,NV.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(IU(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,xV.get())};e()}}NV.currentPopupAction=null;new Map;new RU(3e4,6e4);new RU(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);encodeURIComponent("fac");var AV="@firebase/auth",OV="1.5.1";class PV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){CU(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=eU())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");!function(e){Lt(new Fe("auth",((t,n)=>{let{options:r}=n;const i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;CU(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EF(e)},u=new SF(i,o,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sF);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,r),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Lt(new Fe("auth-internal",(e=>(e=>new PV(e))(kF(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(AV,OV,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),Kt(AV,OV,"esm2017")}("Browser");const RV=function(){const[e,t]=r.useState("register"),[n,i]=r.useState(""),[o,s]=r.useState(""),a=X(),[c,l]=r.useState(""),[u,h]=r.useState(!1);return(0,KS.jsxs)(oM,{children:[(0,KS.jsxs)(nM,{widths:"2",children:[(0,KS.jsx)(nM.Item,{active:"register"===e,onClick:()=>{l(""),t("register")},children:"\u8a3b\u518a"}),(0,KS.jsx)(nM.Item,{active:"signin"===e,onClick:()=>{l(""),t("signin")},children:"\u767b\u5165"})]}),(0,KS.jsxs)(Fj,{onSubmit:function(){h(!0),"register"===e?bn.auth().createUserWithEmailAndPassword(n,o).then((()=>{a("/"),h(!1)})).catch((e=>{switch(e.code){case"auth/email-already-in-use":l("\u4fe1\u7bb1\u5df2\u5b58\u5728"),h(!1);break;case"auth/invalid-email":l("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba"),h(!1);break;case"auth/weak-password":l("\u5bc6\u78bc\u5f37\u5ea6\u4e0d\u8db3"),h(!1)}})):"signin"===e&&bn.auth().signInWithEmailAndPassword(n,o).then((()=>{a("/"),h(!1)})).catch((e=>{var t=e.code;switch(console.log(t),t){case"auth/invalid-email":l("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba"),h(!1);break;case"auth/invalid-credential":l("\u6b64\u4fe1\u7bb1\u5c1a\u672a\u8a3b\u518a/\u5bc6\u78bc\u932f\u8aa4"),h(!1);break;case"auth/too-many-requests":l("\u767b\u5165\u6b21\u6578\u8d85\u904e\u9650\u5236 \u8acb\u7a0d\u5f8c\u518d\u8a66"),h(!1)}}))},children:[(0,KS.jsx)(Fj.Input,{label:"\u4fe1\u7bb1",value:n,onChange:e=>i(e.target.value),placeholder:"\u8acb\u8f38\u5165\u4fe1\u7bb1"}),(0,KS.jsx)(Fj.Input,{label:"\u5bc6\u78bc",value:o,onChange:e=>s(e.target.value),placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",type:"password"}),c&&(0,KS.jsx)(Qj,{negative:!0,children:c}),(0,KS.jsxs)(Fj.Button,{loading:u,children:["register"===e&&"\u8a3b\u518a","signin"===e&&"\u767b\u5165"]})]})]})};function DV(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function LV(){return LV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LV.apply(this,arguments)}var MV={exports:{}};!function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new x(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?p:d,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function v(){}function y(){}var w={};c(w,o,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(N([])));_&&_!==n&&r.call(_,o)&&(w=_);var E=y.prototype=g.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,s,a){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:A}}function A(){return{value:t,done:!0}}return v.prototype=y,c(E,"constructor",y),c(y,"constructor",v),v.displayName=c(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,a,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},T(I.prototype),c(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new I(l(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},T(E),c(E,a,"Generator"),c(E,o,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(MV);var jV=MV.exports,UV=function(e){var t=e.paths,n=e.id,i=e.strokeWidth,o=e.strokeColor,s=e.command,a=void 0===s?VV:s;if(1===t.length){var c=t[0],l=c.x,u=c.y,h=i/2;return r.createElement("circle",{key:n,id:n,cx:l,cy:u,r:h,stroke:o,fill:o})}var d=t.reduce((function(e,t,n,r){return 0===n?"M "+t.x+","+t.y:e+" "+a(t,n,r)}),"");return r.createElement("path",{key:n,id:n,d:d,fill:"none",strokeLinecap:"round",stroke:o,strokeWidth:i})},FV=function(e){var t=e.current,n=e.next,r=e.previous,i=e.reverse,o=function(e,t){var n=t.x-e.x,r=t.y-e.y;return{length:Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),angle:Math.atan2(r,n)}}(r||t,n||t),s=o.angle+(i?Math.PI:0),a=.2*o.length;return[t.x+Math.cos(s)*a,t.y+Math.sin(s)*a]},VV=function(e,t,n){var r=null,i=null;switch(t){case 0:var o=FV({current:e});r=o[0],i=o[1];break;case 1:var s=FV({current:n[t-1],next:e});r=s[0],i=s[1];break;default:var a=FV({current:n[t-1],previous:n[t-2],next:e});r=a[0],i=a[1]}var c=FV({current:e,previous:n[t-1],next:n[t+1],reverse:!0});return"C "+r+","+i+" "+c[0]+","+c[1]+" "+e.x+", "+e.y},BV=function(e){var t=e.id,n=e.paths;return r.createElement(r.Fragment,null,n.map((function(e,n){return r.createElement(UV,{key:t+"__"+n,paths:e.paths,id:t+"__"+n,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,command:VV})})))},zV=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){r.width>0&&t(r),n("Image not found")})),r.addEventListener("error",(function(e){return n(e)})),r.src=e,r.setAttribute("crossorigin","anonymous")}))};function qV(e){var t,n=null==(t=e.firstChild)?void 0:t.cloneNode(!0),r=e.offsetWidth,i=e.offsetHeight;return n.setAttribute("viewBox","0 0 "+r+" "+i),n.setAttribute("width",r.toString()),n.setAttribute("height",i.toString()),{svgCanvas:n,width:r,height:i}}var WV=r.forwardRef((function(e,t){var n=e.paths,i=e.isDrawing,o=e.onPointerDown,s=e.onPointerMove,a=e.onPointerUp,c=e.id,l=void 0===c?"react-sketch-canvas":c,u=e.width,h=void 0===u?"100%":u,d=e.height,f=void 0===d?"100%":d,p=e.className,m=void 0===p?"react-sketch-canvas":p,g=e.canvasColor,v=void 0===g?"red":g,y=e.backgroundImage,w=void 0===y?"":y,b=e.exportWithBackgroundImage,_=void 0!==b&&b,E=e.preserveBackgroundImageAspectRatio,T=void 0===E?"none":E,I=e.allowOnlyPointerType,S=void 0===I?"all":I,k=e.style,C=void 0===k?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:k,x=e.svgStyle,N=void 0===x?{}:x,A=r.useRef(null),O=function(e){var t,n,r,i=null==(t=A.current)?void 0:t.getBoundingClientRect(),o=null!=(n=window.scrollX)?n:0,s=null!=(r=window.scrollY)?r:0;return i?{x:e.pageX-i.left-o,y:e.pageY-i.top-s}:{x:0,y:0}},P=function(e){"mouse"===e.pointerType&&0!==e.button||"all"!==S&&e.pointerType!==S||a()};r.useImperativeHandle(t,(function(){return{exportImage:function(e){return new Promise(function(){var t,n=(t=jV.mark((function t(n,r){var i,o,s,a,c,l,u,h;return jV.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=A.current){t.next=4;break}throw Error("Canvas not rendered yet");case 4:return o=qV(i),s=o.svgCanvas,a=o.width,c=o.height,l="data:image/svg+xml;base64,"+btoa(s.outerHTML),t.next=8,zV(l);case 8:if(t.t0=t.sent,u=[t.t0],!_){t.next=21;break}return t.prev=11,t.next=14,zV(w);case 14:h=t.sent,u.push(h),t.next=21;break;case 18:t.prev=18,t.t1=t.catch(11),console.warn("exportWithBackgroundImage props is set without a valid background image URL. This option is ignored");case 21:Promise.all(u).then((function(t){var r=document.createElement("canvas");r.setAttribute("width",a.toString()),r.setAttribute("height",c.toString());var i=r.getContext("2d");if(!i)throw Error("Canvas not rendered yet");t.reverse().forEach((function(e){i.drawImage(e,0,0)})),n(r.toDataURL("image/"+e))})).catch((function(e){throw e})),t.next=27;break;case 24:t.prev=24,t.t2=t.catch(0),r(t.t2);case 27:case"end":return t.stop()}}),t,null,[[0,24],[11,18]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(e){DV(o,r,i,s,a,"next",e)}function a(e){DV(o,r,i,s,a,"throw",e)}s(void 0)}))});return function(e,t){return n.apply(this,arguments)}}())},exportSvg:function(){return new Promise((function(e,t){try{var n,r=null!=(n=A.current)?n:null;if(null!==r){var i,o,s=qV(r).svgCanvas;if(_)return void e(s.outerHTML);null==(i=s.querySelector("#"+l+"__background"))||i.remove(),null==(o=s.querySelector("#"+l+"__canvas-background"))||o.setAttribute("fill",v),e(s.outerHTML)}t(new Error("Canvas not loaded"))}catch(a){t(a)}}))}}})),r.useEffect((function(){return document.addEventListener("pointerup",P),function(){document.removeEventListener("pointerup",P)}}),[P]);var R=n.filter((function(e){return!e.drawMode})),D=0,L=n.reduce((function(e,t){return t.drawMode?(void 0===e[D]&&(e[D]=[]),e[D].push(t),e):(D+=1,e)}),[[]]);return r.createElement("div",{role:"presentation",ref:A,className:m,style:LV({touchAction:"none",width:h,height:f},C),"touch-action":"none",onPointerDown:function(e){if(("all"===S||e.pointerType===S)&&("mouse"!==e.pointerType||0===e.button)){var t=O(e);o(t)}},onPointerMove:function(e){if(i&&("all"===S||e.pointerType===S)){var t=O(e);s(t)}},onPointerUp:P},r.createElement("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:LV({width:"100%",height:"100%"},N),id:l},r.createElement("g",{id:l+"__eraser-stroke-group",display:"none"},r.createElement("rect",{id:l+"__mask-background",x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),R.map((function(e,t){return r.createElement(UV,{key:l+"__eraser-"+t,id:l+"__eraser-"+t,paths:e.paths,strokeColor:"#000000",strokeWidth:e.strokeWidth})}))),r.createElement("defs",null,w&&r.createElement("pattern",{id:l+"__background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse"},r.createElement("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:w,preserveAspectRatio:T})),R.map((function(e,t){return r.createElement("mask",{id:l+"__eraser-mask-"+t,key:l+"__eraser-mask-"+t,maskUnits:"userSpaceOnUse"},r.createElement("use",{href:"#"+l+"__mask-background"}),Array.from({length:R.length-t},(function(e,n){return n+t})).map((function(e){return r.createElement("use",{key:e.toString(),href:"#"+l+"__eraser-"+e.toString()})})))}))),r.createElement("g",{id:l+"__canvas-background-group"},r.createElement("rect",{id:l+"__canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:w?"url(#"+l+"__background)":v})),L.map((function(e,t){return r.createElement("g",{id:l+"__stroke-group-"+t,key:l+"__stroke-group-"+t,mask:"url(#"+l+"__eraser-mask-"+t+")"},r.createElement(BV,{id:l,paths:e}))}))))})),HV=r.forwardRef((function(e,t){var n=e.id,i=void 0===n?"react-sketch-canvas":n,o=e.width,s=void 0===o?"100%":o,a=e.height,c=void 0===a?"100%":a,l=e.className,u=void 0===l?"":l,h=e.canvasColor,d=void 0===h?"white":h,f=e.strokeColor,p=void 0===f?"red":f,m=e.backgroundImage,g=void 0===m?"":m,v=e.exportWithBackgroundImage,y=void 0!==v&&v,w=e.preserveBackgroundImageAspectRatio,b=void 0===w?"none":w,_=e.strokeWidth,E=void 0===_?4:_,T=e.eraserWidth,I=void 0===T?8:T,S=e.allowOnlyPointerType,k=void 0===S?"all":S,C=e.style,x=void 0===C?{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"}:C,N=e.svgStyle,A=void 0===N?{}:N,O=e.onChange,P=void 0===O?function(e){}:O,R=e.onStroke,D=void 0===R?function(e,t){}:R,L=e.withTimestamp,M=void 0!==L&&L,j=r.createRef(),U=r.useState(!0),F=U[0],V=U[1],B=r.useState(!1),z=B[0],q=B[1],W=r.useState([]),H=W[0],K=W[1],G=r.useState([]),Q=G[0],Y=G[1],J=r.useState([]),X=J[0],$=J[1],Z=r.useCallback((function(){var e,t,n=null!=(e=null==(t=X.slice(-1))?void 0:t[0])?e:null;null!==n?D(n,!n.drawMode):console.warn("No stroke found!")}),[z]);r.useEffect((function(){Z()}),[z]),r.useEffect((function(){P(X)}),[X]),r.useImperativeHandle(t,(function(){return{eraseMode:function(e){V(!e)},clearCanvas:function(){K([].concat(X)),$([])},undo:function(){if(0!==H.length)return $([].concat(H)),void K([]);Y((function(e){return[].concat(e,X.slice(-1))})),$((function(e){return e.slice(0,-1)}))},redo:function(){0!==Q.length&&($((function(e){return[].concat(e,Q.slice(-1))})),Y((function(e){return e.slice(0,-1)})))},exportImage:function(e){var t,n=null==(t=j.current)?void 0:t.exportImage;if(n)return n(e);throw Error("Export function called before canvas loaded")},exportSvg:function(){return new Promise((function(e,t){var n,r=null==(n=j.current)?void 0:n.exportSvg;r?r().then((function(t){e(t)})).catch((function(e){t(e)})):t(Error("Export function called before canvas loaded"))}))},exportPaths:function(){return new Promise((function(e,t){try{e(X)}catch(n){t(n)}}))},loadPaths:function(e){$((function(t){return[].concat(t,e)}))},getSketchingTime:function(){return new Promise((function(e,t){M||t(new Error("Set 'withTimestamp' prop to get sketching time"));try{e(X.reduce((function(e,t){var n,r,i=null!=(n=t.startTimestamp)?n:0;return e+((null!=(r=t.endTimestamp)?r:0)-i)}),0))}catch(n){t(n)}}))},resetCanvas:function(){K([]),Y([]),$([])}}}));return r.createElement(WV,{ref:j,id:i,width:s,height:c,className:u,canvasColor:d,backgroundImage:g,exportWithBackgroundImage:y,preserveBackgroundImageAspectRatio:b,allowOnlyPointerType:k,style:x,svgStyle:A,paths:X,isDrawing:z,onPointerDown:function(e){q(!0),Y([]);var t={drawMode:F,strokeColor:F?p:"#000000",strokeWidth:F?E:I,paths:[e]};M&&(t=LV({},t,{startTimestamp:Date.now(),endTimestamp:0})),$((function(e){return[].concat(e,[t])}))},onPointerMove:function(e){if(z){var t=X.slice(-1)[0],n=LV({},t,{paths:[].concat(t.paths,[e])});$((function(e){return[].concat(e.slice(0,-1),[n])}))}},onPointerUp:function(){var e,t;if(z&&(q(!1),M)){var n=null!=(e=null==(t=X.slice(-1))?void 0:t[0])?e:null;if(null!==n){var r=LV({},n,{endTimestamp:Date.now()});$((function(e){return[].concat(e.slice(0,-1),[r])}))}}}})}));const KV=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},GV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(KV(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new QV;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class QV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YV=function(e){return function(e){const t=KV(e);return GV.encodeByteArray(t,!0)}(e).replace(/\./g,"")},JV=function(e){try{return GV.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const XV=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,$V=()=>{try{return XV()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Avatar-classroom",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&JV(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ZV=e=>{const t=(e=>{var t,n;return null===(n=null===(t=$V())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]};class eB extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,eB.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tB.prototype.create)}}class tB{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(nB,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new eB(n,o,t)}}const nB=/\{\$([^}]+)}/g;function rB(e){return e&&e._delegate?e._delegate:e}const iB="firebasestorage.googleapis.com",oB="storageBucket";class sB extends eB{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(lB(e),"Firebase Storage: ".concat(t," (").concat(lB(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sB.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lB(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var aB,cB;function lB(e){return"storage/"+e}function uB(){return new sB(aB.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function hB(){return new sB(aB.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dB(){return new sB(aB.CANCELED,"User canceled the upload/download.")}function fB(){return new sB(aB.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pB(e){return new sB(aB.INVALID_ARGUMENT,e)}function mB(){return new sB(aB.APP_DELETED,"The Firebase app was deleted.")}function gB(e,t){return new sB(aB.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function vB(e){throw new sB(aB.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(aB||(aB={}));class yB{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=yB.makeFromUrl(e,t)}catch(i){return new yB(e,"")}if(""===n.path)return n;throw r=e,new sB(aB.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===iB?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new yB(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new sB(aB.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class wB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function bB(e){return"string"===typeof e||e instanceof String}function _B(e){return EB()&&e instanceof Blob}function EB(){return"undefined"!==typeof Blob}function TB(e,t,n,r){if(r<t)throw pB("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw pB("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function IB(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function SB(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function kB(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(cB||(cB={}));class CB{constructor(e,t,n,r,i,o,s,a,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new xB(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===cB.NO_ERROR,i=n.getStatus();if(!t||kB(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===cB.ABORT;return void e(!1,new xB(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new xB(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=uB();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?mB():dB())}else{r(hB())}};this.canceled_?t(0,new xB(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){o&&clearTimeout(o)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||s)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class xB{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function NB(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function AB(){const e=NB();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(EB())return new Blob(n);throw new sB(aB.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function OB(e){if("undefined"===typeof atob)throw t="base-64",new sB(aB.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const PB={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RB{constructor(e,t){this.data=e,this.contentType=t||null}}function DB(e,t){switch(e){case PB.RAW:return new RB(LB(t));case PB.BASE64:case PB.BASE64URL:return new RB(MB(e,t));case PB.DATA_URL:return new RB(function(e){const t=new jB(e);return t.base64?MB(PB.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw gB(PB.DATA_URL,"Malformed data URL.")}return LB(t)}(t.rest)}(t),new jB(t).contentType)}throw uB()}function LB(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function MB(e,t){switch(e){case PB.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw gB(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case PB.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw gB(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=OB(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw gB(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class jB{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw gB(PB.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class UB{constructor(e,t){let n=0,r="";_B(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(_B(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new UB(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new UB(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(EB()){const e=t.map((e=>e instanceof UB?e.data_:e));return new UB(AB.apply(null,e))}{const e=t.map((e=>bB(e)?DB(PB.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new UB(r,!0)}}uploadData(){return this.data_}}function FB(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function VB(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function BB(e,t){return t}class zB{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||BB}}let qB=null;function WB(){if(qB)return qB;const e=[];e.push(new zB("bucket")),e.push(new zB("generation")),e.push(new zB("metageneration")),e.push(new zB("name","fullPath",!0));const t=new zB("name");t.xform=function(e,t){return function(e){return!bB(e)||e.length<2?e:VB(e)}(t)},e.push(t);const n=new zB("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new zB("timeCreated")),e.push(new zB("updated")),e.push(new zB("md5Hash",null,!0)),e.push(new zB("cacheControl",null,!0)),e.push(new zB("contentDisposition",null,!0)),e.push(new zB("contentEncoding",null,!0)),e.push(new zB("contentLanguage",null,!0)),e.push(new zB("contentType",null,!0)),e.push(new zB("metadata","customMetadata",!0)),qB=e,qB}function HB(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new yB(n,r);return t._makeStorageReference(i)}})}(r,e),r}function KB(e,t,n){const r=FB(t);if(null===r)return null;return HB(e,r,n)}function GB(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class QB{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function YB(e){if(!e)throw uB()}function JB(e,t){return function(n,r){const i=KB(e,r,t);return YB(null!==i),i}}function XB(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new sB(aB.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new sB(aB.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new sB(aB.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new sB(aB.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function $B(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ZB(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=$B(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+GB(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=UB.getBlob(l,r,u);if(null===h)throw fB();const d={name:c.fullPath},f=IB(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new QB(f,"POST",JB(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=XB(t),m}let ez=null;class tz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cB.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=cB.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=cB.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw vB("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vB("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vB("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw vB("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vB("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class nz extends tz{initXhr(){this.xhr_.responseType="text"}}function rz(){return ez?ez():new nz}class iz{constructor(e,t){this._service=e,this._location=t instanceof yB?t:yB.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new iz(e,t)}get root(){const e=new yB(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VB(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new yB(this._location.bucket,e);return new iz(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new sB(aB.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function oz(e,t,n){e._throwIfRoot("uploadBytes");const r=ZB(e.storage,e._location,WB(),new UB(t,!0),n);return e.storage.makeRequestWithTokens(r,rz).then((t=>({metadata:t,ref:e})))}function sz(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new yB(e._location.bucket,n);return new iz(e.storage,r)}function az(e,t){if(e instanceof hz){const n=e;if(null==n._bucket)throw new sB(aB.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oB+"' property when initializing the app?");const r=new iz(n,n._bucket);return null!=t?az(r,t):r}return void 0!==t?sz(e,t):e}function cz(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof hz)return new iz(e,t);throw pB("To use ref(service, url), the first argument must be a Storage instance.")}return az(e,t)}function lz(e,t){const n=null===t||void 0===t?void 0:t[oB];return null==n?null:yB.makeFromBucketSpec(n,e)}function uz(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[YV(JSON.stringify({alg:"none",type:"JWT"})),YV(JSON.stringify(o)),""].join(".")}(i,e.app.options.projectId))}class hz{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=iB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?yB.makeFromBucketSpec(r,this._host):lz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=yB.makeFromBucketSpec(this._url,e):this._bucket=lz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TB("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TB("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new iz(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new wB(mB());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=SB(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new CB(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const dz="@firebase/storage",fz="0.12.0",pz="storage";function mz(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new hz(r,i,o,n,Bt)}Lt(new Fe(pz,mz,"PUBLIC").setMultipleInstances(!0)),Kt(dz,fz,""),Kt(dz,fz,"esm2017");const gz=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt(),t=arguments.length>1?arguments[1]:void 0;e=rB(e);const n=Mt(e,pz).getImmediate({identifier:t}),r=ZV("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};uz(e,t,n,r)}(n,...r),n}();function vz(e){let{fieldName:t,type:n="text",canvasProps:r,setCanvasProps:i,displayName:o}=e;const s="validation".concat(t);return(0,KS.jsxs)("div",{className:"p-0 col-10",children:[(0,KS.jsx)("label",{htmlFor:s,className:"form-label",children:o}),(0,KS.jsx)("input",{name:t,type:n,className:"form-control",id:s,value:r[t],onChange:e=>{let{target:n}=e;i((e=>({...e,[t]:n.value})))},min:1,max:30})]})}const yz=function(){const[e,t]=r.useState(""),[n,i]=r.useState(null);r.useEffect((()=>{const e=window.location.href.lastIndexOf("=")+1,n=window.location.href.substring(e);t(n);const r=window.location.href.lastIndexOf("/")+1,o=window.location.href.substring(r),s=(a=gz,c="svgs/".concat(o+".svg"),cz(a=rB(a),c));var a,c;i(s)}),[]);const[o,s]=r.useState({className:"react-sketch-canvas",width:"100%",height:"450PX",backgroundImage:"https://upload.wikimedia.org/wikipedia/commons/7/70/Graph_paper_scan_1600x1000_%286509259561%29.jpg",preserveBackgroundImageAspectRatio:"none",strokeWidth:4,eraserWidth:5,strokeColor:"#000000",canvasColor:"#FFFFFF",style:{borderRight:"1px solid #CCC"},svgStyle:{},exportWithBackgroundImage:!1,withTimestamp:!0,allowOnlyPointerType:"all",withViewBox:!1}),a=r.createRef(),[c,l]=r.useState(""),[u,h]=r.useState("outline-"),[d,f]=r.useState(""),[p,m]=r.useState(""),[g,v]=r.useState([]),[y,w]=r.useState({stroke:null,isEraser:null}),[b,_]=r.useState("png"),[E,T]=(0,r.useState)(!1),I=(e,t,n,r,i)=>(0,KS.jsx)("button",{className:"btn btn-".concat(r).concat(n," ").concat(i," mb-3 btn-lg"),type:"button",onClick:t,children:e},e),S=[["\u5fa9\u539f",()=>{var e;const t=null===(e=a.current)||void 0===e?void 0:e.undo;t&&t()},"primary","outline-",""],["\u53d6\u6d88\u5fa9\u539f",()=>{var e;const t=null===(e=a.current)||void 0===e?void 0:e.redo;t&&t()},"primary","outline-",""],["\u6e05\u9664\u756b\u677f",()=>{var e;const t=null===(e=a.current)||void 0===e?void 0:e.clearCanvas;t&&t()},"primary","outline-",""]],k=[["\u5b8c\u6210",async()=>{var e;const t=null===(e=a.current)||void 0===e?void 0:e.exportSvg;if(t){var r=await t();m(r),T(!0),console.log(r),r=r.replace('<rect id="react-sketch-canvas__mask-background" x="0" y="0" width="100%" height="100%" fill="white"></rect></g><defs></defs><g id="react-sketch-canvas__canvas-background-group"><rect id="react-sketch-canvas__canvas-background" x="0" y="0" width="100%" height="100%" fill="#FFFFFF"></rect>',"");const e=new Blob([r],{type:"image/svg+xml"});(function(e,t,n){return oz(e=rB(e),t,n)})(n,e).then((e=>{console.log("SVG upload to Firebase succeed")})).catch((e=>{console.error("SVG upload to Firebase failed",e)}))}},"success","","mr-3"]],C=[["\u4e0b\u4e00\u6b65",()=>{E?window.location.href="/Avatar-classroom/#".concat(e):alert("\u8acb\u5148\u756b\u5716\u4e26\u6309\u5b8c\u6210")},"success","","mr-3"]];return(0,KS.jsx)("main",{className:"container-fluid p-2 justify-content-center",children:(0,KS.jsx)("div",{className:"row",children:(0,KS.jsxs)("section",{className:"col-12",children:[(0,KS.jsx)("div",{class:"row justify-content-center",children:(0,KS.jsx)("h1",{children:"\u756b\u51fa\u4f60\u7684\u865b\u64ec\u5316\u8eab"})}),(0,KS.jsx)("section",{className:"row no-gutters canvas-area m-1 p-0",children:(0,KS.jsx)("div",{className:"col-12 canvas p-0",children:(0,KS.jsx)(HV,{ref:a,onChange:e=>{v(e)},onStroke:(e,t)=>w({stroke:e,isEraser:t}),...o})})}),(0,KS.jsx)("form",{className:"d-flex flex-column align-items-center",children:(0,KS.jsxs)("div",{class:"row justify-content-center",children:[(0,KS.jsx)("div",{className:"col-12 panel d-flex flex-column align-items-center mt-2",children:(0,KS.jsx)("div",{class:"btn-group",role:"group","aria-label":"buttonsWithHandlers",children:S.map((e=>{let[t,n,r,i,o]=e;return I(t,n,r,i,o)}))})}),(0,KS.jsx)("div",{className:"col-12 panel d-flex flex-column align-items-center",children:(0,KS.jsxs)("div",{children:[(0,KS.jsx)("div",{class:"btn-group",role:"group","aria-label":"buttonsDone",children:k.map((e=>{let[t,n,r,i,o]=e;return I(t,n,r,i,o)}))}),(0,KS.jsx)("div",{class:"btn-group",role:"group","aria-label":"buttonsNext",children:C.map((e=>{let[t,n,r,i,o]=e;return I(t,n,r,i,o)}))})]})}),(0,KS.jsx)("div",{className:"col-10 d-flex flex-column align-items-center",children:[["strokeWidth","range","\u756b\u7b46\u7c97\u7d30"]].map((e=>{let[t,n,r]=e;return(0,KS.jsx)(vz,{fieldName:t,displayName:r,type:n,canvasProps:o,setCanvasProps:s},t)}))})]})})]})})})};function wz(e){var t=e.children,n=e.className,i=e.content,o=tC("sub header",n),s=hC(wz,e),a=dC(wz,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?i:t)}wz.handledProps=["as","children","className","content"],wz.propTypes={},wz.create=Xx(wz,(function(e){return{content:e}}));const bz=wz;function _z(e){var t=e.children,n=e.className,i=e.content,o=tC("content",n),s=hC(_z,e),a=dC(_z,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?i:t)}_z.handledProps=["as","children","className","content"],_z.propTypes={};const Ez=_z;function Tz(e){var t=e.attached,n=e.block,i=e.children,o=e.className,s=e.color,a=e.content,c=e.disabled,l=e.dividing,u=e.floated,h=e.icon,d=e.image,f=e.inverted,p=e.size,m=e.sub,g=e.subheader,v=e.textAlign,y=tC("ui",s,p,iC(n,"block"),iC(c,"disabled"),iC(l,"dividing"),oC(u,"floated"),iC(!0===h,"icon"),iC(!0===d,"image"),iC(f,"inverted"),iC(m,"sub"),sC(t,"attached"),cC(v),"header",o),w=hC(Tz,e),b=dC(Tz,e);if(!CP(i))return r.createElement(b,_n({},w,{className:y}),i);var _=RP.create(h,{autoGenerateKey:!1}),E=nR.create(d,{autoGenerateKey:!1}),T=bz.create(g,{autoGenerateKey:!1});return _||E?r.createElement(b,_n({},w,{className:y}),_||E,(a||T)&&r.createElement(Ez,null,a,T)):r.createElement(b,_n({},w,{className:y}),a,T)}Tz.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],Tz.propTypes={},Tz.Content=Ez,Tz.Subheader=bz;const Iz=Tz;function Sz(e){var t=e.children,n=e.className,i=e.compact,o=e.content,s=e.horizontal,a=e.piled,c=e.raised,l=e.size,u=e.stacked,h=tC("ui",l,iC(i,"compact"),iC(s,"horizontal"),iC(a,"piled"),iC(c,"raised"),iC(u,"stacked"),"segments",n),d=hC(Sz,e),f=dC(Sz,e);return r.createElement(f,_n({},d,{className:h}),CP(t)?o:t)}Sz.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],Sz.propTypes={};const kz=Sz;function Cz(e){var t=e.children,n=e.className,i=e.content,o=tC("inline",n),s=hC(Cz,e),a=dC(Cz,e);return r.createElement(a,_n({},s,{className:o}),CP(t)?i:t)}Cz.handledProps=["as","children","className","content"],Cz.propTypes={};const xz=Cz;function Nz(e){var t=e.attached,n=e.basic,i=e.children,o=e.circular,s=e.className,a=e.clearing,c=e.color,l=e.compact,u=e.content,h=e.disabled,d=e.floated,f=e.inverted,p=e.loading,m=e.placeholder,g=e.padded,v=e.piled,y=e.raised,w=e.secondary,b=e.size,_=e.stacked,E=e.tertiary,T=e.textAlign,I=e.vertical,S=tC("ui",c,b,iC(n,"basic"),iC(o,"circular"),iC(a,"clearing"),iC(l,"compact"),iC(h,"disabled"),iC(f,"inverted"),iC(p,"loading"),iC(m,"placeholder"),iC(v,"piled"),iC(y,"raised"),iC(w,"secondary"),iC(_,"stacked"),iC(E,"tertiary"),iC(I,"vertical"),sC(t,"attached"),sC(g,"padded"),cC(T),oC(d,"floated"),"segment",s),k=hC(Nz,e),C=dC(Nz,e);return r.createElement(C,_n({},k,{className:S}),CP(i)?u:i)}Nz.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],Nz.Group=kz,Nz.Inline=xz,Nz.propTypes={};const Az=Nz;const Oz=function(e){let{user:t}=e;const[n,i]=r.useState(!1),[o,s]=r.useState(!1),[a,c]=r.useState(""),[l,u]=r.useState(!1),[h,d]=r.useState(""),[f,p]=r.useState("");return(0,KS.jsxs)(oM,{children:[(0,KS.jsxs)(KS.Fragment,{children:[(0,KS.jsx)(Iz,{children:"\u6211\u7684\u6a94\u6848"}),(0,KS.jsxs)(Iz,{size:"small",children:["\u4f7f\u7528\u8005\u540d\u7a31",(0,KS.jsx)(mR,{floated:"right",onClick:()=>i(!0),children:"\u4fee\u6539"})]}),(0,KS.jsx)(Az,{vertical:!0,children:t.displayName}),(0,KS.jsxs)(OR,{basic:!0,open:n,size:"mini",children:[(0,KS.jsx)(OR.Header,{children:"\u4fee\u6539\u4f7f\u7528\u8005\u540d\u7a31"}),(0,KS.jsx)(OR.Content,{children:(0,KS.jsx)(Sj,{placeholder:"\u8f38\u5165\u65b0\u7684\u4f7f\u7528\u8005\u540d\u7a31",value:a,onChange:e=>c(e.target.value),fluid:!0})}),(0,KS.jsxs)(OR.Actions,{children:[(0,KS.jsx)(mR,{onClick:()=>i(!1),children:"\u53d6\u6d88"}),(0,KS.jsx)(mR,{onClick:function(){u(!0),t.updateProfile({displayName:a}).then((()=>{c(""),i(!1),u(!1)}))},loading:l,children:"\u4fee\u6539"})]})]})]}),(0,KS.jsxs)(KS.Fragment,{children:[(0,KS.jsxs)(Iz,{size:"small",children:["\u4fee\u6539\u5bc6\u78bc",(0,KS.jsx)(mR,{floated:"right",onClick:()=>s(!0),children:"\u4fee\u6539"})]}),(0,KS.jsx)(Az,{vertical:!0,children:"********"}),(0,KS.jsxs)(OR,{basic:!0,size:"mini",open:o,children:[(0,KS.jsx)(OR.Header,{children:"\u4fee\u6539\u4f7f\u7528\u8005\u5bc6\u78bc"}),(0,KS.jsxs)(OR.Content,{children:[(0,KS.jsx)(OR.Header,{size:"small",children:"\u76ee\u524d\u5bc6\u78bc"}),(0,KS.jsx)(Sj,{placeholder:"\u8f38\u5165\u820a\u5bc6\u78bc",value:h,onChange:e=>d(e.target.value),fluid:!0}),(0,KS.jsx)(Iz,{}),(0,KS.jsx)(OR.Header,{size:"small",children:"\u65b0\u5bc6\u78bc"}),(0,KS.jsx)(Sj,{placeholder:"\u8f38\u5165\u65b0\u5bc6\u78bc",value:f,onChange:e=>p(e.target.value),fluid:!0})]}),(0,KS.jsxs)(OR.Actions,{children:[(0,KS.jsx)(mR,{onClick:()=>s(!1),children:"\u53d6\u6d88"}),(0,KS.jsx)(mR,{onClick:function(){u(!0);const e=bn.auth.EmailAuthProvider.credential(t.email,h);t.reauthenticateWithCredential(e).then((()=>{t.updatePassword(f).then((()=>{s(!1),d(""),p(""),u(!1)}))}))},loading:l,children:"\u4fee\u6539"})]})]})]})]})},Pz="styles_hero_heading__SlFPn",Rz="styles_small_note__DhjVq",Dz={videobox:"RwdYoutube_videobox__oRNS6"};function Lz(e){let{src:t}=e;return(0,KS.jsx)("div",{className:Dz.videobox,children:(0,KS.jsx)("iframe",{frameBorder:"0",src:t,allowFullScreen:"true",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"})})}const Mz=function(){const[e,t]=(0,r.useState)(null);return r.useEffect((()=>{bn.auth().onAuthStateChanged((e=>{t(e)}))})),(0,KS.jsxs)(oM,{style:{width:"100%",height:"100vh"},children:[(0,KS.jsx)(sN,{centered:!0,style:{marginTop:"100px"},children:(0,KS.jsx)("div",{style:{fontWeight:"bold",fontSize:60,color:"#152544"},children:"Avatar"})}),(0,KS.jsx)(sN,{centered:!0,style:{marginTop:"60px"},children:(0,KS.jsx)("div",{style:{fontWeight:"bold",fontSize:60,color:"#152544"},children:"Classroom"})}),(0,KS.jsx)(sN,{centered:!0,style:{marginTop:"60px"},children:(0,KS.jsx)("div",{style:{fontSize:30},children:"\u70ba\u60a8\u63d0\u4f9b\u4e00\u500b\u5168\u65b0"})}),(0,KS.jsx)(sN,{centered:!0,style:{marginTop:"40px"},children:(0,KS.jsx)("div",{style:{fontSize:30},children:"\u6559\u5b78\u6e2c\u9a57\u6a21\u5f0f"})}),(0,KS.jsx)(sN,{centered:!0,style:{marginTop:"40px"},children:(0,KS.jsx)("div",{style:{fontSize:30},children:"\u8acb\u642d\u914d webcam \u4f7f\u7528"})}),e?(0,KS.jsx)(KS.Fragment,{}):(0,KS.jsx)(sN,{centered:!0,style:{marginTop:"40px"},children:(0,KS.jsx)(mR,{color:"positive",size:"large",as:Te,to:"/signin",children:"\u7acb\u5373\u8a3b\u518a/\u767b\u5165"})}),(0,KS.jsx)(sN,{centered:!0,style:{marginTop:"40px"},children:(0,KS.jsx)(sN.Column,{width:12,children:(0,KS.jsx)(Lz,{src:"https://www.youtube.com/embed/tiz7wmd3hVI?si=ahy36OFD6OKGsMiv;autoplay=1&mute=1",controls:!0,width:"100%"})})}),(0,KS.jsx)("br",{}),(0,KS.jsxs)(sN,{style:{marginTop:"120px"},children:[(0,KS.jsxs)(sN.Column,{floated:"left",width:10,children:[(0,KS.jsx)("div",{className:Rz,children:"\u88fd\u4f5c\u4eba\u540d\u55ae"}),(0,KS.jsx)("div",{className:Rz,children:"\u5433\u627f\u8ed2\xa0\u9673\u82e1\u929c\xa0\u891a\u5e1b\u8aed\xa0\u6d2a\u9e92\u7965"})]}),(0,KS.jsxs)(sN.Column,{floated:"right",width:6,children:[(0,KS.jsx)("div",{className:Rz,style:{textAlign:"right"},children:"In Memory of"}),(0,KS.jsx)("div",{className:Rz,style:{textAlign:"right"},children:"\u6d2a\u9e92\u7965"})]})]})]})},jz=e=>(new YS).list({shortCode:String(e),state:QS.STATE_WAITING_FOR_PLAYERS});const Uz=function(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)("");return e.length>1?(0,KS.jsx)(GS,{maxWidth:500,verticalCentered:!0,children:(0,KS.jsx)(Hk,{children:e.map((e=>(0,KS.jsx)(Te,{to:"/join/".concat(e.id),children:(0,KS.jsx)(Jk,{tag:"button",action:!0,children:e.name})},e.id)))})}):1===e.length?(0,KS.jsx)(he,{to:"/join/".concat(e[0].id)}):(0,KS.jsxs)(GS,{maxWidth:500,verticalCentered:!0,children:[(0,KS.jsx)("h1",{className:Pz,children:"Avatar Classroom"}),(0,KS.jsxs)(Bn,{className:"mb-5",onSubmit:e=>{e.preventDefault(),jz(n).then(t)},children:[(0,KS.jsxs)(Hn,{children:[(0,KS.jsx)(Zn,{for:"shortCode",children:"\u623f\u9593\u4ee3\u78bc:"}),(0,KS.jsx)(rr,{id:"shortCode",type:"number",value:n,onChange:e=>i(e.target.value)})]}),(0,KS.jsx)(ar,{color:"primary",disabled:!n,type:"submit",children:"\u52a0\u5165\u623f\u9593"})]}),(0,KS.jsxs)("aside",{hidden:!0,children:["Want to create your own quiz?\xa0",(0,KS.jsx)(Te,{to:"/login",children:"Sign Up"})]})]})};const Fz=function(){const[e,t]=r.useState(null);return r.useEffect((()=>{bn.auth().onAuthStateChanged((e=>{t(e)}))})),(0,KS.jsxs)(be,{children:[(0,KS.jsx)(rM,{}),(0,KS.jsx)("div",{className:"App",children:(0,KS.jsxs)(pe,{children:[(0,KS.jsx)(de,{path:"/login",element:(0,KS.jsx)(BR,{})},BR.id),(0,KS.jsx)(de,{path:"/",exact:!0,element:(0,KS.jsx)(Mz,{})},Mz.id),(0,KS.jsx)(de,{path:"/signin",exact:!0,element:(0,KS.jsx)(RV,{})},RV.id),(0,KS.jsx)(de,{path:"/join-s",exact:!0,element:(0,KS.jsx)(Uz,{})}),(0,KS.jsx)(de,{path:"/lobby/:gameId",element:(0,KS.jsx)(DR,{})},DR.id),(0,KS.jsx)(de,{path:"/play/:gameId/as/:playerId",element:(0,KS.jsx)(Bk,{})},Bk.id),(0,KS.jsx)(de,{path:"/join/:gameId",element:(0,KS.jsx)($S,{})},$S.id),(0,KS.jsx)(de,{path:"/games/create",element:(0,KS.jsx)(KR,{})},KR.id),(0,KS.jsx)(de,{path:"/games/:gameId",element:(0,KS.jsx)(wD,{})},wD.id),(0,KS.jsx)(de,{path:"/games",exact:!0,element:(0,KS.jsx)(WR,{})},WR.id),(0,KS.jsx)(de,{path:"/draw",exact:!0,element:(0,KS.jsx)(yz,{})},yz.id),(0,KS.jsx)(de,{path:"/settings",exact:!0,element:(0,KS.jsx)(Oz,{user:e})},Oz.id),(0,KS.jsx)(de,{path:"/host/:gameId/questions/pending",element:(0,KS.jsx)(TD,{})},TD.id),(0,KS.jsx)(de,{path:"/host/:gameId/questions/current",element:(0,KS.jsx)(YD,{})},YD.id),(0,KS.jsx)(de,{path:"/host/:gameId/results/final",element:(0,KS.jsx)(HD,{})},HD.id),(0,KS.jsx)(de,{path:"/host/:gameId/results/:questionId",element:(0,KS.jsx)(jD,{})},jD.id)]})})]})};o.render((0,KS.jsx)(Fz,{}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.5a41acbc.js.map