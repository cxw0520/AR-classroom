{"version":3,"sources":["view_components/CenteredContainer/styles.module.css","routes/HomeRoute/styles.module.css","component/RwdYoutube.module.css","utils/firebase.js","store/BaseStore.js","store/PlayerStore.js","use_cases/addPlayer.js","view_components/CenteredContainer/index.js","entities/Game.js","store/GameStore.js","use_cases/getGame.js","routes/JoinRoute.js","use_cases/getPlayer.js","store/AnswerStore.js","utils/popKey.js","store/QuestionStore.js","use_cases/addAnswer.js","routes/PlayerRoute.js","use_cases/getLobbyPlayers.js","routes/LobbyRoute.js","store/UserStore.js","use_cases/signupUser.js","use_cases/loginUser.js","routes/LoginRoute.js","use_cases/getCurrentUser.js","use_cases/getCurrentUserGames.js","routes/MyGamesRoute.js","use_cases/createGame.js","routes/CreateGameRoute.js","use_cases/getQuestions.js","use_cases/saveQuestion.js","use_cases/deleteQuestion.js","view_components/EditableQuestion.js","routes/GameDetailsRoute.js","use_cases/startNextQuestion.js","utils/calculateTimeLeft.js","routes/PendingQuestionRoute.js","use_cases/getQuestion.js","use_cases/calculateQuestionResults.js","use_cases/countTotalQuestions.js","routes/QuestionResultsRoute.js","use_cases/calculateFinalResults.js","routes/FinalResultsRoute.js","use_cases/showCurrentQuestion.js","view_components/Question.js","routes/CurrentQuestionRoute.js","Header.js","pages/Signin.js","pages/Draw.js","pages/MySettings.js","component/RwdYoutube.js","pages/Mainpage.js","use_cases/findGamesByShortCode.js","pages/JoinS.js","App.js","index.js","pages/styles.module.css"],"names":["module","exports","centered","hero_heading","videobox","firebase","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","REACT_APP_FIREBASE_CONFIG","BaseStore","_createClass","props","_classCallCheck","this","undefined","firestore","auth","PlayerStore","_BaseStore","_inherits","_super","_createSuper","apply","arguments","key","value","playerId","scopes","collection","doc","gameId","get","then","_convertDocToPlayer","attributes","chain","add","playerRef","_this","onChange","limit","onSnapshot","playersSnapshot","players","forEach","playerDoc","push","snapshot","docs","map","p","_convertDocToQuestion","Object","assign","id","data","addPlayer","create","CenteredContainer","React","createElement","Container","className","styles","style","maxWidth","height","verticalCentered","children","Game","GameStore","state","STATE_DRAFT","ref","_convertDocToGame","_getGameDoc","gameDoc","_this2","where","ownerId","shortCode","a","currentQuestion","currentQuestionId","update","game","path","getGame","JoinForm","_ref","playerName","setPlayerName","joinGame","Form","onSubmit","e","preventDefault","FormGroup","Label","Input","sanitizedInput","target","replace","pattern","title","Button","color","type","JoinRoute","playUrl","useParams","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","setPlayerId","_useState5","_useState6","setGame","useEffect","set","name","console","log","catch","error","window","location","concat","getPlayer","AnswerStore","_popAttr","questionId","player","join","question","answerRef","_convertDocToAnswer","answerDoc","obj","attr","val","popKey","QuestionStore","addAttrs","questionDoc","attributesCopy","qnRef","qnDoc","_this3","from","orderBy","q","addAttributes","addAnswer","questionStore","timestamp","Date","getTime","isCorrect","correctAnswer","choice","AnswerGrid","recordAnswer","isAnswerDisabled","Row","ans","Col","sm","md","onClick","disabled","PlayerRoute","_useParams","currentGame","setCurrentGame","answer","setAnswer","_useState7","_useState8","errorMessage","setErrorMessage","_useState9","_useState10","setIsAnswerDisabled","handleGameChange","setTimeout","SECONDS_TO_CHOOSE","Alert","Fragment","getLobbyPlayers","playerStore","list","_regeneratorRuntime","t","r","prototype","n","hasOwnProperty","o","defineProperty","i","Symbol","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","Context","makeInvokeMethod","tryCatch","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","PlayerList","fontSize","fontWeight","Spinner","ListGroup","ListGroupItem","QRCode","_ref2","imageSize","qrcodeData","setQRCodeData","canvasRef","useRef","imageRef","QRUrl","href","_ref3","_asyncToGenerator","_callee","url","dataURL","_context","qrcode","toDataURL","t0","_x","generateQRCode","canvas","current","ctx","getContext","img","Image","src","onload","clearRect","width","drawImage","display","alt","LobbyRoute","setPlayers","currentUrl","origin","displayUrl","joinUrl","isModalOpen","setIsModalOpen","Grid","columns","Column","rel","verticalAlign","outline","Modal","basic","open","onClose","close","Link","to","size","UserStore","email","password","createUserWithEmailAndPassword","userCredentials","firebaseUser","user","_convertUser","errorCode","code","message","alert","signInWithEmailAndPassword","handleChange","onAuthStateChanged","uid","signupUser","loginUser","login","handleSubmit","event","authFn","successCallback","SignupForm","onUserChange","setEmail","setPassword","for","LoginForm","LoginRoute","isExistingUser","setIsExistingUser","_useState11","_useState12","setUser","toggleForm","Navigate","getCurrentUser","userStore","onCurrentUserChange","getCurrentUserGames","gameStore","MyGamesRoute","games","setGames","redirectUrl","setRedirectUrl","tag","action","createGame","String","Math","floor","random","CreateGameRoute","gameName","setGameName","gameAttributes","onCreate","getQuestions","saveQuestion","deleteQuestion","db","deleteDoc","reload","_x2","EditableQuestion","draftQuestion","setDraftQuestion","componentState","setComponentState","updateDraft","newAttributes","handleDeleteQuestion","Card","body","CardTitle","InputGroup","placeholder","text","ansKey","InputGroupAddon","addonType","InputGroupText","_defineProperty","data-testid","hidden","GameDetailsRoute","questions","setQuestions","editMode","setEditMode","navigate","useNavigate","handleDeleteGame","marginBottom","order","newQn","startNextQuestion","nextOrder","questionArray","tickTimer","endDate","intervalCallback","endedCallback","timeLeft","date","difference","now","calculateTimeLeft","startTimer","seconds","PendingQuestionRoute","parentUrl","setTimeLeft","nextQuestion","setNextQuestion","ceil","getQuestion","calculateQuestionResults","answerStore","answers","results","A","B","C","D","latestAnswers","reduce","acc","countTotalQuestions","isCorrectChoice","ResultBoard","result","entries","inverse","CardBody","CardText","QuestionResultsRoute","_ref4","setResult","setQuestion","totalQuestionCount","setTotalQuestionCount","calculateFinalResults","filter","curr","sortScores","b","score1","score2","Leaderboard","scores","sort","index","Badge","FinalResultsRoute","setResults","showCurrentQuestion","Question","ShowResultsBtn","isVisible","linkTo","CurrentQuestionRoute","Header","_React$useState","_React$useState2","currentUser","Menu","Item","as","position","signOut","Signin","activeItem","setActiveItem","_React$useState3","_React$useState4","_React$useState5","_React$useState6","_React$useState7","_React$useState8","_React$useState9","_React$useState10","isLoading","setIsLoading","widths","active","label","Message","negative","loading","storage","getStorage","InputField","fieldName","_ref$type","canvasProps","setCanvasProps","htmlFor","prevCanvasProps","_objectSpread","min","max","Draw","setPlayUrl","svgRef","setSvgRef","equalParam","lastIndexOf","substring","lastParam","SID","computedSvgRef","backgroundImage","preserveBackgroundImageAspectRatio","strokeWidth","eraserWidth","strokeColor","canvasColor","borderRight","svgStyle","exportWithBackgroundImage","withTimestamp","allowOnlyPointerType","withViewBox","createRef","penButtonOutline","setPenButtonOutline","eraserButtonOutline","setEraserButtonOutline","_React$useState11","_React$useState12","_React$useState13","_React$useState14","setSVG","_React$useState15","_React$useState16","setPaths","_React$useState17","stroke","isEraser","_React$useState18","setLastStroke","_React$useState19","_React$useState20","isDone","setIsDone","createButton","handler","themeColor","spacingClass","buttonsPenEraser","_canvasRef$current2","eraseMode","_canvasRef$current3","buttonsWithHandlers","_canvasRef$current4","undo","_canvasRef$current5","redo","_canvasRef$current6","clearCanvas","_canvasRef$current7","resetCanvas","buttonsDone","_canvasRef$current","exportSvg","exportedDataURI","blob","Blob","uploadBytes","buttonsNext","class","ReactSketchCanvas","updatedPaths","onStroke","role","aria-label","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","MySettings","isNameModalOpen","setIsNameModalOpen","isPasswordModalOpen","setIsPasswordModalOpen","setDisplayName","oldPassword","setOldPassword","newPassword","setNewPassword","floated","Segment","vertical","Content","fluid","Actions","updateProfile","credential","EmailAuthProvider","reauthenticateWithCredential","updatePassword","RwdYoutube","frameBorder","allowFullScreen","Mainpage","marginTop","controls","small_note","textAlign","findGamesByShortCode","STATE_WAITING_FOR_PLAYERS","JoinS","setShortCode","App","HashRouter","Routes","Route","element","exact","ReactDOM","render","document","getElementById","nomal_text"],"mappings":"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","file":"static/js/main.69b9cc16.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"centered\":\"styles_centered__3iYAP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hero_heading\":\"styles_hero_heading__1Twp7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videobox\":\"RwdYoutube_videobox__Z9csr\"};","import firebase from 'firebase/compat/app';\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAUlqVFqNfKTY34UCA0_jt9kHlTqMgDzi0\",\r\n    authDomain: \"ar-classroom-1bb48.firebaseapp.com\",\r\n    projectId: \"ar-classroom-1bb48\",\r\n    storageBucket: \"ar-classroom-1bb48.appspot.com\",\r\n    messagingSenderId: \"801778279327\",\r\n    appId: \"1:801778279327:web:e63f67b115057a5e2c53aa\",\r\n    measurementId: \"G-DEC44C4SPG\"\r\n  };\r\n\r\n  if (!firebase.apps.length) {\r\n    firebase.initializeApp(firebaseConfig);\r\n    // firebase.firestore.setLogLevel('debug');\r\n  }\r\n\r\n\r\nexport default firebase;","import firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/firestore';\r\nimport 'firebase/compat/auth'\r\n\r\nconst REACT_APP_FIREBASE_CONFIG = {\r\n    apiKey: \"AIzaSyAUlqVFqNfKTY34UCA0_jt9kHlTqMgDzi0\",\r\n    authDomain: \"ar-classroom-1bb48.firebaseapp.com\",\r\n    projectId: \"ar-classroom-1bb48\",\r\n    storageBucket: \"ar-classroom-1bb48.appspot.com\",\r\n    messagingSenderId: \"801778279327\",\r\n    appId: \"1:801778279327:web:e63f67b115057a5e2c53aa\",\r\n    measurementId: \"G-DEC44C4SPG\"\r\n};\r\n\r\n//const FIREBASE_CONFIG = REACT_APP_FIREBASE_CONFIG;\r\n\r\n\r\nclass BaseStore {\r\n  constructor(props) {\r\n    // workaround to prevent initializing multiple times\r\n    if(firebase.apps !== undefined){\r\n      if (!firebase.apps.length) {\r\n        firebase.initializeApp(REACT_APP_FIREBASE_CONFIG);\r\n        // firebase.firestore.setLogLevel('debug');\r\n      }\r\n    }\r\n    \r\n\r\n    this.firestore = firebase.firestore();\r\n    this.auth = firebase.auth();\r\n  }\r\n}\r\n\r\nexport default BaseStore;\r\n","import BaseStore from './BaseStore';\r\n\r\nclass PlayerStore extends BaseStore {\r\n  get(playerId, scopes = {}) {\r\n    return this.firestore\r\n      .collection('games')\r\n      .doc(scopes.gameId)\r\n      .collection('players')\r\n      .doc(playerId)\r\n      .get()\r\n      .then(this._convertDocToPlayer)\r\n  }\r\n\r\n  create(attributes = {}) {\r\n    let chain = this.firestore;\r\n    if ('gameId' in attributes) {\r\n      const gameId = attributes.gameId;\r\n      delete attributes.gameId;\r\n\r\n      chain = chain.collection('games').doc(gameId).collection('players');\r\n    }\r\n\r\n    return chain\r\n      .add(attributes)\r\n      .then(playerRef => playerRef.get())\r\n      .then(this._convertDocToPlayer)\r\n  }\r\n\r\n  list(scopes = {}, onChange) {\r\n    let chain = this.firestore;\r\n    if ('gameId' in scopes) {\r\n      chain = chain.collection('games').doc(scopes.gameId);\r\n    }\r\n    chain = chain.collection('players');\r\n\r\n    if ('limit' in scopes) {\r\n      chain = chain.limit(scopes.limit);\r\n    }\r\n\r\n    if (onChange !== undefined) {\r\n      return chain.onSnapshot(playersSnapshot => {\r\n        let players = [];\r\n        playersSnapshot.forEach(playerDoc => players.push(this._convertDocToPlayer(playerDoc)));\r\n        onChange(players);\r\n      });\r\n    }\r\n\r\n    return chain\r\n      .get()\r\n      .then(snapshot => snapshot.docs.map((p) => this._convertDocToQuestion(p)))\r\n  }\r\n\r\n  _convertDocToPlayer(playerDoc) {\r\n    return Object.assign({ id: playerDoc.id }, playerDoc.data());\r\n  }\r\n}\r\n\r\nexport default PlayerStore;\r\n","import PlayerStore from '../store/PlayerStore';\r\n\r\n\r\nconst addPlayer = (attributes) => {\r\n  return new PlayerStore().create(attributes);\r\n};\r\n\r\nexport default addPlayer;\r\n","import React from 'react';\r\nimport { Container } from 'reactstrap';\r\n\r\nimport styles from './styles.module.css';\r\n\r\n/**\r\n * Vertically and horizontally centered container. Parent height should be 100%.\r\n */\r\nconst CenteredContainer = props => {\r\n  return (\r\n    <Container className={styles.centered} style={{ maxWidth: props.maxWidth || null, height: props.verticalCentered ? \"100%\" : null }}>\r\n      {props.children}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CenteredContainer;\r\n\r\n","export default class Game {\r\n  static get STATE_DRAFT() { return 'draft' }\r\n  static get STATE_WAITING_FOR_PLAYERS() { return 'waitingForPlayers' }\r\n}\r\n","import BaseStore from './BaseStore';\r\nimport Game from '../entities/Game';\r\n\r\n\r\nclass GameStore extends BaseStore {\r\n  create(attributes = {}) {\r\n    return this.firestore\r\n      .collection('games')\r\n      .add(Object.assign({ state: Game.STATE_DRAFT }, attributes))\r\n      .then(ref => ref.get())\r\n      .then(this._convertDocToGame)\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {String} gameId\r\n   * @param {Function} onChange - if provided, will trigger when Game is updated\r\n   * @returns\r\n   * @memberof GameStore\r\n   */\r\n  get(gameId, onChange) {\r\n    const doc = this._getGameDoc(gameId)\r\n\r\n    if (onChange !== undefined) {\r\n      return doc.onSnapshot(gameDoc => onChange(this._convertDocToGame(gameDoc)));\r\n    }\r\n\r\n    return doc.get().then(this._convertDocToGame);\r\n  }\r\n\r\n  list(scopes = {}) {\r\n    let chain = this.firestore.collection('games');\r\n\r\n    if ('ownerId' in scopes) {\r\n      // FIXME: ideally this would be independent of the gameId\r\n      chain = chain.where(\"ownerId\", \"==\", scopes.ownerId);\r\n    }\r\n\r\n    if ('state' in scopes) {\r\n      chain = chain.where(\"state\", \"==\", scopes.state);\r\n    }\r\n\r\n    if ('shortCode' in scopes) {\r\n      chain = chain.where(\"shortCode\", \"==\", scopes.shortCode);\r\n    }\r\n\r\n    if ('limit' in scopes) {\r\n      chain = chain.limit(scopes.limit);\r\n    }\r\n\r\n    return chain\r\n      .get()\r\n      .then(snapshot => snapshot.docs.map((a) => this._convertDocToGame(a)))\r\n  }\r\n\r\n  update(gameId, attributes) {\r\n    const doc = this._getGameDoc(gameId);\r\n\r\n    if ('currentQuestionId' in attributes) {\r\n      attributes.currentQuestion = doc.collection('questions').doc(attributes.currentQuestionId);\r\n      delete attributes.currentQuestionId;\r\n    }\r\n\r\n    return doc.update(attributes);\r\n  }\r\n\r\n  _getGameDoc(gameId) {\r\n    return this.firestore\r\n      .collection('games')\r\n      .doc(gameId);\r\n  }\r\n\r\n  _convertDocToGame(gameDoc) {\r\n    let game = Object.assign({ id: gameDoc.id }, gameDoc.data());\r\n    if ('currentQuestion' in game) {\r\n      game.currentQuestionId = game.currentQuestion.id;\r\n      game.currentQuestion = game.currentQuestion.path;  // TODO: remove this\r\n    }\r\n    return game;\r\n  }\r\n}\r\n\r\nexport default GameStore;\r\n","import GameStore from '../store/GameStore';\r\n\r\n\r\nconst getGame = (gameId, onChange) => {\r\n  return new GameStore().get(gameId, onChange);\r\n};\r\n\r\nexport default getGame;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams } from \"react-router-dom\"\r\nimport { Button, FormGroup, Label, Input, Form } from 'reactstrap';\r\nimport firebase from \"../utils/firebase\";\r\n\r\nimport addPlayer from '../use_cases/addPlayer';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\nimport getGame from '../use_cases/getGame';\r\n\r\n\r\n\r\nconst JoinForm = ({ playerName, setPlayerName, joinGame }) => {\r\n  const handleInputChange = (e) => {\r\n    const inputValue = e.target.value;\r\n    const sanitizedInput = inputValue.replace(/[^a-zA-Z0-9!@#$%^&*()_+{}\\[\\]:;<>,.?~\\\\/-]+/g, '');\r\n    setPlayerName(sanitizedInput);\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={e => {\r\n      e.preventDefault();\r\n      joinGame();\r\n    }}>\r\n      <FormGroup>\r\n        <Label>輸入你的暱稱:</Label>\r\n        <Input\r\n          value={playerName}\r\n          onChange={handleInputChange}\r\n          pattern=\"[a-zA-Z0-9!@#$%^&*()_+{}\\[\\]:;<>,.?~\\\\/-]+\"\r\n          title=\"只能輸入英文及符號及數字\"\r\n        />\r\n      </FormGroup>\r\n      <Button color=\"primary\" type=\"submit\">加入房間</Button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nconst JoinRoute = () => {\r\n  let { gameId } = useParams();\r\n  const [playerName, setPlayerName] = useState('');\r\n  const [playerId, setPlayerId] = useState('');\r\n  const [game, setGame] = useState(null);\r\n  let playUrl = \"\";\r\n\r\n  useEffect(() => {\r\n    if (playerId) {\r\n      const db = firebase.firestore();\r\n      const sidCollection = db.collection('SID'); \r\n\r\n      sidCollection.doc(playerId).set({\r\n        name: playerName,\r\n        id: playerId\r\n      })\r\n      .then(() => {\r\n        console.log(\"Player data stored in Firestore!\");\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error storing player data: \", error);\r\n      });\r\n    }\r\n  }, [playerId, playerName]);\r\n\r\n  useEffect(() => {\r\n    if (gameId && game === null) {\r\n      getGame(gameId).then(setGame);\r\n    }\r\n  }, [gameId, game])\r\n\r\n  playUrl =  \"?playUrl=/play/\" + gameId + \"/as/\" + playerId;\r\n\r\n  const redirectToPlay = () => {\r\n    window.location.replace(`/Avatar-classroom/#/draw${playUrl}`);\r\n  };\r\n\r\n  return (\r\n    <CenteredContainer maxWidth={500} verticalCentered>\r\n      <h1>{game ? game.name : null}</h1>\r\n      {playerId ? (\r\n          redirectToPlay()\r\n       ) : (\r\n          <JoinForm\r\n            playerName={playerName}\r\n            setPlayerName={setPlayerName}\r\n            joinGame={() => addPlayer({ name: playerName, gameId }).then(p => setPlayerId(p.id))}\r\n          />\r\n      )}\r\n    </CenteredContainer>\r\n  )\r\n  \r\n}\r\n\r\nexport default JoinRoute\r\n","import PlayerStore from '../store/PlayerStore';\r\n\r\n\r\nconst getPlayer = (playerId, scopes = {}) => {\r\n  return new PlayerStore().get(playerId, scopes);\r\n};\r\n\r\nexport default getPlayer;\r\n","import BaseStore from './BaseStore';\r\n\r\nclass AnswerStore extends BaseStore {\r\n  /**\r\n   * Creates an Answer.\r\n   *\r\n   * @param {Object} attributes - `gameId` will be used to nest the subcollection\r\n   *  and generate a fully qualified reference for `playerId` and `questionId`\r\n   * @returns Object - an \"Answer\" object\r\n   * @memberof AnswerStore\r\n   */\r\n  create(attributes) {\r\n    const gameId = this._popAttr(attributes, 'gameId');\r\n    const playerId = this._popAttr(attributes, 'playerId');\r\n    const questionId = this._popAttr(attributes, 'questionId');\r\n\r\n    const subcollection = this.firestore\r\n      .collection('games')\r\n      .doc(gameId)\r\n      .collection('answers');\r\n\r\n    return subcollection\r\n      .add(Object.assign({\r\n        player: this.firestore.doc(['/games', gameId, 'players', playerId].join('/')),\r\n        question: this.firestore.doc(['/games', gameId, 'questions', questionId].join('/'))\r\n      }, attributes))\r\n      .then(answerRef => answerRef.get())\r\n      .then(this._convertDocToAnswer)\r\n  }\r\n\r\n  list(scopes = {}) {\r\n    let chain = this.firestore;\r\n\r\n    if ('gameId' in scopes) {\r\n      chain = chain.collection('games').doc(scopes.gameId);\r\n    }\r\n    chain = chain.collection('answers');\r\n\r\n    if ('questionId' in scopes) {\r\n      // FIXME: ideally this would be independent of the gameId\r\n      chain = chain.where(\"question\", \"==\", this.firestore.doc(`games/${scopes.gameId}/questions/${scopes.questionId}`));\r\n    }\r\n\r\n    if ('limit' in scopes) {\r\n      chain = chain.limit(scopes.limit);\r\n    }\r\n\r\n    return chain\r\n      .get()\r\n      .then(snapshot => snapshot.docs.map((a) => this._convertDocToAnswer(a)))\r\n  }\r\n\r\n  _convertDocToAnswer(answerDoc) {\r\n    return Object.assign({ id: answerDoc.id }, answerDoc.data());\r\n  }\r\n\r\n  _popAttr(obj, attr) {\r\n    const val = obj[attr];\r\n    delete obj[attr];\r\n    return val;\r\n  }\r\n}\r\n\r\nexport default AnswerStore;\r\n","export function popKey(obj, key) {\r\n  const value = obj[key];\r\n  delete obj[key];\r\n  return value;\r\n}\r\n","import BaseStore from './BaseStore';\r\nimport { popKey } from '../utils/popKey';\r\n\r\nclass QuestionStore extends BaseStore {\r\n  /**\r\n   * Retrieves a Question from the store\r\n   *\r\n   * @param {string} questionId - if a scope is not provided, this must be a\r\n   *   fully qualified ref, as there is no top-level questions collection.\r\n   * @param {Object} [scopes={}]\r\n   * @returns Object\r\n   * @memberof QuestionStore\r\n   */\r\n  get(questionId, scopes = {}) {\r\n    let chain = this.firestore;\r\n    let addAttrs = {};\r\n\r\n    if ('gameId' in scopes) {\r\n      chain = chain.collection('games').doc(scopes.gameId).collection('questions');\r\n      addAttrs['gameId'] = scopes.gameId;\r\n    }\r\n\r\n    return chain\r\n      .doc(questionId)\r\n      .get()\r\n      .then(questionDoc => this._convertDocToQuestion(questionDoc, addAttrs));\r\n  }\r\n\r\n  create(attributes) {\r\n    let attributesCopy = Object.assign({}, attributes);\r\n    const gameId = popKey(attributesCopy, 'gameId');\r\n\r\n    let collection = this.firestore.collection('games').doc(gameId).collection('questions');\r\n\r\n    return collection\r\n      .add(attributesCopy)\r\n      .then(qnRef => qnRef.get())\r\n      .then(qnDoc => this._convertDocToQuestion(qnDoc, { gameId }));\r\n  }\r\n\r\n  /**\r\n   * Update an object\r\n   *\r\n   * @param {String} questionId\r\n   * @param {Object} attributes\r\n   * @returns Promise<void>\r\n   * @memberof QuestionStore\r\n   */\r\n  update(questionId, attributes) {\r\n    let attributesCopy = Object.assign({}, attributes);\r\n    const gameId = popKey(attributesCopy, 'gameId');\r\n\r\n    let doc = this.firestore.collection('games').doc(gameId).collection('questions').doc(questionId);\r\n\r\n    return doc.update(attributesCopy);\r\n  }\r\n\r\n  list(scopes = {}) {\r\n    let chain = this.firestore;\r\n    let addAttrs = {};\r\n\r\n    if ('gameId' in scopes) {\r\n      chain = chain.collection('games').doc(scopes.gameId).collection('questions');\r\n      addAttrs['gameId'] = scopes.gameId;\r\n    }\r\n    if ('from' in scopes) {\r\n      chain = chain.where(\"order\", \">\", scopes.from);\r\n    }\r\n\r\n    chain = chain.orderBy(\"order\");\r\n\r\n    if ('limit' in scopes) {\r\n      chain = chain.limit(scopes.limit);\r\n    }\r\n\r\n    return chain\r\n      .get()\r\n      .then(snapshot => snapshot.docs.map((q) => this._convertDocToQuestion(q, addAttrs)));\r\n  }\r\n\r\n  _convertDocToQuestion(questionDoc, addAttributes = {}) {\r\n    return Object.assign({ id: questionDoc.id }, questionDoc.data(), addAttributes);\r\n  }\r\n}\r\n\r\nexport default QuestionStore;\r\n","import GameStore from '../store/GameStore';\r\nimport AnswerStore from '../store/AnswerStore';\r\nimport QuestionStore from '../store/QuestionStore';\r\n\r\n\r\n/**\r\n * Saves an Answer.\r\n *\r\n * @param {Object} attributes\r\n * @returns Object - an \"Answer\"\r\n */\r\nconst addAnswer = (attributes) => {\r\n  const questionStore = new QuestionStore();\r\n  const timestamp = new Date().getTime();\r\n\r\n  return new GameStore()\r\n    .get(attributes.gameId)\r\n    .then(game => {\r\n      return questionStore.get(game.currentQuestionId, { gameId: game.id });\r\n    })\r\n    .then(question => {\r\n      attributes.isCorrect = question.correctAnswer === attributes.choice;\r\n      attributes.questionId = question.id;\r\n      attributes.timestamp = timestamp;\r\n      console.log(attributes)\r\n      return new AnswerStore().create(attributes);\r\n    })\r\n};\r\n\r\nexport default addAnswer;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams } from \"react-router-dom\"\r\nimport { Button, Row, Col, Alert } from 'reactstrap';\r\n\r\nimport getPlayer from '../use_cases/getPlayer';\r\nimport addAnswer from '../use_cases/addAnswer';\r\nimport getGame from '../use_cases/getGame';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\n\r\nconst SECONDS_TO_CHOOSE = 3;\r\n\r\n\r\nconst AnswerGrid = ({ recordAnswer, isAnswerDisabled }) => {\r\n  return (\r\n    <Row>\r\n      {\r\n        ['A', 'B', 'C', 'D'].map((ans) =>\r\n          <Col sm={12} md={6} className=\"mb-4\" key={ans}>\r\n            <Button\r\n              className=\"w-100 h-100\"\r\n              onClick={() => recordAnswer(ans)}\r\n              disabled={isAnswerDisabled}>\r\n                <strong>{ans}</strong>\r\n            </Button>\r\n          </Col>\r\n        )\r\n      }\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst PlayerRoute = () => {\r\n  let { gameId, playerId } = useParams()\r\n  const [currentGame, setCurrentGame] = useState();\r\n  const [playerName, setPlayerName] = useState('')\r\n  const [answer, setAnswer] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n  const [isAnswerDisabled, setIsAnswerDisabled] = useState(false);\r\n\r\n  const handleGameChange = (game) => {\r\n    if (game) {\r\n      // workaround to clear answer\r\n      setAnswer(null);\r\n      setCurrentGame(game);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (gameId && playerId) {\r\n      getGame(gameId, handleGameChange);\r\n      getPlayer(playerId, { gameId })\r\n        .then(player => setPlayerName(player.name))\r\n    }\r\n  }, [gameId, playerId])\r\n\r\n  const recordAnswer = ans => {\r\n    // playerName is for convenience later, though it feels a little like this knows more about the store than it should\r\n    if (isAnswerDisabled) {\r\n      // If answer selection is disabled, do nothing\r\n      return;\r\n    }\r\n    setIsAnswerDisabled(true); // Disable answer selection\r\n    addAnswer({ playerId, playerName, gameId, choice: ans })\r\n      .then(answer => {\r\n        setAnswer(answer);\r\n        setTimeout(() => {\r\n          setAnswer(null); // Clear the answer after the timeout\r\n          setIsAnswerDisabled(false); // Enable answer selection after the timeout\r\n        }, SECONDS_TO_CHOOSE * 1000);\r\n      })\r\n      .catch(e => {\r\n        setErrorMessage(e);\r\n        setTimeout(() => {\r\n          setErrorMessage('');\r\n          setIsAnswerDisabled(false); // Enable answer selection after an error\r\n        }, 5000);\r\n      });\r\n    }\r\n\r\n  switch (currentGame ? currentGame.state : null) {\r\n    case 'pendingQuestion':\r\n      return (\r\n        <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n          準備回答下一題...請看投影喔!\r\n        </CenteredContainer>\r\n      )\r\n    case 'showingQuestion':\r\n      /*if (answer) {\r\n        return (\r\n          <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n            你選了 {answer.choice}!\r\n          </CenteredContainer>\r\n        )\r\n      }*/\r\n\r\n      return (\r\n        <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n          <Row className=\"mb-4\">\r\n            <Col sm={12}>\r\n              <h2>Hi {playerName}!</h2>\r\n              <h3>看投影選擇答案:</h3>\r\n            </Col>\r\n          </Row>\r\n          <AnswerGrid recordAnswer={recordAnswer} isAnswerDisabled={isAnswerDisabled}/>\r\n          {errorMessage ? <Alert color=\"danger\">{errorMessage}</Alert> : null}\r\n          {answer && isAnswerDisabled ? (\r\n            \r\n            <Row className=\"mb-4\">\r\n              <Col sm={12}>\r\n                <h2>你選了 {answer.choice}!</h2>                \r\n              </Col>\r\n            </Row>\r\n          ) : (\r\n            <></>\r\n          )\r\n          }\r\n          \r\n        </CenteredContainer>\r\n      );\r\n    case 'showingQuestionResults':\r\n      return (\r\n        <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n          <div>顯示回答結果...請看投影喔!</div>\r\n        </CenteredContainer>\r\n      );\r\n\r\n    default:\r\n      return (\r\n        <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n          等待課程開始...開始後請看投影喔!\r\n        </CenteredContainer>\r\n      )\r\n  }\r\n}\r\n\r\nexport default PlayerRoute\r\n","import PlayerStore from '../store/PlayerStore';\r\nimport GameStore from '../store/GameStore';\r\n\r\n\r\nconst getLobbyPlayers = (gameId, onChange, playerStore = new PlayerStore(), gameStore = new GameStore()) => {\r\n  gameStore.update(gameId, { state: 'waitingForPlayers' });\r\n  return playerStore.list({ gameId }, onChange);\r\n};\r\n\r\nexport default getLobbyPlayers;\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { useParams, Link } from \"react-router-dom\"\r\nimport { Button, ListGroup, ListGroupItem, Spinner } from 'reactstrap';\r\nimport qrcode from \"qrcode\";\r\nimport getLobbyPlayers from '../use_cases/getLobbyPlayers';\r\nimport getGame from '../use_cases/getGame';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\nimport styles from './HomeRoute/styles.module.css'\r\nimport { Grid, Modal } from 'semantic-ui-react';\r\n\r\n\r\nconst PlayerList = ({ players }) => {\r\n  return (\r\n    <div>\r\n      <a style={{fontSize: 28, fontWeight: \"bold\"}}>正在等待學生加入</a>\r\n      <Spinner\r\n        color=\"dark\"\r\n        type=\"grow\"\r\n      >\r\n        Loading...\r\n      </Spinner>\r\n      <h1>已有&nbsp;<a className=\"display-3\">{players.length}</a>&nbsp;位學生加入</h1>\r\n      <ListGroup>\r\n        {\r\n          players.map(player => (\r\n            <ListGroupItem key={player.id}>{player.name}</ListGroupItem>\r\n          ))\r\n        }\r\n      </ListGroup>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst QRCode = ({ imageSize }) => {\r\n  const [qrcodeData, setQRCodeData] = useState(null);\r\n  const canvasRef = useRef(null);\r\n  const imageRef = useRef(null);\r\n  const currentUrl = window.location.href;\r\n  const QRUrl = currentUrl.replace(\"lobby\", \"join\");\r\n\r\n  useEffect(() => {\r\n    const generateQRCode = async (url) => {\r\n      try {\r\n        const dataURL = await qrcode.toDataURL(url);\r\n        setQRCodeData(dataURL);\r\n      } catch (error) {\r\n        console.error(\"QR code generation error:\", error);\r\n      }\r\n    };\r\n\r\n    generateQRCode(QRUrl);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (qrcodeData) {\r\n      const canvas = canvasRef.current;\r\n      const ctx = canvas.getContext(\"2d\");\r\n      const img = new Image();\r\n      img.src = qrcodeData;\r\n\r\n      img.onload = () => {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx.drawImage(img, 0, 0);\r\n      };\r\n    }\r\n  }, [qrcodeData]);\r\n\r\n  return (\r\n    <div className=\"qr-code-container\">\r\n      <canvas ref={canvasRef} width={imageSize} height={imageSize} style={{ display: 'none' }}/>\r\n      <img ref={imageRef} src={qrcodeData} alt=\"QR Code\" className=\"qr-code-image\" style={{ width: imageSize, height: imageSize }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst LobbyRoute = props => {\r\n  let { gameId } = useParams();\r\n  const [players, setPlayers] = useState([]);\r\n  const [game, setGame] = useState(null);\r\n  const currentUrl = window.location.origin;\r\n  const displayUrl = `${currentUrl.replace(\"https://\", \"\")}/Avatar-classroom/#/join-s/`;\r\n  const joinUrl = `${currentUrl}/Avatar-classroom/#/join-s/`;\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (gameId) {\r\n      getLobbyPlayers(gameId, setPlayers);\r\n      getGame(gameId).then(setGame);\r\n    }\r\n  }, [gameId])\r\n\r\n  return (\r\n    <Grid>\r\n      \r\n      <Grid.Row centered columns={2}>\r\n        \r\n        <Grid.Column className='mr-2' width={7}>\r\n          <Grid.Row>\r\n          <CenteredContainer verticalCentered={true} maxWidth={800}>\r\n            \r\n            <h2>\r\n              加入遊戲請前往\r\n              <br/>\r\n              <a href={joinUrl} rel=\"noopener noreferrer\" target=\"_blank\">{displayUrl}</a> \r\n              <br/>\r\n              並輸入房間代碼\r\n            </h2>\r\n          </CenteredContainer>\r\n          </Grid.Row>\r\n          <Grid.Row verticalAlign='middle'>\r\n            <CenteredContainer verticalCentered={true} maxWidth={800}>\r\n              <br/>\r\n            <h1 className={styles.hero_heading} style={{fontSize:60}}>\r\n              <strong>{game ? game.shortCode : \"___\"}</strong>\r\n            </h1>\r\n            </CenteredContainer>\r\n          </Grid.Row>\r\n        </Grid.Column>\r\n        <Grid.Column width={3}>\r\n          <h2>\r\n            或掃描 QR code&nbsp;\r\n            <Button \r\n              outline\r\n              color=\"dark\"\r\n              onClick={() => setIsModalOpen(true)}\r\n            >\r\n              放大\r\n            </Button>\r\n          </h2>\r\n          <Modal basic open={isModalOpen} onClose={() => setIsModalOpen(false)}>\r\n            <Button\r\n              close\r\n              color='primary'\r\n              onClick={() => setIsModalOpen(false)}\r\n            ></Button>\r\n            <CenteredContainer>\r\n              <QRCode imageSize=\"700px\"/>\r\n            </CenteredContainer>\r\n          </Modal>\r\n          <QRCode />\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n      <Grid.Row>\r\n        <CenteredContainer verticalCentered={true} maxWidth={800}>\r\n            <Link to={`/host/${gameId}/questions/pending`}>\r\n              <Button size='lg' color=\"primary\">開始</Button>\r\n            </Link>\r\n        </CenteredContainer>\r\n      </Grid.Row>\r\n      <Grid.Row>\r\n        <CenteredContainer verticalCentered={true} maxWidth={800}>\r\n          <PlayerList players={players} />\r\n        </CenteredContainer>\r\n      </Grid.Row>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default LobbyRoute\r\n","import BaseStore from './BaseStore';\r\n\r\nclass UserStore extends BaseStore {\r\n  create(attributes = {}) {\r\n    const { email, password } = attributes;\r\n\r\n    return this.auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(userCredentials => {\r\n        const firebaseUser = userCredentials.user;\r\n        return this._convertUser(firebaseUser);\r\n      })\r\n      .catch((error) => {\r\n        // Handle Errors here.\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        // auth/email-already-in-use\r\n        // auth/invalid-email\r\n        // auth/operation-not-allowed\r\n        if (errorCode === 'auth/weak-password') {\r\n          alert('The password is too weak.');\r\n        } else {\r\n          alert(errorMessage);\r\n        }\r\n      });\r\n  }\r\n\r\n  login({ email, password }) {\r\n    return this.auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(userCredentials => {\r\n        const firebaseUser = userCredentials.user;\r\n        return this._convertUser(firebaseUser);\r\n      })\r\n      .catch((error) => {\r\n        // Handle Errors here.\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        // auth/email-already-in-use\r\n        // auth/invalid-email\r\n        // auth/operation-not-allowed\r\n        if (errorCode === 'auth/weak-password') {\r\n          alert('The password is too weak.');\r\n        } else {\r\n          alert(errorMessage);\r\n        }\r\n      });\r\n  }\r\n\r\n  onCurrentUserChange(handleChange) {\r\n    this.auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        handleChange(this._convertUser(user));\r\n      }\r\n    })\r\n  }\r\n\r\n  _convertUser(firebaseUser) {\r\n    return {\r\n      id: firebaseUser.uid,\r\n      email: firebaseUser.email,\r\n      name: firebaseUser.displayName,\r\n    };\r\n  }\r\n}\r\n\r\nexport default UserStore;\r\n","import UserStore from \"../store/UserStore\";\r\n\r\nconst signupUser = ({ email, password }) => {\r\n  const userStore = new UserStore();\r\n\r\n  return userStore.create({ email, password });\r\n}\r\n\r\nexport default signupUser;\r\n","import UserStore from \"../store/UserStore\";\r\n\r\nconst loginUser = ({ email, password }) => {\r\n  const userStore = new UserStore();\r\n\r\n  return userStore.login({ email, password });\r\n}\r\n\r\nexport default loginUser;\r\n","import React, { useState } from 'react'\r\nimport { Navigate } from \"react-router-dom\"\r\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\r\nimport signupUser from '../use_cases/signupUser';\r\nimport loginUser from '../use_cases/loginUser';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\nconst handleSubmit = (event, { email, password, authFn, successCallback }) => {\r\n  event.preventDefault();\r\n  authFn({ email, password })\r\n    .then(user => successCallback(user))\r\n}\r\n\r\nconst SignupForm = ({ onUserChange }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  return (\r\n    <Form className=\"mb-5\" onSubmit={f => handleSubmit(f, { email, password, authFn: signupUser, successCallback: onUserChange })}>\r\n      <FormGroup>\r\n        <Label for=\"email\">Email:</Label>\r\n        <Input id=\"email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Password:</Label>\r\n        <Input type=\"password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)} />\r\n      </FormGroup>\r\n      <Button color=\"primary\">Sign Up</Button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst LoginForm = ({ onUserChange }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  return (\r\n    <Form className=\"mb-5\" onSubmit={f => handleSubmit(f, { email, password, authFn: loginUser, successCallback: onUserChange })}>\r\n      <FormGroup>\r\n        <Label for=\"email\">Email:</Label>\r\n        <Input id=\"email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Password:</Label>\r\n        <Input type=\"password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)} />\r\n      </FormGroup>\r\n      <Button color=\"primary\">Login</Button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst LoginRoute = props => {\r\n  const [isExistingUser, setIsExistingUser] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n\r\n  const toggleForm = event => {\r\n    event.preventDefault();\r\n    setIsExistingUser(!isExistingUser);\r\n  }\r\n\r\n  if (user) {\r\n    return <Navigate to='/games' />\r\n  } else if (isExistingUser) {\r\n    return (\r\n      <CenteredContainer maxWidth={500} verticalCentered>\r\n        <h1>Login to Cahoots!</h1>\r\n        <LoginForm onUserChange={setUser} />\r\n        <div>\r\n          No account? <br />\r\n          <Button color=\"link\" onClick={toggleForm}>Sign Up!</Button>\r\n        </div>\r\n      </CenteredContainer>\r\n    );\r\n  } else {\r\n    return (\r\n      <CenteredContainer maxWidth={500} verticalCentered>\r\n        <h1>Signup for Cahoots!</h1>\r\n        <SignupForm onUserChange={setUser} />\r\n        <div>\r\n          Have an account? <br />\r\n          <Button color=\"link\" onClick={toggleForm}>Login</Button>\r\n        </div>\r\n      </CenteredContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginRoute\r\n","import UserStore from \"../store/UserStore\";\r\n\r\nconst getCurrentUser = () => {\r\n  const userStore = new UserStore();\r\n\r\n  return new Promise(resolve => userStore.onCurrentUserChange(resolve));\r\n}\r\n\r\nexport default getCurrentUser;\r\n","\r\nimport GameStore from \"../store/GameStore\";\r\nimport getCurrentUser from \"./getCurrentUser\";\r\n\r\n\r\nconst getCurrentUserGames = () => {\r\n  const gameStore = new GameStore();\r\n\r\n  return getCurrentUser().then(user => user ? gameStore.list({ ownerId: user.id }) : null);\r\n}\r\n\r\nexport default getCurrentUserGames;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Container, ListGroup, ListGroupItem } from 'reactstrap';\r\nimport getCurrentUserGames from '../use_cases/getCurrentUserGames';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\n\r\nconst MyGamesRoute = () => {\r\n  const [games, setGames] = useState([]);\r\n  const [redirectUrl, setRedirectUrl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getCurrentUserGames().then(setGames);\r\n  }, []);\r\n\r\n  if (redirectUrl) {\r\n    return <Navigate to={redirectUrl} />;\r\n  } else {\r\n    return (\r\n      <Container style={{maxWidth: \"500px\"}}>\r\n        <h1>我的課程</h1>\r\n        <ListGroup>\r\n          {\r\n            games.map(game => (\r\n              <ListGroupItem\r\n                key={game.id}\r\n                onClick={() => setRedirectUrl(`/games/${game.id}`)}\r\n                tag=\"button\"\r\n                action\r\n              >\r\n                {game.name}\r\n              </ListGroupItem>\r\n            ))\r\n          }\r\n          <ListGroupItem\r\n            onClick={() => setRedirectUrl('/games/create')}\r\n            tag=\"button\"\r\n            color=\"info\"\r\n            action\r\n          >\r\n            創建新課程\r\n          </ListGroupItem>\r\n        </ListGroup>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MyGamesRoute\r\n","import GameStore from '../store/GameStore';\r\n\r\n\r\nconst createGame = (attributes, gameStore = new GameStore()) => {\r\n  // generate a random shortcode\r\n  const shortCode = String(Math.floor(Math.random() * Math.floor(9999)));\r\n  return gameStore.create(Object.assign({ shortCode }, attributes));\r\n};\r\n\r\nexport default createGame;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Container, FormGroup, Label, Input, Button } from 'reactstrap';\r\nimport getCurrentUser from '../use_cases/getCurrentUser';\r\nimport createGame from '../use_cases/createGame';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\n\r\nconst save = (gameAttributes, onCreate) => {\r\n  return createGame(gameAttributes).then(onCreate);\r\n}\r\n\r\nconst CreateGameRoute = props => {\r\n  const [user, setUser] = useState(null);\r\n  const [gameName, setGameName] = useState('');\r\n  const [game, setGame] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getCurrentUser().then(setUser);\r\n  }, []);\r\n\r\n  if (game) {\r\n    return <Navigate to=\"/games\" />;\r\n  } else {\r\n    return (\r\n      <Container style={{maxWidth: \"500px\"}}>\r\n        <h1>創建您的課程</h1>\r\n        <FormGroup>\r\n          <Label for=\"name\">課程名稱:</Label>\r\n          <Input id=\"name\" name=\"name\" value={gameName} onChange={e => setGameName(e.target.value)} />\r\n        </FormGroup>\r\n        <Button color=\"primary\" onClick={() => save({ name: gameName, ownerId: user.id }, setGame)}>確認</Button>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateGameRoute\r\n","import QuestionStore from \"../store/QuestionStore\";\r\n\r\nconst getQuestions = (scopes) => {\r\n  const questionStore = new QuestionStore();\r\n  return questionStore.list(scopes)\r\n};\r\n\r\nexport default getQuestions;\r\n","import QuestionStore from \"../store/QuestionStore\";\r\nimport { popKey } from '../utils/popKey';\r\n\r\n/**\r\n * Creates a new Question or saves an existing one.\r\n *\r\n * @param {Object} attributes - should minimally contain `gameId`. If no `id` is included, is assumed to be a new Question\r\n * @returns Promise - resolves to either Object or void\r\n */\r\nconst saveQuestion = (attributes, questionStore = new QuestionStore()) => {\r\n  let attributesCopy = Object.assign({}, attributes);\r\n\r\n  if ('id' in attributesCopy) {\r\n    const questionId = popKey(attributesCopy, 'id');\r\n    return questionStore.update(questionId, attributesCopy);\r\n  } else {\r\n    return questionStore.create(attributesCopy);\r\n  }\r\n};\r\n\r\nexport default saveQuestion;\r\n","import { doc, deleteDoc } from \"firebase/firestore\";\r\nimport firebase from \"../utils/firebase\";\r\nimport { useParams } from \"react-router-dom\"\r\n\r\n\r\nconst deleteQuestion = async (questionId, gameId) => {\r\n    \r\n    const db = firebase.firestore();\r\n    \r\n    try {\r\n        await deleteDoc(doc(db, 'games', gameId, 'questions', questionId))\r\n        window.location.reload();\r\n    } catch (error) {\r\n        throw new Error('Error deleting question: ' + error.message);\r\n    }\r\n};\r\n\r\nexport default deleteQuestion;\r\n","import React, { useState, useParams } from 'react';\r\nimport { InputGroup, InputGroupAddon, InputGroupText, Input, Card, CardTitle, Button, Spinner, FormGroup, Label } from 'reactstrap';\r\nimport saveQuestion from '../use_cases/saveQuestion';\r\nimport deleteQuestion from '../use_cases/deleteQuestion';\r\n\r\nconst STATE_DEFAULT = 'default';\r\nconst STATE_SAVING = 'saving';\r\n\r\n\r\nexport const EditableQuestion = ({ question, game }) => {\r\n  const [draftQuestion, setDraftQuestion] = useState(question)\r\n  const [componentState, setComponentState] = useState(STATE_DEFAULT);\r\n\r\n  const updateDraft = (newAttributes) => {\r\n    setDraftQuestion(Object.assign({}, draftQuestion, newAttributes));\r\n  }\r\n\r\n  const handleDeleteQuestion = async () => {\r\n    setComponentState(STATE_SAVING);\r\n    try {\r\n      await deleteQuestion(draftQuestion.id, game); // Replace 'draftQuestion.id' with the appropriate way to identify the question in Firebase.\r\n      // Assuming 'deleteQuestion' function deletes the question in Firebase.\r\n      setComponentState(STATE_DEFAULT);\r\n      // Optionally, you can clear the draftQuestion state or handle any other cleanup.\r\n    } catch (error) {\r\n      console.error(\"Error deleting question\", error);\r\n      setComponentState(STATE_DEFAULT);\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <Card body className=\"mt-4 mb-4\">\r\n        <CardTitle>\r\n          <InputGroup className=\"mb-2\">\r\n            <Input\r\n              type=\"textarea\"\r\n              placeholder=\"請輸入完整題目\"\r\n              value={draftQuestion.text || ''}\r\n              onChange={e => updateDraft({ text: e.target.value })}\r\n            />\r\n          </InputGroup>\r\n        </CardTitle>\r\n        {['answerA', 'answerB', 'answerC', 'answerD'].map((ansKey) => (\r\n          <InputGroup key={ansKey} className=\"mb-2\">\r\n            <InputGroupAddon addonType=\"prepend\">\r\n              <InputGroupText>{ansKey}</InputGroupText>\r\n            </InputGroupAddon>\r\n            <Input\r\n              placeholder=\"請輸入選項\"\r\n              value={ansKey in draftQuestion ? draftQuestion[ansKey] : ''}\r\n              onChange={e => updateDraft({[ansKey]: e.target.value})}\r\n            />\r\n          </InputGroup>\r\n        ))}\r\n        <FormGroup>\r\n          <Label for=\"correctAnswerDropdown\">正確答案</Label>\r\n          <Input\r\n            type=\"select\"\r\n            name=\"correctAnswer\"\r\n            id=\"correctAnswerDropdown\"\r\n            data-testid=\"correctAnswerDropdown\"\r\n            value={draftQuestion.correctAnswer || '選擇正確答案'}\r\n            onChange={e => updateDraft({ correctAnswer: e.target.value })}\r\n          >\r\n            <option>A</option>\r\n            <option>B</option>\r\n            <option>C</option>\r\n            <option>D</option>\r\n            <option hidden>選擇正確答案</option>\r\n          </Input>\r\n        </FormGroup>\r\n        {componentState === STATE_SAVING ?\r\n          <Button disabled color=\"primary\" className=\"mt-4\">\r\n            <Spinner type=\"grow\" size=\"sm\" color=\"info\" className=\"mr-2\" />\r\n            保存中...\r\n          </Button>\r\n          :\r\n          <Button\r\n            color=\"primary\"\r\n            className=\"mt-4\"\r\n            onClick={() => {\r\n              setComponentState(STATE_SAVING);\r\n              saveQuestion(draftQuestion).then(() => setComponentState(STATE_DEFAULT));\r\n            }}\r\n          >\r\n            保存\r\n          </Button>\r\n          \r\n        }\r\n        <Button\r\n          color=\"danger\"\r\n          className=\"mt-4\"\r\n          onClick={handleDeleteQuestion}\r\n          disabled={componentState === STATE_SAVING}\r\n        >\r\n          {componentState === STATE_SAVING ? (\r\n            <>\r\n              <Spinner type=\"grow\" size=\"sm\" color=\"info\" className=\"mr-2\" />\r\n              刪除中...\r\n            </>\r\n          ) : (\r\n            \"刪除題目\"\r\n          )}\r\n        </Button>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Button, Container } from 'reactstrap';\r\nimport { Link, useParams, useNavigate } from 'react-router-dom';\r\nimport getGame from '../use_cases/getGame';\r\nimport getQuestions from '../use_cases/getQuestions';\r\nimport { EditableQuestion } from '../view_components/EditableQuestion';\r\nimport saveQuestion from '../use_cases/saveQuestion';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\nimport { doc, deleteDoc } from \"firebase/firestore\";\r\nimport firebase from \"../utils/firebase\";\r\n\r\n\r\nconst GameDetailsRoute = props => {\r\n  const { gameId } = useParams();\r\n  const [game, setGame] = useState(null);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const handleDeleteGame = async () => {\r\n    if (gameId && game) {\r\n      try {\r\n        const db = firebase.firestore();        \r\n        await deleteDoc(doc(db, \"games\", gameId));        \r\n        navigate('/games');\r\n      } catch (error) {\r\n        console.error('刪除遊戲時發生錯誤', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (gameId && game === null) {\r\n      getGame(gameId)\r\n        .then(game => {\r\n          setGame(game);\r\n          return game;\r\n        })\r\n        .then(game => getQuestions({ gameId: game.id }))\r\n        .then(setQuestions);\r\n    }\r\n  }, [gameId, game]);\r\n\r\n  if (game) {\r\n    return (\r\n      <CenteredContainer maxWidth={500}>\r\n        <h1 className=\"mb-4\">{game.name}</h1>\r\n        <Container>\r\n          {questions.length > 0 ? (\r\n            <Link to={`/lobby/${gameId}`}>\r\n              <Button color=\"success\" size=\"lg\">\r\n                開始課程\r\n              </Button>\r\n            </Link>\r\n          ) : null}\r\n          <br/><br/>\r\n          <Button color=\"primary\" onClick={() => setEditMode(!editMode)}>\r\n            {editMode ? '結束編輯' : '編輯課程'}\r\n          </Button>\r\n          <br/><br/>\r\n          <Button\r\n            style={{ marginBottom: 20 }}\r\n            onClick={handleDeleteGame}\r\n            color=\"danger\"\r\n          >\r\n            刪除課程\r\n          </Button>\r\n        </Container>\r\n        {editMode && (\r\n          <Container>\r\n            {questions.map((question) => (\r\n              <EditableQuestion key={question.id} question={question} game={gameId} />\r\n            ))}\r\n            <Container>\r\n              <Button\r\n                onClick={() => {\r\n                  saveQuestion({ gameId: gameId, order: questions.length + 1 }).then((newQn) =>\r\n                    setQuestions(questions.concat([newQn]))\r\n                  );\r\n                }}\r\n              >\r\n                新增題目\r\n              </Button>\r\n              <br/>\r\n            </Container>\r\n          </Container>\r\n        )}\r\n      </CenteredContainer>\r\n    );\r\n  } else {\r\n    return (<CenteredContainer maxWidth={500}>Loading...</CenteredContainer>)\r\n  }\r\n}\r\n\r\nexport default GameDetailsRoute\r\n","import GameStore from '../store/GameStore';\r\nimport QuestionStore from '../store/QuestionStore';\r\n\r\nconst startNextQuestion = (gameId) => {\r\n  const gameStore = new GameStore();\r\n  const questionStore = new QuestionStore();\r\n\r\n  gameStore.update(gameId, { state: 'pendingQuestion' });\r\n  return gameStore\r\n    .get(gameId)\r\n    .then(game => {\r\n      if ('currentQuestion' in game) {\r\n        return questionStore.get(game.currentQuestion);\r\n      }\r\n      else {\r\n        return;\r\n      }\r\n    })\r\n    .then(currentQuestion => {\r\n      const nextOrder = currentQuestion ? currentQuestion.order : 0 ;\r\n      return questionStore.list({ gameId, from: nextOrder, limit: 1 });\r\n    })\r\n    .then(questionArray => {\r\n      const question = questionArray[0];\r\n      if (question) {\r\n        gameStore.update(gameId, { currentQuestionId: question.id });\r\n      }\r\n\r\n      return question;\r\n    });\r\n}\r\n\r\nexport default startNextQuestion;","const calculateTimeLeft = date => {\r\n  const difference = (date - Date.now()) / 1000;\r\n  return difference > 0 ? difference : 0;\r\n};\r\n\r\nconst tickTimer = ({ endDate, intervalCallback, endedCallback }) => {\r\n  setTimeout(() => {\r\n    // timeLeft is in seconds\r\n    const timeLeft = calculateTimeLeft(endDate);\r\n    if (timeLeft > 0) {\r\n      intervalCallback(timeLeft);\r\n      tickTimer({ endDate, intervalCallback, endedCallback });\r\n    }\r\n    else {\r\n      endedCallback(timeLeft);\r\n    }\r\n  }, 1000);\r\n};\r\n\r\nexport const startTimer = ({ seconds, intervalCallback, endedCallback }) => {\r\n  const endDate = new Date(Date.now() + 1000 * seconds);\r\n  tickTimer({ endDate, intervalCallback, endedCallback });\r\n};\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams, Navigate } from \"react-router-dom\"\r\n\r\nimport startNextQuestion from '../use_cases/startNextQuestion';\r\nimport { startTimer } from '../utils/calculateTimeLeft';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\nconst SECONDS_TO_QUESTION = 3;\r\n\r\nconst PendingQuestionRoute = ({ parentUrl }) => {\r\n  let { gameId } = useParams();\r\n  const [ timeLeft, setTimeLeft ] = useState(SECONDS_TO_QUESTION);\r\n  const [ nextQuestion, setNextQuestion ] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (gameId) {\r\n      startTimer({ seconds: SECONDS_TO_QUESTION, intervalCallback: setTimeLeft, endedCallback: setTimeLeft });\r\n      startNextQuestion(gameId).then(setNextQuestion);\r\n    }\r\n  }, [gameId])\r\n  let url = \"/host/\" + gameId;\r\n  return (\r\n    <CenteredContainer verticalCentered={true}>\r\n      <div style={{fontSize: 25}}>Next question in...</div>\r\n      <div className=\"display-1 mt-4\">\r\n        {Math.ceil(timeLeft)}\r\n      </div>\r\n      {timeLeft <= 0 && nextQuestion\r\n        ? <Navigate to={`${url}/questions/current`} />\r\n        : null\r\n      }\r\n    </CenteredContainer>\r\n  )\r\n}\r\n\r\nexport default PendingQuestionRoute","import QuestionStore from \"../store/QuestionStore\";\r\n\r\nconst getQuestion = (questionId, scopes, questionStore = new QuestionStore()) => {\r\n  return questionStore.get(questionId, scopes)\r\n};\r\n\r\nexport default getQuestion;\r\n","import GameStore from '../store/GameStore';\r\nimport AnswerStore from '../store/AnswerStore';\r\n\r\nconst calculateQuestionResults = (gameId, questionId, gameStore = new GameStore(), answerStore = new AnswerStore()) => {\r\n  gameStore.update(gameId, { state: 'showingQuestionResults' });\r\n  return answerStore\r\n    .list({ gameId, questionId })\r\n    .then(answers => {\r\n      \r\n      let results = { 'A': [], 'B': [], 'C': [], 'D': []};\r\n\r\n      const latestAnswers = answers.reduce((acc, answer) => {\r\n        if (!acc[answer.playerName] || answer.timestamp > acc[answer.playerName].timestamp) {\r\n          acc[answer.playerName] = answer;\r\n        }\r\n        return acc;\r\n      }, {});\r\n\r\n      Object.values(latestAnswers).forEach(answer => {\r\n        results[answer.choice] = results[answer.choice].concat(answer.playerName);\r\n      });\r\n\r\n      return results;\r\n    });\r\n}\r\n\r\nexport default calculateQuestionResults;\r\n","import QuestionStore from '../store/QuestionStore';\r\n\r\nconst countTotalQuestions = (gameId) => {\r\n  const questionStore = new QuestionStore();\r\n  return questionStore\r\n    .list({ gameId })\r\n    .then(questions => questions.length);\r\n}\r\n\r\nexport default countTotalQuestions;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams, Link } from \"react-router-dom\"\r\nimport { Button, Card, CardBody, Row, Col, CardTitle, CardText, Container } from 'reactstrap';\r\n\r\nimport getQuestion from '../use_cases/getQuestion';\r\nimport calculateQuestionResults from '../use_cases/calculateQuestionResults';\r\nimport countTotalQuestions from '../use_cases/countTotalQuestions';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\n\r\nconst isCorrectChoice = (question, choice) => {\r\n  return question.correctAnswer === choice;\r\n}\r\n\r\nconst ResultBoard = ({ result, className, question }) => {\r\n  return (\r\n    <div className={className}>\r\n      <h2 className=\"mb-4\">{question ? question.text : null}</h2>\r\n      <Row>\r\n        {\r\n          Object.entries(result).map(([answer, players]) => (\r\n            <Col sm={12} md={6} className=\"mb-4\">\r\n              <Card\r\n                color={isCorrectChoice(question, answer) ? 'success' : null}\r\n                inverse={isCorrectChoice(question, answer) ? true : null}\r\n              >\r\n                <CardBody>\r\n                  <CardTitle >\r\n                    <strong className='mr-2' style={{fontSize: 20}}>{answer}</strong>\r\n                    {isCorrectChoice(question, answer) ? '✔️' : '❌'}\r\n                  </CardTitle>\r\n                  <CardTitle>\r\n                    <strong style={{fontSize: 17}}>\r\n                      {question[`answer${answer}`]}\r\n                    </strong>\r\n                  </CardTitle>\r\n                  <CardText style={{fontSize: 17}}>\r\n                    {players.join(', ')}\r\n                  </CardText>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n          ))\r\n        }\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst QuestionResultsRoute = ({ parentUrl }) => {\r\n  let { gameId, questionId } = useParams()\r\n  let [result, setResult] = useState({})\r\n  let [question, setQuestion] = useState(null)\r\n  let [totalQuestionCount, setTotalQuestionCount] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (gameId && questionId) {\r\n      getQuestion(questionId, { gameId }).then(setQuestion);\r\n      countTotalQuestions(gameId).then(setTotalQuestionCount);\r\n      calculateQuestionResults(gameId, questionId).then(setResult);\r\n    }\r\n  }, [gameId, questionId])\r\n  let url = \"/host/\" + gameId;\r\n  return (\r\n    <CenteredContainer verticalCentered={true}>\r\n      <ResultBoard className=\"mb-4\" result={result} question={question} />\r\n      <Container>\r\n        {question && question.order >= totalQuestionCount ?\r\n          <Link to={`${url}/results/final`}>\r\n            <Button color=\"primary\">\r\n              顯示課程最終結果\r\n            </Button>\r\n          </Link>\r\n          :\r\n          <Link to={`${url}/questions/pending`}>\r\n            <Button color=\"primary\">\r\n              下一題\r\n            </Button>\r\n          </Link>\r\n        }\r\n      </Container>\r\n    </CenteredContainer>\r\n  )\r\n}\r\n\r\nexport default QuestionResultsRoute\r\n\r\n// no result, no question, start button\r\n// no result, question, no buttons if time out, else show button if within time\r\n// have result, show result, hide question, next button (clears result)\r\n","import AnswerStore from '../store/AnswerStore';\r\nimport GameStore from '../store/GameStore';\r\nconst gameStore = new GameStore()\r\n\r\n/**\r\n * Saves an Answer.\r\n *\r\n * @param {Object} attributes\r\n * @returns Object - an \"Answer\"\r\n */\r\nconst calculateFinalResults = (gameId) => {\r\n  const answerStore = new AnswerStore();\r\n\r\n  gameStore.update(gameId, { state: 'draft' });\r\n  \r\n  return answerStore.list({ gameId })\r\n    .then(answers => {\r\n      return answers\r\n        .filter(val => 'isCorrect' in val && !!val.isCorrect)\r\n        .reduce((acc, curr) => {\r\n          if (curr.playerName in acc) {\r\n            acc[curr.playerName] += 1;\r\n          } else {\r\n            acc[curr.playerName] = 1;\r\n          }\r\n          return acc;\r\n        }, {});\r\n    })\r\n};\r\n\r\nexport default calculateFinalResults;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams, Link } from \"react-router-dom\"\r\nimport { ListGroup, ListGroupItem, Badge, Button, Container } from 'reactstrap';\r\nimport calculateFinalResults from '../use_cases/calculateFinalResults';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\n\r\n// Compares two Arrays of playerName, score in terms of ascending score.\r\nconst sortScores = (a, b) => {\r\n  const [, score1] = a;\r\n  const [, score2] = b;\r\n\r\n  if (score1 > score2) {\r\n    return -1;\r\n  }\r\n  if (score1 < score2) {\r\n    return 1;\r\n  }\r\n  // a must be equal to b\r\n  return 0;\r\n}\r\n\r\nconst Leaderboard = ({ results }) => {\r\n  let scores = Object.entries(results);\r\n  scores.sort(sortScores);\r\n\r\n  return (\r\n    <ListGroup>\r\n      {\r\n        scores.slice(0, 5).map(([key, value], index) => {\r\n          if (index <= 2) {\r\n            return <ListGroupItem key={key} className=\"d-flex justify-content-between\" style={{fontSize: 17}}>{key}<Badge className=\"ml-4 p-2\" color=\"success\">{value}</Badge></ListGroupItem>;\r\n          } else {\r\n            return <ListGroupItem key={key} className=\"d-flex justify-content-between\">{key}<Badge className=\"ml-4 p-2\">{value}</Badge></ListGroupItem>;\r\n          }\r\n        })\r\n      }\r\n    </ListGroup>\r\n\r\n  );\r\n}\r\n\r\nconst FinalResultsRoute = props => {\r\n  let { gameId } = useParams()\r\n  let [results, setResults] = useState({})\r\n  \r\n  useEffect(() => {\r\n    if (gameId) {\r\n      calculateFinalResults(gameId).then(setResults);\r\n    }\r\n  }, [gameId])\r\n  \r\n  return (\r\n    <CenteredContainer verticalCentered={true} maxWidth={500}>\r\n      <h1>\r\n        課程結果\r\n      </h1>\r\n      <Leaderboard results={results} />\r\n      <br/>\r\n      <Container>\r\n        <Link to={`/games`}>\r\n          <Button color=\"primary\"> \r\n            回題目列表\r\n          </Button>\r\n        </Link>\r\n        \r\n      </Container>\r\n      <br/>\r\n      <Container>\r\n        <Link to={`/`}>\r\n          <Button color=\"primary\"> \r\n            回首頁\r\n          </Button>\r\n        </Link>\r\n      </Container>\r\n    </CenteredContainer>\r\n    \r\n  )\r\n  \r\n}\r\n\r\nexport default FinalResultsRoute\r\n","import GameStore from '../store/GameStore';\r\nimport QuestionStore from '../store/QuestionStore';\r\n\r\nconst showCurrentQuestion = (gameId, gameStore = new GameStore(), questionStore = new QuestionStore()) => {\r\n  gameStore.update(gameId, { state: 'showingQuestion' });\r\n  return gameStore\r\n    .get(gameId)\r\n    .then(game => {\r\n      return questionStore.get(game.currentQuestion)\r\n    });\r\n}\r\n\r\nexport default showCurrentQuestion;\r\n","import React from 'react'\r\nimport { Card, CardBody, Row, Col, CardTitle, CardText } from 'reactstrap';\r\n\r\n\r\n\r\nconst Question = ({ question, className }) => (\r\n  <div className={className}>\r\n    <h2 className=\"mb-4\" style={{fontSize: 24}}>{question.text}</h2>\r\n    <Row>\r\n      {\r\n        ['A', 'B', 'C', 'D'].map((ans) =>\r\n          <Col key={ans} sm={12} md={6} className=\"mb-4\">\r\n            <Card>\r\n              <CardBody>\r\n                <CardTitle><strong style={{fontSize: 20}}>{ans}</strong></CardTitle>\r\n                <CardText style={{fontSize: 20}}>\r\n                  {question[`answer${ans}`]}\r\n                </CardText>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        )\r\n      }\r\n    </Row>\r\n  </div>\r\n)\r\n\r\nexport default Question\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams, Link } from \"react-router-dom\"\r\nimport { Button } from 'reactstrap';\r\n\r\nimport showCurrentQuestion from '../use_cases/showCurrentQuestion'\r\nimport Question from '../view_components/Question'\r\nimport { startTimer } from '../utils/calculateTimeLeft';\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\n\r\nconst SECONDS_TO_QUESTION = 10;\r\n\r\nconst ShowResultsBtn = ({ isVisible, linkTo }) => {\r\n  const handleBtnClick = () => {\r\n    if (isVisible) {\r\n      window.location.href = linkTo;\r\n    }\r\n  };\r\n\r\n  return isVisible ? (\r\n    <Button color=\"primary\" onClick={handleBtnClick}>\r\n      顯示回答結果\r\n    </Button>\r\n  ) : null;\r\n};\r\n\r\nconst CurrentQuestionRoute = ({ parentUrl }) => {\r\n  let { gameId } = useParams();\r\n  const [question, setQuestion] = useState(null);\r\n  const [timeLeft, setTimeLeft] = useState(SECONDS_TO_QUESTION);\r\n\r\n  useEffect(() => {\r\n    if (gameId) {\r\n      startTimer({ seconds: SECONDS_TO_QUESTION, intervalCallback: setTimeLeft, endedCallback: setTimeLeft });\r\n      showCurrentQuestion(gameId).then(setQuestion);\r\n    }\r\n  }, [gameId])\r\n  //let url = \"/host/\" + gameId ;\r\n  return (\r\n    <CenteredContainer verticalCentered={true}>\r\n      {question ?\r\n          <div>\r\n            <Question question={question} />\r\n            <div className=\"mt-4\">剩餘時間:</div>\r\n            <div className=\"display-1\">\r\n              {Math.ceil(timeLeft)}\r\n            </div>\r\n            <ShowResultsBtn\r\n              isVisible={timeLeft <= 0}\r\n              linkTo={`https://cxw0520.github.io/AC-Three/?GID=${gameId}&QID=${question.id}`}\r\n            />\r\n          </div>\r\n        : <div>請稍等...</div>\r\n      }\r\n    </CenteredContainer>\r\n  )\r\n}\r\n\r\nexport default CurrentQuestionRoute\r\n","import React from \"react\";\r\nimport { Menu } from \"semantic-ui-react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport firebase from \"./utils/firebase\";\r\n\r\nfunction Header(){\r\n    const [user, setUser] = React.useState(null);\r\n    React.useEffect(() => {\r\n        firebase.auth().onAuthStateChanged((currentUser) => {\r\n            setUser(currentUser)\r\n        });\r\n    }, []);\r\n    return (\r\n        <Menu size=\"large\">\r\n            <Menu.Item as={Link} to=\"/\">\r\n                Avatar Classroom\r\n            </Menu.Item>\r\n            \r\n            <Menu.Menu position=\"right\">\r\n                {user ? (\r\n                <>  \r\n                    <Menu.Item as={Link} to =\"/games\">我的課程</Menu.Item>\r\n                    <Menu.Item as={Link} to =\"/join-s\">學生連結</Menu.Item>\r\n                    <Menu.Item as={Link} to =\"/settings\">設定</Menu.Item>\r\n                    <Menu.Item \r\n                        onClick={() => firebase.auth().signOut()} \r\n                        as={Link} to =\"/\"\r\n                    >\r\n                        登出\r\n                    </Menu.Item>\r\n                </> \r\n                ) : (\r\n                <>\r\n                    <Menu.Item as={Link} to =\"/join-s\">學生連結</Menu.Item>\r\n                    <Menu.Item as={Link} to =\"/signin\">註冊/登入</Menu.Item>\r\n                </>\r\n                )}\r\n            </Menu.Menu>\r\n            \r\n        </Menu>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport {Menu, Form, Container, Message} from 'semantic-ui-react'\r\nimport firebase from '../utils/firebase';\r\nimport \"firebase/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Signin(){\r\n    const [activeItem, setActiveItem] = React.useState('register');\r\n    const [email, setEmail]= React.useState('');\r\n    const [password, setPassword]= React.useState('');\r\n    const navigate = useNavigate();\r\n    const [errorMessage, setErrorMessage] = React.useState('');\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n    \r\n    function onSubmit(){\r\n        setIsLoading(true);\r\n        if(activeItem === 'register'){\r\n            firebase\r\n            .auth()\r\n            .createUserWithEmailAndPassword(email, password)\r\n            .then(() =>{\r\n                navigate('/');\r\n                setIsLoading(false);\r\n            })\r\n            .catch((error) => {\r\n                switch(error.code){\r\n                    case 'auth/email-already-in-use':\r\n                        setErrorMessage('信箱已存在');\r\n                        break;\r\n                    case 'auth/invalid-email':\r\n                        setErrorMessage('信箱格式不正確');\r\n                        break;\r\n                    case 'auth/weak-password':\r\n                        setErrorMessage('密碼強度不足');\r\n                        break;\r\n                    default:\r\n                }\r\n                \r\n            });\r\n        }else if(activeItem === 'signin'){\r\n            firebase\r\n            .auth()\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then(() =>{\r\n                navigate('/');\r\n                setIsLoading(false);\r\n            })\r\n            .catch((error) => {\r\n                var errorCode = error.code;\r\n                console.log(errorCode);\r\n                switch(errorCode){\r\n                    case 'auth/invalid-email':\r\n                        setErrorMessage('信箱格式不正確');\r\n                        break;\r\n                    case 'auth/internal-error':\r\n                        setErrorMessage('此信箱尚未註冊 或 密碼錯誤');\r\n                        setIsLoading(false);\r\n                        break;\r\n                    default:\r\n                }\r\n            \r\n            });\r\n        }\r\n    }\r\n    return(\r\n        <Container>\r\n            <Menu widths=\"2\">\r\n                <Menu.Item \r\n                    active={activeItem === 'register'} \r\n                    onClick={() => {\r\n                        setErrorMessage('');\r\n                        setActiveItem('register');\r\n                    }}\r\n                >\r\n                    註冊\r\n                </Menu.Item>\r\n                <Menu.Item \r\n                    active={activeItem === 'signin'}\r\n                    onClick={() => {\r\n                        setErrorMessage('');\r\n                        setActiveItem('signin');\r\n                    }}\r\n                >\r\n                    登入\r\n                </Menu.Item>\r\n            </Menu>\r\n            <Form onSubmit={onSubmit}>\r\n                <Form.Input \r\n                    label=\"信箱\" \r\n                    value={email} \r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder=\"請輸入信箱\"\r\n                />\r\n                <Form.Input \r\n                    label=\"密碼\" \r\n                    value={password} \r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"請輸入密碼\"\r\n                    type=\"password\"\r\n                />\r\n                {errorMessage && <Message negative>{errorMessage}</Message>}\r\n                <Form.Button loading={isLoading}>\r\n                    {activeItem === 'register' && '註冊'}\r\n                    {activeItem === 'signin' && '登入'}\r\n                </Form.Button>\r\n                    \r\n            </Form>\r\n        </Container>\r\n    );\r\n    \r\n}\r\n\r\nexport default Signin;","import React, { useState } from \"react\";\r\nimport {\r\n  //CanvasPath,\r\n  //ExportImageType,\r\n  ReactSketchCanvas,\r\n  //ReactSketchCanvasProps,\r\n  //ReactSketchCanvasRef,\r\n} from \"react-sketch-canvas\";\r\nimport firebase from \"../utils/firebase\";\r\nimport { getStorage, ref, uploadBytes } from \"firebase/storage\";\r\n\r\nconst storage = getStorage();\r\n\r\nconst Handlers = [\r\n  [\"string\", () => {}, \"string\"],\r\n];\r\n\r\nfunction InputField({\r\n  fieldName,\r\n  type = \"text\",\r\n  canvasProps,\r\n  setCanvasProps,\r\n  displayName,\r\n}) {\r\n  const handleChange = ({\r\n    target,\r\n  }) => {\r\n    setCanvasProps((prevCanvasProps) => ({\r\n      ...prevCanvasProps,\r\n      [fieldName]: target.value,\r\n    }));\r\n  };\r\n\r\n  const id = `validation${fieldName}`;\r\n\r\n  return (\r\n    <div className=\"p-0 col-10\">\r\n      <label htmlFor={id} className=\"form-label\">\r\n        {displayName}\r\n      </label>\r\n      <input\r\n        name={fieldName}\r\n        type={type}\r\n        className=\"form-control\"\r\n        id={id}\r\n        value={canvasProps[fieldName]}\r\n        onChange={handleChange}\r\n        min={1}\r\n        max={30}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Draw() {\r\n  const [playUrl, setPlayUrl] = React.useState(\"\");\r\n  const [svgRef, setSvgRef] = React.useState(null);\r\n  React.useEffect(() => {\r\n    const equalParam = window.location.href.lastIndexOf(\"=\") + 1;\r\n    const playUrl = window.location.href.substring(equalParam);\r\n    setPlayUrl(playUrl);\r\n    \r\n    const lastParam = window.location.href.lastIndexOf(\"/\") + 1;\r\n    const SID = window.location.href.substring(lastParam);\r\n    const computedSvgRef = ref(storage, `svgs/${SID + \".svg\"}`);\r\n    setSvgRef(computedSvgRef);\r\n  }, []);\r\n  //console.log(\"playUrl:\", playUrl);\r\n  \r\n  const [canvasProps, setCanvasProps] = React.useState({\r\n    className: \"react-sketch-canvas\",\r\n    width: \"100%\",\r\n    height: \"450PX\",\r\n    backgroundImage:\r\n      \"https://upload.wikimedia.org/wikipedia/commons/7/70/Graph_paper_scan_1600x1000_%286509259561%29.jpg\",\r\n    preserveBackgroundImageAspectRatio: \"none\",\r\n    strokeWidth: 4,\r\n    eraserWidth: 5,\r\n    strokeColor: \"#000000\",\r\n    canvasColor: \"#FFFFFF\",\r\n    style: { borderRight: \"1px solid #CCC\" },\r\n    svgStyle: {},\r\n    exportWithBackgroundImage: false,\r\n    withTimestamp: true,\r\n    allowOnlyPointerType: \"all\",\r\n    withViewBox: false,\r\n  });\r\n\r\n  const inputProps = [\r\n    //[\"className\", \"text\"],\r\n    //[\"width\", \"text\"],\r\n    //[\"height\", \"text\"],\r\n    //[\"backgroundImage\", \"text\"],\r\n    //[\"preserveBackgroundImageAspectRatio\", \"text\"],\r\n    [\"strokeWidth\", \"range\", \"畫筆粗細\"],\r\n    [\"eraserWidth\", \"range\", \"橡皮擦粗細\"],\r\n  ];\r\n\r\n  const canvasRef = React.createRef();\r\n\r\n  const [penButtonOutline, setPenButtonOutline] = React.useState(\"\");\r\n  const [eraserButtonOutline, setEraserButtonOutline] = React.useState(\"outline-\");\r\n  const [dataURI, setDataURI] = React.useState(\"\");\r\n  const [svg, setSVG] = React.useState(\"\");\r\n  const [paths, setPaths] = React.useState([]);\r\n  const [lastStroke, setLastStroke] = React.useState({\r\n    stroke: null,\r\n    isEraser: null,\r\n  });\r\n  //const [pathsToLoad, setPathsToLoad] = React.useState(\"\");\r\n  //const [sketchingTime, setSketchingTime] = React.useState(0);\r\n  const [exportImageType, setexportImageType] = React.useState(\"png\");\r\n\r\n /* const imageExportHandler = async () => {\r\n    const exportImage = canvasRef.current?.exportImage;\r\n\r\n    if (exportImage) {\r\n      const exportedDataURI = await exportImage(exportImageType);\r\n      setDataURI(exportedDataURI);\r\n    }\r\n  };*/\r\n\r\n  const [isDone, setIsDone] = useState(false);\r\n  \r\n  const svgExportHandler = async () => {\r\n    const exportSvg = canvasRef.current?.exportSvg;\r\n\r\n    if (exportSvg) {\r\n      var exportedDataURI = await exportSvg();\r\n      setSVG(exportedDataURI);\r\n      setIsDone(true);\r\n      //console.log(exportedDataURI);\r\n      \r\n      exportedDataURI = exportedDataURI\r\n        .replace('<rect id=\"react-sketch-canvas__mask-background\" x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"white\"></rect></g><defs></defs><g id=\"react-sketch-canvas__canvas-background-group\"><rect id=\"react-sketch-canvas__canvas-background\" x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"#FFFFFF\"></rect>', '');\r\n      const blob = new Blob([exportedDataURI], { type: 'image/svg+xml' });\r\n      //console.log(blob);\r\n      uploadBytes(svgRef, blob).then((snapshot) => {\r\n          console.log('SVG upload to Firebase succeed');\r\n      }).catch((error) => {\r\n          console.error('SVG upload to Firebase failed', error);\r\n      });\r\n    }\r\n    \r\n  };\r\n  \r\n  const penHandler = () => {\r\n    const eraseMode = canvasRef.current?.eraseMode;\r\n    \r\n    if (eraseMode) {\r\n      setPenButtonOutline(\"\");\r\n      setEraserButtonOutline(\"outline-\");\r\n      eraseMode(false);\r\n    }\r\n  };\r\n\r\n  const eraserHandler = () => {\r\n    const eraseMode = canvasRef.current?.eraseMode;\r\n    \r\n    if (eraseMode) {\r\n      setPenButtonOutline(\"outline-\");\r\n      setEraserButtonOutline(\"\");\r\n      eraseMode(true);\r\n    }\r\n  };\r\n  \r\n  const undoHandler = () => {\r\n    const undo = canvasRef.current?.undo;\r\n\r\n    if (undo) {\r\n      undo();\r\n    }\r\n  };\r\n\r\n  const redoHandler = () => {\r\n    const redo = canvasRef.current?.redo;\r\n\r\n    if (redo) {\r\n      redo();\r\n    }\r\n  };\r\n\r\n  const clearHandler = () => {\r\n    const clearCanvas = canvasRef.current?.clearCanvas;\r\n\r\n    if (clearCanvas) {\r\n      clearCanvas();\r\n    }\r\n  };\r\n\r\n  const resetCanvasHandler = () => {\r\n    const resetCanvas = canvasRef.current?.resetCanvas;\r\n\r\n    if (resetCanvas) {\r\n      resetCanvas();\r\n    }\r\n  };\r\n\r\n  const createButton = (\r\n    label,\r\n    handler,\r\n    themeColor,\r\n    outline,\r\n    spacingClass\r\n  ) => (\r\n    <button\r\n      key={label}\r\n      className={`btn btn-${outline}${themeColor} ${spacingClass} mb-2`}\r\n      type=\"button\"\r\n      onClick={handler}\r\n    >\r\n      {label}\r\n    </button>\r\n  );\r\n\r\n  const goToNext = () =>{\r\n      if(isDone) {\r\n        window.location.href = `/Avatar-classroom/#${playUrl}`;\r\n      }\r\n      else{\r\n        alert(\"請先畫圖並按完成\")\r\n      }\r\n  };\r\n\r\n  const buttonsPenEraser = [\r\n    [\"畫筆\", penHandler, \"primary\", penButtonOutline, \"\"],\r\n    [\"橡皮擦\", eraserHandler, \"primary\", eraserButtonOutline, \"mr-2\"],\r\n  ];\r\n\r\n  const buttonsWithHandlers = [\r\n    [\"復原\", undoHandler, \"secondary\", \"outline-\", \"\"],\r\n    [\"取消復原\", redoHandler, \"secondary\", \"outline-\", \"\"],\r\n    [\"清除全部\", clearHandler, \"secondary\", \"outline-\", \"\"],\r\n    [\"重置\", resetCanvasHandler, \"secondary\", \"outline-\", \"mr-2\"],\r\n    //[\"Export Image\", imageExportHandler, \"success\"],\r\n    //[\"Get Sketching time\", getSketchingTimeHandler, \"success\"],\r\n  ];\r\n\r\n  const buttonsDone = [\r\n    [\"完成\", svgExportHandler, \"success\", \"\", \"mr-2\"],\r\n  ];\r\n\r\n  const buttonsNext = [\r\n    [\"下一步\", goToNext, \"success\", \"\", \"mr-2\"],\r\n  ];\r\n\r\n  const onChange = (updatedPaths) => {\r\n    setPaths(updatedPaths);\r\n  };\r\n\r\n  return (\r\n    <main className=\"container-fluid p-2 justify-content-center\">\r\n      <div className=\"row\">\r\n        <section className=\"col-12 \">\r\n          <div class=\"row justify-content-center\">\r\n            <h1>畫出你的虛擬化身</h1>\r\n          </div>\r\n          \r\n          <section className=\"row no-gutters canvas-area m-1 p-0\">\r\n            <div className=\"col-12 canvas p-0\">\r\n              <ReactSketchCanvas\r\n                ref={canvasRef}\r\n                onChange={onChange}\r\n                onStroke={(stroke, isEraser) =>\r\n                  setLastStroke({ stroke, isEraser })\r\n                }\r\n                {...canvasProps}\r\n              />\r\n            </div>\r\n          </section>\r\n          <form className=\"d-flex flex-column align-items-center\">\r\n            <div class=\"row justify-content-center\">\r\n              <div className=\"col-12 panel d-flex flex-column align-items-center\">\r\n                <div class=\"btn-group\" role=\"group\" aria-label=\"buttonsWithHandlers\">\r\n                  {buttonsWithHandlers.map(([label, handler, themeColor, outline, spacingClass]) =>\r\n                    createButton(label, handler, themeColor, outline, spacingClass)\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-12 panel d-flex flex-column align-items-center\">\r\n                <div>\r\n                  <div class=\"btn-group\" role=\"group\" aria-label=\"buttonsPenEraser\">\r\n                    {buttonsPenEraser.map(([label, handler, themeColor, outline, spacingClass]) =>\r\n                      createButton(label, handler, themeColor, outline, spacingClass)\r\n                    )}\r\n                  </div>\r\n                  <div class=\"btn-group\" role=\"group\" aria-label=\"buttonsDone\">\r\n                    {buttonsDone.map(([label, handler, themeColor, outline, spacingClass]) =>\r\n                      createButton(label, handler, themeColor, outline, spacingClass)\r\n                    )}\r\n                  </div>\r\n                  <div class=\"btn-group\" role=\"group\" aria-label=\"buttonsNext\">\r\n                    {buttonsNext.map(([label, handler, themeColor, outline, spacingClass]) =>\r\n                      createButton(label, handler, themeColor, outline, spacingClass)\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-10 d-flex flex-column align-items-center\">\r\n                {inputProps.map(([fieldName, type, displayName]) => (\r\n                  <InputField\r\n                    key={fieldName}\r\n                    fieldName={fieldName}\r\n                    displayName={displayName}\r\n                    type={type}\r\n                    canvasProps={canvasProps}\r\n                    setCanvasProps={setCanvasProps}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </form>\r\n          \r\n        </section>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Draw;\r\n","import { Header, Button, Segment, Modal, Input, Container } from 'semantic-ui-react'\r\n//import React from 'react';\r\nimport firebase from \"../utils/firebase\";\r\nimport React from 'react';\r\n\r\n\r\n\r\n\r\nfunction MySettings( { user } ){\r\n    const [isNameModalOpen, setIsNameModalOpen] = React.useState(false);\r\n    const [isPasswordModalOpen, setIsPasswordModalOpen] = React.useState(false);\r\n    const [displayName, setDisplayName] = React.useState('');\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n    const [oldPassword, setOldPassword] = React.useState('');\r\n    const [newPassword, setNewPassword] = React.useState('');\r\n\r\n    function onSubmitName(){\r\n        setIsLoading(true)\r\n        user.updateProfile({\r\n            displayName,\r\n        }).then(() =>{\r\n            setDisplayName('');\r\n            setIsNameModalOpen(false);\r\n            setIsLoading(false);\r\n        });\r\n    }\r\n\r\n    function onSubmitPassword(){\r\n        setIsLoading(true);\r\n        const credential = firebase.auth.EmailAuthProvider.credential(\r\n            user.email, oldPassword\r\n        );\r\n        user.reauthenticateWithCredential(credential).then(() => {\r\n            user.updatePassword(newPassword).then(() => {\r\n                setIsPasswordModalOpen(false);\r\n                setOldPassword('');\r\n                setNewPassword('');\r\n                setIsLoading(false);\r\n            });\r\n        })\r\n        \r\n\r\n    }\r\n\r\n    return(\r\n        <Container>\r\n            <>\r\n            <Header>我的檔案</Header>\r\n            <Header size='small'>\r\n                使用者名稱\r\n                <Button floated='right' onClick={() => setIsNameModalOpen(true)}>\r\n                    修改\r\n                </Button>\r\n            </Header>\r\n            <Segment vertical>{user.displayName}</Segment>\r\n            <Modal basic open={isNameModalOpen} size='mini'>\r\n                <Modal.Header>修改使用者名稱</Modal.Header>\r\n                <Modal.Content>\r\n                    <Input \r\n                        placeholder=\"輸入新的使用者名稱\" \r\n                        value={displayName} \r\n                        onChange={(e) => setDisplayName(e.target.value)}\r\n                        fluid \r\n                    />\r\n                </Modal.Content>\r\n                <Modal.Actions>\r\n                    <Button onClick={() => setIsNameModalOpen(false)}>取消</Button>\r\n                    <Button onClick={onSubmitName} loading={isLoading} >修改</Button>\r\n                </Modal.Actions>\r\n            </Modal>\r\n\r\n            </>\r\n            <>\r\n                <Header size='small'>\r\n                    修改密碼\r\n                    <Button floated='right' onClick={() =>  setIsPasswordModalOpen(true)}>\r\n                        修改\r\n                    </Button>\r\n                </Header>\r\n                <Segment vertical>********</Segment>\r\n                <Modal basic size='mini' open={isPasswordModalOpen}>\r\n                    <Modal.Header>修改使用者密碼</Modal.Header>\r\n                    <Modal.Content>\r\n                        <Modal.Header size=\"small\">目前密碼</Modal.Header>\r\n                        <Input \r\n                            placeholder=\"輸入舊密碼\" \r\n                            value={oldPassword} \r\n                            onChange={(e) => setOldPassword(e.target.value)}\r\n                            fluid \r\n                        />\r\n                        <Header></Header>\r\n                        <Modal.Header size=\"small\">新密碼</Modal.Header>\r\n                        <Input \r\n                            placeholder=\"輸入新密碼\" \r\n                            value={newPassword} \r\n                            onChange={(e) => setNewPassword(e.target.value)}\r\n                            fluid \r\n                        />\r\n                    </Modal.Content>\r\n                    \r\n                    <Modal.Actions>\r\n                    <Button onClick={() => setIsPasswordModalOpen(false)}>取消</Button>\r\n                    <Button onClick={onSubmitPassword} loading={isLoading} >修改</Button>\r\n                    </Modal.Actions>\r\n                </Modal>\r\n            </>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default MySettings;","import React from 'react';\r\nimport styles from './RwdYoutube.module.css';\r\n\r\nexport default function RwdYoutube({ src }) {\r\n    return (\r\n        <div className={styles.videobox}>\r\n            <iframe frameBorder=\"0\" src={src} allowFullScreen=\"true\" title='實際操作影片' />\r\n        </div>\r\n    )\r\n}","//import React from \"react\";\r\nimport { Grid, Container, Button, Embed } from 'semantic-ui-react'\r\nimport React, { useState } from 'react';\r\nimport styles from './styles.module.css'\r\nimport RwdYoutube from '../component/RwdYoutube';\r\nimport firebase from '../utils/firebase';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Mainpage(){\r\n    const [user, setUser] = useState(null);\r\n    \r\n    React.useEffect(() =>{\r\n        firebase.auth().onAuthStateChanged((currentUser) =>{\r\n        setUser(currentUser);\r\n        })\r\n    })\r\n\r\n    return (\r\n        <Container style={{ width: \"100%\", height: \"100vh\" }}>\r\n        \r\n            <Grid centered style={{ marginTop: \"40px\" }}>\r\n                <div className={styles.hero_heading} style={{ fontWeight:\"bold\" }}>Avatar</div>\r\n            </Grid>\r\n            <Grid centered style={{ marginTop: \"40px\" }}>\r\n                <div className={styles.hero_heading} style={{ fontWeight:\"bold\" }}>Classroom</div>\r\n            </Grid>\r\n            <Grid centered style={{ marginTop: \"60px\" }}>\r\n                <div style={{fontSize: 30}}>為您提供全新的一個教學測驗模式</div>\r\n            </Grid>\r\n            <Grid centered style={{ marginTop: \"40px\" }}>\r\n                <div style={{fontSize: 30}}>請搭配 Webcam 攝影機使用</div>\r\n            </Grid>\r\n            {user ? (\r\n                <></>\r\n            ) : (\r\n                <Grid centered style={{ marginTop: \"40px\" }}>\r\n                    <Button color='positive' size='large' as={Link} to =\"/signin\">立即註冊/登入</Button>\r\n                </Grid>\r\n            )}\r\n            <Grid centered style={{ marginTop: \"40px\" }}>\r\n                <Grid.Column width={12}>\r\n                    <RwdYoutube\r\n                        src=\"https://youtube.com/embed/LY_b0lxHX7o?feature=share;\"//need to mute and autoplay\r\n                        controls\r\n                        width=\"100%\"\r\n                    />\r\n                </Grid.Column>\r\n            </Grid>\r\n            <br/>\r\n            <Grid style={{ marginTop: \"120px\" }} >\r\n                \r\n                <Grid.Column floated='left' width={10}>\r\n                    <div className={styles.small_note}>製作人名單</div>\r\n                    <div className={styles.small_note}>吳承軒&nbsp;陳苡銜&nbsp;褚帛諭&nbsp;洪麒祥</div>\r\n                </Grid.Column>\r\n                <Grid.Column floated='right' width={6}>\r\n                    <div className={styles.small_note} style={{textAlign: \"right\"}}>In Memory of</div>\r\n                    <div className={styles.small_note} style={{textAlign: \"right\"}}>洪麒祥</div>\r\n                </Grid.Column>\r\n            </Grid>\r\n            \r\n        </Container>\r\n    );\r\n};\r\n\r\n\r\nexport default Mainpage;","import GameStore from '../store/GameStore';\r\nimport Game from '../entities/Game';\r\n\r\n\r\nconst findGamesByShortCode = (shortCode) => {\r\n  return new GameStore().list({ shortCode: String(shortCode), state: Game.STATE_WAITING_FOR_PLAYERS });\r\n};\r\n\r\nexport default findGamesByShortCode;\r\n","import React, { useState } from 'react'\r\nimport { Link, Navigate } from \"react-router-dom\"\r\nimport { Button, Form, FormGroup, Label, Input, ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\nimport CenteredContainer from '../view_components/CenteredContainer';\r\nimport styles from './styles.module.css'\r\nimport findGamesByShortCode from '../use_cases/findGamesByShortCode';\r\n\r\n\r\nfunction JoinS(){\r\n  const [games, setGames] = useState([]);\r\n  const [shortCode, setShortCode] = useState('');\r\n\r\n  if (games.length > 1) {\r\n    return (\r\n      <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n        <ListGroup>\r\n          {\r\n            games.map(game => (\r\n              <Link key={game.id} to={`/join/${game.id}`}>\r\n                <ListGroupItem\r\n                  tag=\"button\"\r\n                  action\r\n                >\r\n                  {game.name}\r\n                </ListGroupItem>\r\n              </Link>\r\n            ))\r\n          }\r\n        </ListGroup>\r\n      </CenteredContainer>\r\n    );\r\n  }\r\n  else if (games.length === 1) {\r\n    return <Navigate to={`/join/${games[0].id}`} />;\r\n  }\r\n  else {\r\n    return (\r\n      <CenteredContainer maxWidth={500} verticalCentered={true}>\r\n        <h1 className={styles.hero_heading}>Avatar Classroom</h1>\r\n        <Form\r\n          className=\"mb-5\"\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            findGamesByShortCode(shortCode).then(setGames);\r\n          }}\r\n        >\r\n          <FormGroup>\r\n            <Label for=\"shortCode\">房間代碼:</Label>\r\n            <Input id=\"shortCode\" type=\"number\" value={shortCode} onChange={e => setShortCode(e.target.value)} />\r\n          </FormGroup>\r\n          <Button\r\n            color=\"primary\"\r\n            disabled={!shortCode}\r\n            type=\"submit\"\r\n          >\r\n            加入房間\r\n          </Button>\r\n        </Form>\r\n        \r\n        <aside hidden>\r\n          Want to create your own quiz?&nbsp;\r\n          <Link to=\"/login\">\r\n            Sign Up\r\n          </Link>\r\n        </aside>\r\n      </CenteredContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JoinS;\r\n","import React from 'react';\r\nimport {\r\n  HashRouter,\r\n  Routes,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\nimport firebase from './utils/firebase';\r\n\r\nimport JoinRoute from './routes/JoinRoute'\r\nimport PlayerRoute from './routes/PlayerRoute'\r\n//import HomeRoute from './routes/HomeRoute/HomeRoute';\r\nimport LobbyRoute from './routes/LobbyRoute';\r\nimport LoginRoute from './routes/LoginRoute';\r\nimport MyGamesRoute from './routes/MyGamesRoute';\r\nimport CreateGameRoute from './routes/CreateGameRoute';\r\n//import HostRoute from './routes/HostRoute';\r\nimport GameDetailsRoute from './routes/GameDetailsRoute';\r\n//import FindGameRoute from './routes/FindGameRoute';\r\n\r\nimport PendingQuestionRoute from './routes/PendingQuestionRoute';\r\nimport QuestionResultsRoute from './routes/QuestionResultsRoute';\r\nimport FinalResultsRoute from './routes/FinalResultsRoute';\r\nimport CurrentQuestionRoute from './routes/CurrentQuestionRoute';\r\n\r\n\r\nimport Header from \"./Header\";\r\nimport Signin from './pages/Signin'\r\n//import Posts from \"./pages/Posts\";\r\nimport Draw from \"./pages/Draw\";\r\nimport MySettings from './pages/MySettings';\r\nimport Mainpage from './pages/Mainpage';\r\n\r\nimport JoinS from './pages/JoinS';\r\n\r\nfunction App() {\r\n  const [user, setUser] = React.useState(null);\r\n  React.useEffect(() =>{\r\n    firebase.auth().onAuthStateChanged((currentUser) =>{\r\n      setUser(currentUser);\r\n    })\r\n  })\r\n  return (\r\n    <HashRouter>\r\n      <Header/>\r\n        <div className=\"App\">\r\n          <Routes>\r\n            <Route path=\"/login\" element={<LoginRoute/>} key={LoginRoute.id}/>            \r\n            <Route path=\"/\" exact element={<Mainpage/>} key={Mainpage.id}/> \r\n            <Route path=\"/signin\" exact element={<Signin />} key={Signin.id}/>\r\n            <Route path=\"/join-s\" exact element={<JoinS/>} />\r\n            \r\n            <Route path=\"/lobby/:gameId\" element={<LobbyRoute />} key={LobbyRoute.id}/>\r\n            <Route path=\"/play/:gameId/as/:playerId\" element={<PlayerRoute />} key={PlayerRoute.id}/>\r\n            <Route path=\"/join/:gameId\" element={<JoinRoute />} key={JoinRoute.id}/>\r\n            <Route path=\"/games/create\" element={<CreateGameRoute />} key={CreateGameRoute.id}/>\r\n            <Route path=\"/games/:gameId\" element={<GameDetailsRoute />} key={GameDetailsRoute.id}/>\r\n            <Route path=\"/games\" exact element={<MyGamesRoute />} key={MyGamesRoute.id}/>\r\n            \r\n            <Route path=\"/draw\" exact element={<Draw />} key={Draw.id}/>\r\n            <Route path=\"/settings\" exact element={<MySettings user={user}/>} key={MySettings.id}/>\r\n\r\n            <Route path=\"/host/:gameId/questions/pending\" element={<PendingQuestionRoute/>} key={PendingQuestionRoute.id}/>\r\n            <Route path=\"/host/:gameId/questions/current\" element={<CurrentQuestionRoute />} key={CurrentQuestionRoute.id}/>\r\n            <Route path=\"/host/:gameId/results/final\" element={<FinalResultsRoute />} key={FinalResultsRoute.id}/>\r\n            <Route path=\"/host/:gameId/results/:questionId\" element={<QuestionResultsRoute />} key={QuestionResultsRoute.id}/>\r\n          </Routes>\r\n        </div>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n//import * as serviceWorker from './serviceWorker';\r\nimport 'semantic-ui-css/semantic.min.css'\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n//serviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hero_heading\":\"styles_hero_heading__1pfyu\",\"small_note\":\"styles_small_note__Xgoyt\",\"nomal_text\":\"styles_nomal_text__1MUKj\"};"],"sourceRoot":""}